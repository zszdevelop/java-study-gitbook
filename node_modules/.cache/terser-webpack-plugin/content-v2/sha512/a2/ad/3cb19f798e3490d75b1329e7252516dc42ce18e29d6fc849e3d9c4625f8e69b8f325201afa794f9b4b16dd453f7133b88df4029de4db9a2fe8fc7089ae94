{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[258],{1147:function(e,a,t){\"use strict\";t.r(a);var s=t(42),r=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[t(\"h1\",{attrs:{id:\"vuejs中引入图片路径的几种方式\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#vuejs中引入图片路径的几种方式\"}},[e._v(\"#\")]),e._v(\" Vuejs中引入图片路径的几种方式\")]),e._v(\" \"),t(\"h2\",{attrs:{id:\"_1-vue中静态资源的引入机制\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-vue中静态资源的引入机制\"}},[e._v(\"#\")]),e._v(\" 1. vue中静态资源的引入机制\")]),e._v(\" \"),t(\"blockquote\",[t(\"p\",[e._v(\"Vue.js关于静态资源的\"),t(\"a\",{attrs:{href:\"https://cli.vuejs.org/zh/guide/html-and-static-assets.html#%E5%A4%84%E7%90%86%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"官方文档\"),t(\"OutboundLink\")],1)])]),e._v(\" \"),t(\"p\",[e._v(\"静态资源可以通过两种方式进行处理：\")]),e._v(\" \"),t(\"ol\",[t(\"li\",[e._v(\"在 JavaScript 被导入或在 template/CSS 中通过相对路径(以 . 开头)被引用。这类引用会被 webpack 处理。\\n\"),t(\"ul\",[t(\"li\",[e._v(\"诸如 \"),t(\"code\",[e._v('<img src=\"...\">')]),e._v(\"、\"),t(\"code\",[e._v(\"background: url(...)\")]),e._v(\" 和 \"),t(\"code\",[e._v(\"CSS @import\")]),e._v(\" 的资源\\n\"),t(\"ul\",[t(\"li\",[e._v(\"写在 template 中内联 style 的 \"),t(\"code\",[e._v(\"background: url(...)\")]),e._v(\" 样式，在当前版本的测试中，即使使用了相对路径也不会被webpack处理\")])])]),e._v(\" \"),t(\"li\",[e._v(\"例如，\"),t(\"code\",[e._v(\"url(./image.png)\")]),e._v(\" 会被翻译为 \"),t(\"code\",[e._v(\"require('./image.png')\")])])])]),e._v(\" \"),t(\"li\",[e._v(\"放置在 \"),t(\"code\",[e._v(\"public\")]),e._v(\" 目录下或通过绝对路径被引用。这类资源将会直接被拷贝，而不会经过 webpack 的处理，你需要通过绝对路径来引用它们。\\n\"),t(\"ul\",[t(\"li\",[e._v(\"如果 URL 是一个绝对路径，例如 \"),t(\"code\",[e._v(\"/images/foo.png\")]),e._v(\" ，它将会被保留不变。\")])])])]),e._v(\" \"),t(\"h2\",{attrs:{id:\"_2-目录结构\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-目录结构\"}},[e._v(\"#\")]),e._v(\" 2. 目录结构\")]),e._v(\" \"),t(\"blockquote\",[t(\"p\",[e._v(\"vue-path/\\n----- public/\\n-------- images/\\n------------ XX.jpg\\n----- src/\\n-------- assets/\\n------------ images/\\n---------------- XX.jpg\\n-------- App.vue\\n...\")])]),e._v(\" \"),t(\"h2\",{attrs:{id:\"_3-引入示例\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-引入示例\"}},[e._v(\"#\")]),e._v(\" 3. 引入示例\")]),e._v(\" \"),t(\"p\",[t(\"code\",[e._v(\"App.vue\")]),e._v(\":\")]),e._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[t(\"strong\",[e._v(\"√\")])]),e._v(\" \"),t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[e._v('<img src=\"./assets/images/01.jpg\" alt=\"\"> // √\\n// 编译后:\\n<img src=\"/img/01.f0cfc21d.jpg\" alt=\"\">\\n')])])]),t(\"p\",[e._v(\"常见的引入方式，路径是固定的字符串，图片会被webpack处理，文件若丢失会直接在编译时报错，生成的文件包含了哈希值\")])]),e._v(\" \"),t(\"li\",[t(\"p\",[t(\"strong\",[e._v(\"×\")])]),e._v(\" \"),t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[e._v('<img :src=\"\\'./assets/images/02.jpg\\'\" alt=\"\"> // ×\\n// 编译后:\\n<img src=\"./assets/images/02.jpg\" alt=\"\">\\n')])])]),t(\"p\",[e._v(\"错误的引入方式，使用\"),t(\"code\",[e._v(\":src\")]),e._v(\"调用了\"),t(\"code\",[e._v(\"v-bind\")]),e._v(\"指令处理其内容，相对路径不会被webpack的\"),t(\"code\",[e._v(\"file-loader\")]),e._v(\"处理\")])]),e._v(\" \"),t(\"li\",[t(\"p\",[t(\"strong\",[e._v(\"√\")])]),e._v(\" \"),t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[e._v('<img :src=\"require(\\'./assets/images/03.jpg\\')\" alt=\"\"> // √\\n<img :src=\"require(\\'./assets/images/\\'+ this.imgName +\\'.jpg\\')\" alt=\"\"> // √\\n<img :src=\"img3\" alt=\"\"> // √\\n<script>\\nexport default:{\\n    data(){\\n        return {\\n          imgName:\\'03.jpg\\',\\n          img3:require(\\'./assets/images/03.jpg\\'),\\n        }\\n      },\\n}\\n<\\/script>\\n// 编译后:\\n<img src=\"/img/03.ea62525c.jpg\" alt=\"\">\\n')])])]),t(\"p\",[e._v(\"当路径的文件名需要拼接变量的时候，可使用 \"),t(\"code\",[e._v(\"require()\")]),e._v(\" 引入，在 template 的\"),t(\"code\",[e._v(\":src\")]),e._v(\" 或者 script 的 \"),t(\"code\",[e._v(\"data\")]),e._v(\" \"),t(\"code\",[e._v(\"computed\")]),e._v(\" 中都可以进行 \"),t(\"code\",[e._v(\"require\")]),e._v(\" 引入或拼接\")])]),e._v(\" \"),t(\"li\",[t(\"p\",[t(\"strong\",[e._v(\"×\")])]),e._v(\" \"),t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[e._v('<img src=\"/images/04.jpg\" alt=\"\"> // -\\n// 编译后:\\n<img src=\"/images/04.jpg\" alt=\"\">\\n')])])]),t(\"p\",[e._v(\"用绝对路径引入时，路径读取的是public文件夹中的资源，任何放置在 \"),t(\"code\",[e._v(\"public\")]),e._v(\" 文件夹的静态资源都会被简单的复制到编译后的目录中，而不经过 webpack特殊处理。\\n当你的应用被部署在一个域名的根路径上时，比如\"),t(\"code\",[e._v(\"http://www.abc.com/\")]),e._v(\"，此时这种引入方式可以正常显示\\n但是如果你的应用没有部署在域名的根部，那么你需要为你的 URL 配置 publicPath 前缀\\n\"),t(\"code\",[e._v(\"publicPath\")]),e._v(\" 是部署应用包时的基本 URL，在 \"),t(\"code\",[e._v(\"vue.config.js\")]),e._v(\" 中进行配置，详情参阅\"),t(\"a\",{attrs:{href:\"https://cli.vuejs.org/zh/config/#publicpath\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"官方文档\"),t(\"OutboundLink\")],1)])]),e._v(\" \"),t(\"li\",[t(\"p\",[e._v(\"√**\")]),e._v(\" \"),t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[e._v('<img :src=\"this.publicPath + \\'images/05.jpg\\'\" alt=\"\"> // √\\n// 编译后:\\n<img src=\"/foo/images/05.jpg\" alt=\"\">\\n<script>\\nexport default:{\\n    data(){\\n        return {\\n          publicPath: process.env.BASE_URL,\\n        }\\n    },\\n}\\n<\\/script>\\n')])])]),t(\"p\",[e._v(\"vue.config.js中:\")]),e._v(\" \"),t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[e._v(\"//vue.config.js\\nmodule.exports = {\\n    publicPath:'/foo/',\\n    ...\\n}\\n\")])])]),t(\"p\",[e._v(\"引入publicPath并且将其拼接在路径中，实现引入路径的动态变动\")])])]),e._v(\" \"),t(\"h2\",{attrs:{id:\"参考文章\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参考文章\"}},[e._v(\"#\")]),e._v(\" 参考文章\")]),e._v(\" \"),t(\"p\",[t(\"a\",{attrs:{href:\"https://segmentfault.com/a/1190000019495695\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Vue.js中引入图片路径的几种方式\"),t(\"OutboundLink\")],1)])])}),[],!1,null,null,null);a.default=r.exports}}]);","extractedComments":[]}