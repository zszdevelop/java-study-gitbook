{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1101:function(a,s,t){\"use strict\";t.r(s);var e=t(42),_=Object(e.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":a.$parent.slotKey}},[e(\"h1\",{attrs:{id:\"dns域名解析\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#dns域名解析\"}},[a._v(\"#\")]),a._v(\" DNS域名解析\")]),a._v(\" \"),e(\"h2\",{attrs:{id:\"_1-dns是什么\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-dns是什么\"}},[a._v(\"#\")]),a._v(\" 1. DNS是什么？\")]),a._v(\" \"),e(\"p\",[a._v(\"DNS（Domain Namo System，域名解析系统）的作用非常简单，就是根据\"),e(\"strong\",[a._v(\"域名查出ip地址\")]),a._v(\"（可以想象成一本巨大的电话本）\")]),a._v(\" \"),e(\"p\",[a._v(\"例如：你要访问\"),e(\"code\",[a._v(\"www.baidu.com\")]),a._v(\" 那么首先要通过DNS查出他的ip地址是14.215.177.38\")]),a._v(\" \"),e(\"h2\",{attrs:{id:\"_2-查询过程\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-查询过程\"}},[a._v(\"#\")]),a._v(\" 2. 查询过程\")]),a._v(\" \"),e(\"p\",[a._v(\"虽然只需要返回一个IP地址，但是DNS的查询过程非常复杂，分成多个步骤\")]),a._v(\" \"),e(\"p\",[a._v(\"dig命令可以显示整个查询过程,在终端输入\")]),a._v(\" \"),e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[a._v(\"dig www.baidu.com\\n\")])])]),e(\"p\",[a._v(\"会输出以下内容\")]),a._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:t(453),alt:\"image-20190824211111182\"}})]),a._v(\" \"),e(\"ul\",[e(\"li\",[a._v(\"第一段是查询参数和统计\")])]),a._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:t(454),alt:\"image-20190824211248412\"}})]),a._v(\" \"),e(\"ul\",[e(\"li\",[a._v(\"第二段是查询内容\")])]),a._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:t(455),alt:\"image-20190824211311373\"}})]),a._v(\" \"),e(\"p\",[a._v(\"上面的结果表示，查询域名\"),e(\"code\",[a._v(\"www.baidu.com\")]),a._v(\" 的A记录，A是address的缩写\")]),a._v(\" \"),e(\"ul\",[e(\"li\",[e(\"p\",[a._v(\"第三段是DNS服务器的答复\")]),a._v(\" \"),e(\"p\",[e(\"code\",[a._v(\"www.baidu.com\")]),a._v(\"被cname到了\"),e(\"code\",[a._v(\"www.a.shifen.com\")])])])]),a._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:t(456),alt:\"image-20190824211459211\"}})]),a._v(\" \"),e(\"p\",[a._v(\"上面的结果显示，\"),e(\"code\",[a._v(\"www.baidu.com\")]),a._v(\" 有三个A记录，既三个ip地址。600是TTL值（Time to live的缩写），表示缓存时间，既600秒之内不用重新查询\")]),a._v(\" \"),e(\"ul\",[e(\"li\",[a._v(\"第四段显示\"),e(\"code\",[a._v(\"www.a.shifen.com\")]),a._v(\" 的NS记录（Name Service），既哪些服务器负责管路\"),e(\"code\",[a._v(\"www.a.shifen.com\")]),a._v(\" 的DNS记录\")])]),a._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:t(457),alt:\"image-20190824211915750\"}})]),a._v(\" \"),e(\"p\",[a._v(\"上面的结果显示a.shifen.com共有五条NS记录，既五域名服务器，向其中任一台查询都能知道a.shifen.com 的ip地址是什么\")]),a._v(\" \"),e(\"ul\",[e(\"li\",[a._v(\"第五段是上面5个域名服务器的ip地址，这是随着前一段一起返回的\")])]),a._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:t(458),alt:\"image-20190824212924233\"}})]),a._v(\" \"),e(\"ul\",[e(\"li\",[a._v(\"第六段是dns服务器的一些传输信息\")])]),a._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:t(459),alt:\"image-20190824213456662\"}})]),a._v(\" \"),e(\"p\",[a._v(\"上面的结果显示，本机的DNS服务器是218.168.1.253，查询端口是53（dns服务器的默认端口），以及回应长度是260字节\")]),a._v(\" \"),e(\"h3\",{attrs:{id:\"_2-1-简化-short\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-1-简化-short\"}},[a._v(\"#\")]),a._v(\" 2.1 简化+short\")]),a._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:t(460),alt:\"image-20190824213808554\"}})]),a._v(\" \"),e(\"p\",[a._v(\"上面命令值返回\"),e(\"code\",[a._v(\"www.baidu.com\")]),a._v(\" 对应的3个ip地址\")]),a._v(\" \"),e(\"h2\",{attrs:{id:\"_3-dns-的记录类型\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-dns-的记录类型\"}},[a._v(\"#\")]),a._v(\" 3.DNS 的记录类型\")]),a._v(\" \"),e(\"p\",[a._v(\"域名和IP之间的对应关系，称为“记录”（record），根据使用场景，记录可以分成不同类型（type）\")]),a._v(\" \"),e(\"p\",[a._v(\"常见的DNS记录类型如下\")]),a._v(\" \"),e(\"ul\",[e(\"li\",[a._v(\"A：地址记录（Address），返回的域名指向ip地址\")]),a._v(\" \"),e(\"li\",[a._v(\"NS:域名服务器记录（Name Service），返回保存下一级域名信息的服务器地址。该记录只能设置为域名，不能设置为IP地址\")]),a._v(\" \"),e(\"li\",[a._v(\"MX:邮件记录（Mail eXchange），返回接收电子邮件的服务器地址\")]),a._v(\" \"),e(\"li\",[a._v(\"CNAME:规范名称记录（Canonical Name）,返回另一个域名，既当前查询的域名是另一个域名的调整。（例如百度）\")]),a._v(\" \"),e(\"li\",[a._v(\"PTR:逆向查询记录（Pointer Record），只用于从IP地址查询域名\")])]),a._v(\" \"),e(\"h3\",{attrs:{id:\"_3-1-cname\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-1-cname\"}},[a._v(\"#\")]),a._v(\" 3.1 CNAME\")]),a._v(\" \"),e(\"p\",[a._v(\"CNAME 记录主要用于域名的内部跳转，为服务器配置提供灵活性，用户感知不到。\")]),a._v(\" \"),e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[a._v(\"dig www.baidu.com\\n\\n; <<>> DiG 9.8.3-P1 <<>> www.baidu.com\\n...\\n;; ANSWER SECTION:\\nwww.baidu.com.\\t\\t600\\tIN\\tCNAME\\twww.a.shifen.com.\\nwww.a.shifen.com.\\t600\\tIN\\tA\\t14.215.177.39\\nwww.a.shifen.com.\\t600\\tIN\\tA\\t14.215.177.38\\n\")])])]),e(\"p\",[a._v(\"上面的结果显示，\"),e(\"code\",[a._v(\"www.baidu.com\")]),a._v(\" 的cname 记录指向的是\"),e(\"code\",[a._v(\"www.a.shifen.com\")]),a._v(\".也就是说用户查询\"),e(\"code\",[a._v(\"www.baidu.com\")]),a._v(\" 的时候，实际上返回的是\"),e(\"code\",[a._v(\"www.a.shifen.com\")]),a._v(\" 的ip地址。\")]),a._v(\" \"),e(\"p\",[e(\"strong\",[a._v(\"好处\")])]),a._v(\" \"),e(\"p\",[a._v(\"变更服务器ip地址的时候，只要修改\"),e(\"code\",[a._v(\"www.a.shifen.com\")]),a._v(\" 这个域名就可以了，用户的\"),e(\"code\",[a._v(\"www.baidu.com\")]),a._v(\"域名不用修改\")]),a._v(\" \"),e(\"h2\",{attrs:{id:\"_4-其他dns-工具\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-其他dns-工具\"}},[a._v(\"#\")]),a._v(\" 4.其他DNS 工具\")]),a._v(\" \"),e(\"h3\",{attrs:{id:\"_4-1-host命令\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-1-host命令\"}},[a._v(\"#\")]),a._v(\" 4.1 host命令\")]),a._v(\" \"),e(\"p\",[a._v(\"host命令可以看作dig命令的简化版本，返回当前请求域名的各种记录\")]),a._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:t(461),alt:\"image-20190824220258126\"}})]),a._v(\" \"),e(\"h3\",{attrs:{id:\"_4-2-nslookup命令\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-2-nslookup命令\"}},[a._v(\"#\")]),a._v(\" 4.2 nslookup命令\")]),a._v(\" \"),e(\"p\",[a._v(\"nslookup命令用于互动式的查询域名记录\")]),a._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:t(462),alt:\"image-20190824220446036\"}})]),a._v(\" \"),e(\"p\",[a._v(\"也可以直接过滤出cname\")]),a._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:t(463),alt:\"image-20190824221338613\"}})]),a._v(\" \"),e(\"h3\",{attrs:{id:\"_4-3-whois-命令\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-3-whois-命令\"}},[a._v(\"#\")]),a._v(\" 4.3 whois 命令\")]),a._v(\" \"),e(\"p\",[a._v(\"whois 命令用来查看域名的注册情况\")]),a._v(\" \"),e(\"div\",{staticClass:\"language-bash extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[e(\"code\",[a._v(\"whois github.com\\n\")])])]),e(\"h3\",{attrs:{id:\"关于上文出现的218-85-152-99是我本机设置的dns地址\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#关于上文出现的218-85-152-99是我本机设置的dns地址\"}},[a._v(\"#\")]),a._v(\" 关于上文出现的218.85.152.99是我本机设置的dns地址\")]),a._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:t(464),alt:\"image-20190824220945022\"}})]),a._v(\" \"),e(\"h2\",{attrs:{id:\"参考博客\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参考博客\"}},[a._v(\"#\")]),a._v(\" 参考博客\")]),a._v(\" \"),e(\"p\",[e(\"a\",{attrs:{href:\"http://www.ruanyifeng.com/blog/2016/06/dns.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a._v(\"DNS 原理入门\"),e(\"OutboundLink\")],1)])])}),[],!1,null,null,null);s.default=_.exports},453:function(a,s,t){a.exports=t.p+\"assets/img/image-20190824211111182.2a59807f.png\"},454:function(a,s,t){a.exports=t.p+\"assets/img/image-20190824211248412.1658d6af.png\"},455:function(a,s,t){a.exports=t.p+\"assets/img/image-20190824211311373.01bcf336.png\"},456:function(a,s,t){a.exports=t.p+\"assets/img/image-20190824211459211.d2a92f62.png\"},457:function(a,s,t){a.exports=t.p+\"assets/img/image-20190824211915750.045e5abe.png\"},458:function(a,s,t){a.exports=t.p+\"assets/img/image-20190824212924233.0ff0f3cc.png\"},459:function(a,s,t){a.exports=t.p+\"assets/img/image-20190824213456662.585658c7.png\"},460:function(a,s,t){a.exports=t.p+\"assets/img/image-20190824213808554.75454d57.png\"},461:function(a,s,t){a.exports=t.p+\"assets/img/image-20190824220258126.730e0672.png\"},462:function(a,s,t){a.exports=t.p+\"assets/img/image-20190824220446036.e1fb0750.png\"},463:function(a,s,t){a.exports=t.p+\"assets/img/image-20190824221338613.5614d7ec.png\"},464:function(a,s,t){a.exports=t.p+\"assets/img/image-20190824220945022.3d790115.png\"}}]);","extractedComments":[]}