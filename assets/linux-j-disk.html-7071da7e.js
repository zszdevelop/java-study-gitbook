import{_ as e,W as a,X as i,a0 as n}from"./framework-0cf5f349.js";const s={},d=n(`<h1 id="linux磁盘监控" tabindex="-1"><a class="header-anchor" href="#linux磁盘监控" aria-hidden="true">#</a> Linux磁盘监控</h1><h2 id="_1-简介" tabindex="-1"><a class="header-anchor" href="#_1-简介" aria-hidden="true">#</a> 1. 简介</h2><p>linux磁盘监控命令主要有，df，iostat,iotop</p><h2 id="_2-监控命令" tabindex="-1"><a class="header-anchor" href="#_2-监控命令" aria-hidden="true">#</a> 2. 监控命令</h2><h3 id="_2-1-df" tabindex="-1"><a class="header-anchor" href="#_2-1-df" aria-hidden="true">#</a> 2.1 df</h3><h4 id="_2-1-1-简介" tabindex="-1"><a class="header-anchor" href="#_2-1-1-简介" aria-hidden="true">#</a> 2.1.1 简介</h4><p>df命令 用于显示磁盘分区上的可使用的磁盘空间。如果没有文件名被指定，则显示当前所有被挂载的文件系统，默认以 KB 为单位。</p><h4 id="_2-1-2-语法" tabindex="-1"><a class="header-anchor" href="#_2-1-2-语法" aria-hidden="true">#</a> 2.1.2 语法：</h4><div class="language-erlang line-numbers-mode" data-ext="erlang"><pre class="language-erlang"><code><span class="token atom">df</span> <span class="token punctuation">(</span>选项<span class="token punctuation">)</span> <span class="token punctuation">(</span>参数<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>选项： <code>-a</code> 全部文件系统列表 <code>-h</code> 以方便阅读的方式显示 <code>-i</code> 显示inode信息 <code>-T</code> 显示文件系统类型 <code>-l</code> 只显示本地文件系统 <code>-k</code> 以KB为单位 <code>-m</code> 以MB为单位</p><p>参数：</p><ul><li>文件：指定文件系统上的文件。</li></ul><h4 id="_2-1-3-示例" tabindex="-1"><a class="header-anchor" href="#_2-1-3-示例" aria-hidden="true">#</a> 2.1.3 示例</h4><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220401145602336.png" alt="image-20220401145602336" tabindex="0" loading="lazy"><figcaption>image-20220401145602336</figcaption></figure><h4 id="_2-1-4-tldr-中的介绍" tabindex="-1"><a class="header-anchor" href="#_2-1-4-tldr-中的介绍" aria-hidden="true">#</a> 2.1.4 tldr 中的介绍</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code> <span class="token function">df</span>

  Gives an overview of the filesystem disk space usage.
  概述了文件系统磁盘空间的使用情况。
  More information: https://www.gnu.org/software/coreutils/df.

  - Display all filesystems and their disk usage:
  	显示所有文件系统及其磁盘使用情况:
    <span class="token function">df</span>

  - Display all filesystems and their disk usage <span class="token keyword">in</span> human readable form:
  	以人类可读的形式显示所有文件系统及其磁盘使用情况:
    <span class="token function">df</span> <span class="token parameter variable">-h</span>

  - Display the filesystem and its disk usage containing the given <span class="token function">file</span> or directory:
  	显示包含指定文件或目录的文件系统及其磁盘使用情况:
    <span class="token function">df</span> path/to/file_or_directory

  - Display statistics on the number of <span class="token function">free</span> inodes:
    <span class="token function">df</span> <span class="token parameter variable">-i</span>

  - Display filesystems but exclude the specified types:
    <span class="token function">df</span> <span class="token parameter variable">-x</span> squashfs <span class="token parameter variable">-x</span> tmpfs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-iostat" tabindex="-1"><a class="header-anchor" href="#_2-2-iostat" aria-hidden="true">#</a> 2.2 iostat</h3><h4 id="_2-2-1-简介" tabindex="-1"><a class="header-anchor" href="#_2-2-1-简介" aria-hidden="true">#</a> 2.2.1 简介</h4><p>iostat命令 被用于监视系统输入输出设备和CPU的使用情况。</p><h4 id="_2-2-2-语法" tabindex="-1"><a class="header-anchor" href="#_2-2-2-语法" aria-hidden="true">#</a> 2.2.2 语法：</h4><div class="language-erlang line-numbers-mode" data-ext="erlang"><pre class="language-erlang"><code><span class="token atom">iostat</span> <span class="token punctuation">(</span>选项<span class="token punctuation">)</span> <span class="token punctuation">(</span>参数<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>选项： <code>-c</code>：仅显示CPU使用情况； <code>-d</code>：仅显示设备利用率； <code>-k</code>：显示状态以千字节每秒为单位，而不使用块每秒； <code>-m</code>：显示状态以兆字节每秒为单位； <code>-p</code>：仅显示块设备和所有被使用的其他分区的状态； <code>-t</code>：显示每个报告产生时的时间； <code>-V</code>：显示版号并退出； <code>-x</code>：显示扩展状态。</p><p>参数：</p><ul><li>间隔时间：每次报告的间隔时间（秒）；</li><li>次数：显示报告的次数。</li></ul><h4 id="_2-2-3-字段说明" tabindex="-1"><a class="header-anchor" href="#_2-2-3-字段说明" aria-hidden="true">#</a> 2.2.3 字段说明：</h4><ul><li><code>r/s</code>: 每秒完成的读 I/O 设备次数。</li><li><code>w/s</code>: 每秒完成的写 I/O 设备次数。</li><li><code>rkB/s</code>: 每秒读K字节数.是 rsect/s 的一半,因为每扇区大小为512字节。</li><li><code>wkB/s</code>: 每秒写K字节数.是 wsect/s 的一半。</li><li><code>avgrq-sz</code>: 平均每次设备I/O操作的数据大小 (扇区)。</li><li><code>avgqu-sz</code>: 平均I/O队列长度。</li><li><code>await</code>: 平均每次设备I/O操作的等待时间 (毫秒)。</li><li><code>svctm</code>: 平均每次设备I/O操作的服务时间 (毫秒)。</li><li><code>%util</code>: 一秒中有百分之多少的时间用于 I/O 操作,或者说一秒中有多少时间 I/O 队列是非空的。</li></ul><h4 id="_2-2-4-示例" tabindex="-1"><a class="header-anchor" href="#_2-2-4-示例" aria-hidden="true">#</a> 2.2.4 示例</h4><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220401145950590.png" alt="image-20220401145950590" tabindex="0" loading="lazy"><figcaption>image-20220401145950590</figcaption></figure><h3 id="_2-3-iotop" tabindex="-1"><a class="header-anchor" href="#_2-3-iotop" aria-hidden="true">#</a> 2.3 . iotop</h3><blockquote><p>centos没有该命名</p></blockquote><h4 id="_2-3-1-简介" tabindex="-1"><a class="header-anchor" href="#_2-3-1-简介" aria-hidden="true">#</a> 2.3.1 简介</h4><p>iotop命令 是一个用来监视磁盘I/O使用状况的top类工具。</p><p>iotop具有与top相似的UI，其中包括PID、用户、I/O、进程等相关信息。Linux下的IO统计工具如iostat，nmon等大多数是只能统计到per设备的读写情况，如果你想知道每个进程是如何使用IO的就比较麻烦，使用iotop命令可以很方便的查看。</p><h4 id="_2-3-2-语法" tabindex="-1"><a class="header-anchor" href="#_2-3-2-语法" aria-hidden="true">#</a> 2.3.2 语法：</h4><div class="language-erlang line-numbers-mode" data-ext="erlang"><pre class="language-erlang"><code><span class="token atom">iotop</span> <span class="token punctuation">(</span>选项<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>选项： <code>-o</code>：只显示有io操作的进程 <code>-b</code>：批量显示，无交互，主要用作记录到文件。 <code>-n</code>： NUM：显示NUM次，主要用于非交互式模式。 <code>-d SEC</code>：间隔SEC秒显示一次。 <code>-p PID</code>：监控的进程pid。 <code>-u USER</code>：监控的进程用户。</p><h4 id="_2-3-3-iotop常用快捷键" tabindex="-1"><a class="header-anchor" href="#_2-3-3-iotop常用快捷键" aria-hidden="true">#</a> 2.3.3 iotop常用快捷键：</h4><ul><li>左右箭头：改变排序方式，默认是按IO排序。</li><li>r：改变排序顺序。</li><li>o：只显示有IO输出的进程。</li><li>p：进程/线程的显示方式的切换。</li><li>a：显示累积使用量。</li><li>q：退出。</li></ul><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220401150415728.png" alt="image-20220401150415728" tabindex="0" loading="lazy"><figcaption>image-20220401150415728</figcaption></figure>`,39),l=[d];function c(o,t){return a(),i("div",null,l)}const p=e(s,[["render",c],["__file","linux-j-disk.html.vue"]]);export{p as default};
