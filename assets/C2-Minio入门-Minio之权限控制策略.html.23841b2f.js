import { r as resolveComponent, o as openBlock, c as createElementBlock, a as createBaseVNode, b as createVNode, e as createStaticVNode, d as createTextVNode } from "./app.72d9fd95.js";
import { _ as _export_sfc } from "./plugin-vue_export-helper.21dcd24c.js";
const _sfc_main = {};
const _hoisted_1 = /* @__PURE__ */ createStaticVNode('<h1 id="minio\u5165\u95E8-minio\u4E4B\u6743\u9650\u63A7\u5236\u7B56\u7565" tabindex="-1"><a class="header-anchor" href="#minio\u5165\u95E8-minio\u4E4B\u6743\u9650\u63A7\u5236\u7B56\u7565" aria-hidden="true">#</a> Minio\u5165\u95E8-Minio\u4E4B\u6743\u9650\u63A7\u5236\u7B56\u7565</h1><h2 id="_1-\u524D\u8A00" tabindex="-1"><a class="header-anchor" href="#_1-\u524D\u8A00" aria-hidden="true">#</a> 1. \u524D\u8A00</h2><blockquote><p>\u534E\u4E3A\u4E91OBS \u548C\u5176\u4ED6\u4EA7\u5546\u7684OSS \u90FD\u662F\u4E00\u4E2A\u4E1C\u897F\uFF0C\u5BF9\u8C61\u5B58\u50A8</p></blockquote><blockquote><p>ACL(Access Control List ): \u8BBF\u95EE\u63A7\u5236\u5217\u8868\uFF08ACL\uFF09</p></blockquote><p>\u672C\u6BB5\u6587\u7AE0\u6765\u6E90\u4E8E\u534E\u4E3A\u4E91OBS\uFF0C\u56E0\u4E3A\u90FD\u662FS3\u6807\u51C6\u7684\u5BF9\u8C61\u5B58\u50A8\uFF0C\u6240\u4EE5\u5F88\u591A\u6982\u5FF5\u548CMinio\u662F\u76F8\u901A\u7684\u3002</p><h3 id="_1-1-\u4E3A\u4EC0\u4E48\u8981\u8FDB\u884C\u8BBF\u95EE\u6743\u9650\u63A7\u5236-\u534E\u4E3Aobs" tabindex="-1"><a class="header-anchor" href="#_1-1-\u4E3A\u4EC0\u4E48\u8981\u8FDB\u884C\u8BBF\u95EE\u6743\u9650\u63A7\u5236-\u534E\u4E3Aobs" aria-hidden="true">#</a> 1.1 \u4E3A\u4EC0\u4E48\u8981\u8FDB\u884C\u8BBF\u95EE\u6743\u9650\u63A7\u5236\uFF08\u534E\u4E3AOBS\uFF09</h3><p>\u4E3A\u4FDD\u8BC1\u5B58\u50A8\u5728SSO\u4E2D\u6570\u636E\u7684\u5B89\u5168\u6027\uFF0CSSO\u8D44\u6E90\uFF08\u6876\u548C\u5BF9\u8C61\uFF09\u9ED8\u8BA4\u4E3A\u79C1\u6709\uFF0C\u53EA\u6709\u8D44\u6E90\u62E5\u6709\u8005\u53EF\u4EE5\u8BBF\u95EE\u3002</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723215329125.png" alt="image-20220723215329125"></p><p>\u5982\u679C\u8981\u5141\u8BB8\u4ED6\u4EBA\u8BBF\u95EE\u548C\u4F7F\u7528\u81EA\u5DF1\u7684SSO\u8D44\u6E90\uFF0C\u53EF\u4EE5\u8BBE\u7F6E\u8BBF\u95EE\u6743\u9650\u63A7\u5236\u7B56\u7565\uFF0C\u5411\u4ED6\u4EBA\u6388\u4E88\u6307\u5B9A\u8D44\u6E90\u7684\u7279\u5B9A\u6743\u9650\u3002</p><h3 id="_1-2-\u8BBF\u95EE\u6743\u9650\u63A7\u5236\u7684\u5178\u578B\u573A\u666F-\u534E\u4E3Aobs" tabindex="-1"><a class="header-anchor" href="#_1-2-\u8BBF\u95EE\u6743\u9650\u63A7\u5236\u7684\u5178\u578B\u573A\u666F-\u534E\u4E3Aobs" aria-hidden="true">#</a> 1.2 \u8BBF\u95EE\u6743\u9650\u63A7\u5236\u7684\u5178\u578B\u573A\u666F\uFF08\u534E\u4E3AOBS\uFF09</h3><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723215427075.png" alt="image-20220723215427075"></p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723215435149.png" alt="image-20220723215435149"></p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723215448794.png" alt="image-20220723215448794"></p><h3 id="_1-3-obs\u5982\u4F55\u8FDB\u884C\u8BBF\u95EE\u6743\u9650\u63A7\u5236-\u534E\u4E3Aobs" tabindex="-1"><a class="header-anchor" href="#_1-3-obs\u5982\u4F55\u8FDB\u884C\u8BBF\u95EE\u6743\u9650\u63A7\u5236-\u534E\u4E3Aobs" aria-hidden="true">#</a> 1.3 OBS\u5982\u4F55\u8FDB\u884C\u8BBF\u95EE\u6743\u9650\u63A7\u5236\uFF08\u534E\u4E3AOBS\uFF09</h3><p>OBS\u63D0\u4F9B\u4E30\u5BCC\u7075\u6D3B\u7684\u8BBF\u95EE\u6743\u9650\u63A7\u5236\u624B\u6BB5\uFF0C\u6EE1\u8DB3\u4E0D\u540C\u573A\u666F\u4E0B\u7684\u6388\u6743\u9700\u6C42\u3002</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723215518369.png" alt="image-20220723215518369"></p><h2 id="_2-iam\u7528\u6237\u6743\u9650\u63A7\u5236" tabindex="-1"><a class="header-anchor" href="#_2-iam\u7528\u6237\u6743\u9650\u63A7\u5236" aria-hidden="true">#</a> 2. IAM\u7528\u6237\u6743\u9650\u63A7\u5236</h2><blockquote><p>IAM\u662F Identity and Access Management \u7684\u7F29\u5199\uFF0C\u5373\u8EAB\u4EFD\u4E0E\u8BBF\u95EE\u7BA1\u7406\uFF0C\u6216\u79F0\u4E3A\u8EAB\u4EFD\u7BA1\u7406\u4E0E\u8BBF\u95EE\u63A7\u5236\u3002</p></blockquote><p>\u76F8\u5BF9\u6BD4\u963F\u91CC\u4E91SSO\u3001\u534E\u4E3A\u4E91OBS\uFF0CMinio\u6743\u9650\u53CA\u5B89\u5168\u7BA1\u7406\uFF0C\u6CA1\u6709\u63D0\u4F9B\u7279\u522B\u591A\u7684\u529F\u80FD\uFF0C\u6BD5\u7ADF\u662F\u5F00\u6E90\u7684\uFF0C\u4F46\u662F\u5BF9\u4E8E\u4E00\u822C\u5E94\u7528\u7A0B\u5E8F\uFF0C\u4E5F\u591F\u7528\u4E86\u3002</p><h3 id="_2-1-\u7528\u6237\u7BA1\u7406" tabindex="-1"><a class="header-anchor" href="#_2-1-\u7528\u6237\u7BA1\u7406" aria-hidden="true">#</a> 2.1 \u7528\u6237\u7BA1\u7406</h3><h4 id="_2-1-1-\u6DFB\u52A0\u7528\u6237\u53CA\u6743\u9650" tabindex="-1"><a class="header-anchor" href="#_2-1-1-\u6DFB\u52A0\u7528\u6237\u53CA\u6743\u9650" aria-hidden="true">#</a> 2.1.1 \u6DFB\u52A0\u7528\u6237\u53CA\u6743\u9650</h4><p>\u7528\u6237\u662F\u6743\u9650\u6700\u76F4\u63A5\u7684\u4F53\u73B0\uFF0CMinio\u63D0\u4F9B\u4E86\u7528\u6237\u7BA1\u7406\u529F\u80FD\uFF0C\u53EF\u4EE5\u5728\u63A7\u5236\u53F0\u76F4\u63A5\u6DFB\u52A0\u7528\u6237\u5BC6\u7801\uFF08\u5BC6\u7801\u6700\u5C11\u516B\u4F4D\uFF09\uFF0C\u53CA\u76F8\u5173\u6743\u9650\u3002</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723215838647.png" alt="image-20220723215838647"></p><h4 id="_2-1-2-\u7528\u6237\u5206\u7EC4\u7BA1\u7406" tabindex="-1"><a class="header-anchor" href="#_2-1-2-\u7528\u6237\u5206\u7EC4\u7BA1\u7406" aria-hidden="true">#</a> 2.1.2 \u7528\u6237\u5206\u7EC4\u7BA1\u7406</h4><p>\u5982\u679C\u6BCF\u4E2A\u7528\u6237\u90FD\u53BB\u7ED1\u5B9A\u4E00\u4E2A\u6743\u9650\u6BD4\u8F83\u9EBB\u70E6\uFF0Cminio\u63D0\u4F9B\u4E86\u5206\u7EC4\u7BA1\u7406\uFF0C\u4E5F\u53EF\u4EE5\u7406\u89E3\u4E3A\u89D2\u8272\uFF0C\u5206\u7EC4\u6DFB\u52A0\u591A\u4E2A\u6743\u9650\uFF0C\u7136\u540E\u7528\u6237\u6DFB\u52A0\u5230\u5206\u7EC4\u4E2D\uFF0C\u90FD\u53EF\u4EE5\u5177\u6709\u591A\u4E2A\u6743\u9650\u4E86\u3002</p><p>\u76F4\u63A5\u5728\u4E0B\u9762\u83DC\u5355\u521B\u5EFA\u5206\u7EC4\uFF1A</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723215919268.png" alt="image-20220723215919268"></p><p>\u6DFB\u52A0\u5206\u7EC4\u65F6\uFF0C\u53EF\u4EE5\u7ED1\u5B9A\u7528\u6237\uFF1A</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723215939690.png" alt="image-20220723215939690"></p><p>\u70B9\u51FB\u64CD\u4F5C\uFF0C\u53EF\u4EE5\u5BF9\u5F53\u524D\u5206\u7EC4\u6DFB\u52A0\u591A\u4E2A\u89D2\u8272\uFF1A</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723220008424.png" alt="image-20220723220008424"></p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723220020227.png" alt="image-20220723220020227"></p><h3 id="_2-2-iam\u6743\u9650" tabindex="-1"><a class="header-anchor" href="#_2-2-iam\u6743\u9650" aria-hidden="true">#</a> 2.2 IAM\u6743\u9650</h3><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u7BA1\u7406\u5458\u521B\u5EFA\u7684IAM\u7528\u6237\u6CA1\u6709\u4EFB\u4F55\u6743\u9650\uFF0C\u9700\u8981\u5C06\u5176\u52A0\u5165\u7528\u6237\u7EC4\uFF0C\u5E76\u7ED9\u7528\u6237\u7EC4\u6388\u4E88\u7B56\u7565\u548C\u89D2\u8272\uFF0C\u624D\u80FD\u4F7F\u5F97\u7528\u6237\u7EC4\u4E2D\u7684\u7528\u6237\u83B7\u5F97\u7B56\u7565\u5B9A\u4E49\u7684\u6743\u9650\uFF0C\u8FD9\u4E00\u8FC7\u7A0B\u79F0\u4E3A\u6388\u6743\u3002\u6388\u6743\u540E\uFF0C\u7528\u6237\u5C31\u53EF\u4EE5\u57FA\u4E8E\u88AB\u6388\u4E88\u7684\u6743\u9650\u5BF9\u670D\u52A1\u8FDB\u884C\u64CD\u4F5C\u3002</p><p>IAM\u6743\u9650\u4F5C\u7528\u4E8ESSO\u6240\u6709\u7684\u6876\u548C\u5BF9\u8C61\u3002\u5982\u679C\u8981\u6388\u4E88IAM\u7528\u6237\u64CD\u4F5CSSO\u8D44\u6E90\u7684\u6743\u9650\uFF0C\u5219\u9700\u8981\u5411IAM\u7528\u6237\u6240\u5C5E\u7684\u7528\u6237\u7EC4\u6388\u4E88\u4E00\u4E2A\u6216\u591A\u4E2ASSO\u6743\u9650\u3002</p><p>\u4E00\u822CSSO\u6839\u636E\u6388\u6743\u7CBE\u7EC6\u7A0B\u5EA6\u5206\u4E3A\u89D2\u8272\u548C\u7B56\u7565\u3002</p><ul><li>\u89D2\u8272\uFF08Minio\u4E2D\u8C8C\u4F3C\u6CA1\u6709\u89D2\u8272\uFF09\uFF1AIAM\u6700\u521D\u63D0\u4F9B\u7684\u4E00\u79CD\u6839\u636E\u7528\u6237\u7684\u5DE5\u4F5C\u804C\u80FD\u5B9A\u4E49\u6743\u9650\u7684\u7C97\u7C92\u5EA6\u6388\u6743\u673A\u5236\u3002\u8BE5\u673A\u5236\u4EE5\u670D\u52A1\u4E3A\u7C92\u5EA6\uFF0C\u63D0\u4F9B\u6709\u9650\u7684\u670D\u52A1\u76F8\u5173\u89D2\u8272\u7528\u4E8E\u6388\u6743\u3002\u7531\u4E8E\u534E\u4E3A\u4E91\u5404\u670D\u52A1\u4E4B\u95F4\u5B58\u5728\u4E1A\u52A1\u4F9D\u8D56\u5173\u7CFB\uFF0C\u56E0\u6B64\u7ED9\u7528\u6237\u6388\u4E88\u89D2\u8272\u65F6\uFF0C\u53EF\u80FD\u9700\u8981\u4E00\u5E76\u6388\u4E88\u4F9D\u8D56\u7684\u5176\u4ED6\u89D2\u8272\uFF0C\u624D\u80FD\u6B63\u786E\u5B8C\u6210\u4E1A\u52A1\u3002\u89D2\u8272\u5E76\u4E0D\u80FD\u6EE1\u8DB3\u7528\u6237\u5BF9\u7CBE\u7EC6\u5316\u6388\u6743\u7684\u8981\u6C42\uFF0C\u65E0\u6CD5\u5B8C\u5168\u8FBE\u5230\u4F01\u4E1A\u5BF9\u6743\u9650\u6700\u5C0F\u5316\u7684\u5B89\u5168\u7BA1\u63A7\u8981\u6C42\u3002</li><li>\u7B56\u7565\uFF08minio\u4E2D\u6709\uFF09\uFF1AIAM\u6700\u65B0\u63D0\u4F9B\u7684\u4E00\u79CD\u7EC6\u7C92\u5EA6\u6388\u6743\u7684\u80FD\u529B\uFF0C\u53EF\u4EE5\u7CBE\u786E\u5230\u5177\u4F53\u670D\u52A1\u7684\u64CD\u4F5C\u3001\u8D44\u6E90\u4EE5\u53CA\u8BF7\u6C42\u6761\u4EF6\u7B49\u3002\u57FA\u4E8E\u7B56\u7565\u7684\u6388\u6743\u662F\u4E00\u79CD\u66F4\u52A0\u7075\u6D3B\u7684\u6388\u6743\u65B9\u5F0F\uFF0C\u80FD\u591F\u6EE1\u8DB3\u4F01\u4E1A\u5BF9\u6743\u9650\u6700\u5C0F\u5316\u7684\u5B89\u5168\u7BA1\u63A7\u8981\u6C42\u3002\u4F8B\u5982\uFF1A\u9488\u5BF9SSO\u670D\u52A1\uFF0C\u7BA1\u7406\u5458\u80FD\u591F\u63A7\u5236IAM\u7528\u6237\u4EC5\u80FD\u5BF9\u67D0\u4E00\u4E2A\u6876\u8D44\u6E90\u8FDB\u884C\u6307\u5B9A\u7684\u7BA1\u7406\u64CD\u4F5C\u3002\u591A\u6570\u7EC6\u7C92\u5EA6\u7B56\u7565\u4EE5API\u63A5\u53E3\u4E3A\u7C92\u5EA6\u8FDB\u884C\u6743\u9650\u62C6\u5206\u3002</li></ul><h4 id="_2-2-1-\u7B56\u7565\u7ED3\u6784-\u8BED\u6CD5" tabindex="-1"><a class="header-anchor" href="#_2-2-1-\u7B56\u7565\u7ED3\u6784-\u8BED\u6CD5" aria-hidden="true">#</a> 2.2.1 \u7B56\u7565\u7ED3\u6784&amp;\u8BED\u6CD5</h4><p>\u7B56\u7565\u7ED3\u6784\u5305\u62EC\uFF1AVersion\uFF08\u7B56\u7565\u7248\u672C\u53F7\uFF09\u548CStatement\uFF08\u7B56\u7565\u6743\u9650\u8BED\u53E5\uFF09\uFF0C\u5176\u4E2DStatement\u53EF\u4EE5\u6709\u591A\u4E2A\uFF0C\u8868\u793A\u4E0D\u540C\u7684\u6388\u6743\u9879\u3002</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723220938897.png" alt="image-20220723220938897"></p><p>S3\u6807\u51C6\u7B56\u7565\u8BED\u6CD5\uFF08\u963F\u91CC\u534E\u4E3ASSO\u6709\u70B9\u5C0F\u6539\u52A8\uFF0C\u7ED3\u6784\u7C7B\u4F3C\uFF09\uFF0C\u793A\u4F8B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">{</span>\n    <span class="token string">&quot;Sid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;DenyPublicReadACL&quot;</span><span class="token punctuation">,</span>\n    <span class="token string">&quot;Effect&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Deny&quot;</span><span class="token punctuation">,</span>\n    <span class="token string">&quot;Principal&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string">&quot;AWS&quot;</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token string">&quot;Action&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token string">&quot;s3:PutObject&quot;</span><span class="token punctuation">,</span>\n        <span class="token string">&quot;s3:PutObjectAcl&quot;</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token string">&quot;Resource&quot;</span><span class="token operator">:</span> <span class="token string">&quot;arn:aws:s3:::examplebucket/*&quot;</span><span class="token punctuation">,</span>\n    <span class="token string">&quot;Condition&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string">&quot;StringEquals&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n            <span class="token string">&quot;s3:x-amz-acl&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n                <span class="token string">&quot;public-read&quot;</span><span class="token punctuation">,</span>\n                <span class="token string">&quot;public-read-write&quot;</span><span class="token punctuation">,</span>\n                <span class="token string">&quot;authenticated-read&quot;</span>\n            <span class="token punctuation">]</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4EE5\u4E0A\u8868\u793A\uFF0C\u5F53\u6240\u8FF0\u8BF7\u6C42\u5305\u62EC\u4EE5\u4E0B\u8BBF\u95EE\u63A7\u5236\u5217\u8868\uFF08ACL\uFF09\u4E2D\u7684\u4E00\u4E2A\uFF1Apublic-read\uFF0Cpublic-read-write\u6216authenticated-read\uFF0C\u62D2\u7EDD\u4EFB\u4F55\u4E9A\u9A6C\u900AS3\u5728\u6876examplebucket\u4E2DPutObject\u6216PutObjectAcl\u8BF7\u6C42\u3002</p><p>\u7B56\u7565\u8BED\u6CD5\u53C2\u6570\uFF1A</p><table><thead><tr><th>\u53C2\u6570</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>Version</td><td>\u6807\u8BC6\u7B56\u7565\u7684\u7248\u672C\u53F7\uFF0CMinio\u4E2D\u4E00\u822C\u4E3A&quot;2012-10-17&quot;</td></tr><tr><td>Statement</td><td>\u7B56\u7565\u6388\u6743\u8BED\u53E5\uFF0C\u63CF\u8FF0\u7B56\u7565\u7684\u8BE6\u7EC6\u4FE1\u606F\uFF0C\u5305\u542BEffect\uFF08\u6548\u679C\uFF09\u3001Action\uFF08\u52A8\u4F5C\uFF09\u3001Principal\uFF08\u7528\u6237\uFF09\u3001Resource\uFF08\u8D44\u6E90\uFF09\u548CCondition\uFF08\u6761\u4EF6\uFF09\u3002\u5176\u4E2DCondition\u4E3A\u53EF\u9009</td></tr><tr><td>Effect</td><td>Effect\uFF08\u6548\u679C\uFF09\u4F5C\u7528\u5305\u542B\u4E24\u79CD\uFF1AAllow\uFF08\u5141\u8BB8\uFF09\u548CDeny\uFF08\u62D2\u7EDD\uFF09\uFF0C\u7CFB\u7EDF\u9884\u7F6E\u7B56\u7565\u4EC5\u5305\u542B\u5141\u8BB8\u7684\u6388\u6743\u8BED\u53E5\uFF0C\u81EA\u5B9A\u4E49\u7B56\u7565\u4E2D\u53EF\u4EE5\u540C\u65F6\u5305\u542B\u5141\u8BB8\u548C\u62D2\u7EDD\u7684\u6388\u6743\u8BED\u53E5\uFF0C\u5F53\u7B56\u7565\u4E2D\u65E2\u6709\u5141\u8BB8\u53C8\u6709\u62D2\u7EDD\u7684\u6388\u6743\u8BED\u53E5\u65F6\uFF0C\u9075\u5FAADeny\u4F18\u5148\u7684\u539F\u5219\u3002</td></tr><tr><td>Action</td><td>Action\uFF08\u52A8\u4F5C\uFF09\u5BF9\u8D44\u6E90\u7684\u5177\u4F53\u64CD\u4F5C\u6743\u9650\uFF0C\u683C\u5F0F\u4E3A\uFF1A\u670D\u52A1\u540D:\u8D44\u6E90\u7C7B\u578B:\u64CD\u4F5C\uFF0C\u652F\u6301\u5355\u4E2A\u6216\u591A\u4E2A\u64CD\u4F5C\u6743\u9650\uFF0C\u652F\u6301\u901A\u914D\u7B26\u53F7*\uFF0C\u901A\u914D\u7B26\u53F7\u8868\u793A\u6240\u6709\u3002\u4F8B\u5982 s3:GetObject \uFF0C\u8868\u793A\u83B7\u53D6\u5BF9\u8C61</td></tr><tr><td>Resource</td><td>Resource\uFF08\u8D44\u6E90\uFF09\u7B56\u7565\u6240\u4F5C\u7528\u7684\u8D44\u6E90\uFF0C\u652F\u6301\u901A\u914D\u7B26\u53F7*\uFF0C\u901A\u914D\u7B26\u53F7\u8868\u793A\u6240\u6709\u3002\u5728JSON\u89C6\u56FE\u4E2D\uFF0C\u4E0D\u5E26Resource\u8868\u793A\u5BF9\u6240\u6709\u8D44\u6E90\u751F\u6548\u3002Resource\u652F\u6301\u4EE5\u4E0B\u5B57\u7B26\uFF1A-_0-9a-zA-Z*./\\\uFF0C\u5982\u679CResource\u4E2D\u5305\u542B\u4E0D\u652F\u6301\u7684\u5B57\u7B26\uFF0C\u8BF7\u91C7\u7528\u901A\u914D\u7B26\u53F7*\u3002\u4F8B\u5982\uFF1Aarn:aws:s3:::my-bucketname/myobject*\\\uFF0C\u8868\u793Aminio\u4E2Dmy-bucketname/myobject\u76EE\u5F55\u4E0B\u6240\u6709\u5BF9\u8C61\u6587\u4EF6\u3002</td></tr><tr><td>Condition</td><td>Condition\uFF08\u6761\u4EF6\uFF09\u60A8\u53EF\u4EE5\u5728\u521B\u5EFA\u81EA\u5B9A\u4E49\u7B56\u7565\u65F6\uFF0C\u901A\u8FC7Condition\u5143\u7D20\u6765\u63A7\u5236\u7B56\u7565\u4F55\u65F6\u751F\u6548\u3002Condition\u5305\u62EC\u6761\u4EF6\u952E\u548C\u8FD0\u7B97\u7B26\uFF0C\u6761\u4EF6\u952E\u8868\u793A\u7B56\u7565\u8BED\u53E5\u7684Condition\u5143\u7D20\uFF0C\u5206\u4E3A\u5168\u5C40\u7EA7\u6761\u4EF6\u952E\u548C\u670D\u52A1\u7EA7\u6761\u4EF6\u952E\u3002\u5168\u5C40\u7EA7\u6761\u4EF6\u952E\uFF08\u524D\u7F00\u4E3Ag:\uFF09\u9002\u7528\u4E8E\u6240\u6709\u64CD\u4F5C\uFF0C\u670D\u52A1\u7EA7\u6761\u4EF6\u952E\uFF08\u524D\u7F00\u4E3A\u670D\u52A1\u7F29\u5199\uFF0C\u5982obs:\uFF09\u4EC5\u9002\u7528\u4E8E\u5BF9\u5E94\u670D\u52A1\u7684\u64CD\u4F5C\u3002\u8FD0\u7B97\u7B26\u4E0E\u6761\u4EF6\u952E\u4E00\u8D77\u4F7F\u7528\uFF0C\u6784\u6210\u5B8C\u6574\u7684\u6761\u4EF6\u5224\u65AD\u8BED\u53E5\u3002</td></tr></tbody></table><h4 id="_2-2-2-\u7CFB\u7EDF\u9ED8\u8BA4\u7B56\u7565" tabindex="-1"><a class="header-anchor" href="#_2-2-2-\u7CFB\u7EDF\u9ED8\u8BA4\u7B56\u7565" aria-hidden="true">#</a> 2.2.2 \u7CFB\u7EDF\u9ED8\u8BA4\u7B56\u7565</h4><p>AWS Identity and Access Management (IAM) \u662F\u4E00\u79CD Web \u670D\u52A1\uFF0C\u53EF\u4EE5\u5E2E\u52A9\u60A8\u5B89\u5168\u5730\u63A7\u5236\u5BF9 AWS \u8D44\u6E90\u7684\u8BBF\u95EE\u3002\u60A8\u53EF\u4EE5\u4F7F\u7528 IAM \u63A7\u5236\u5BF9\u54EA\u4E2A\u7528\u6237\u8FDB\u884C\u8EAB\u4EFD\u9A8C\u8BC1 (\u767B\u5F55) \u548C\u6388\u6743 (\u5177\u6709\u6743\u9650) \u4EE5\u4F7F\u7528\u8D44\u6E90\u3002</p><p>\u9ED8\u8BA4\u5B58\u57285\u79CDIAM\u7B56\u7565\uFF1A</p><table><thead><tr><th>\u6743\u9650</th><th>\u89E3\u91CA</th></tr></thead><tbody><tr><td>consoleAdmin</td><td>\u63A7\u5236\u53F0\u7BA1\u7406\u5458</td></tr><tr><td>diagnostics</td><td>\u8BCA\u65AD</td></tr><tr><td>readonly</td><td>\u53EA\u8BFB</td></tr><tr><td>readwrite</td><td>\u8BFB\u5199</td></tr><tr><td>writeonly</td><td>\u53EA\u5199</td></tr></tbody></table><h4 id="_2-2-3-\u81EA\u5B9A\u4E49\u7B56\u7565" tabindex="-1"><a class="header-anchor" href="#_2-2-3-\u81EA\u5B9A\u4E49\u7B56\u7565" aria-hidden="true">#</a> 2.2.3 \u81EA\u5B9A\u4E49\u7B56\u7565</h4><p>\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u63A7\u5236\u53F0\u6216\u8005mc\u5BA2\u6237\u7AEF\u6DFB\u52A0\u7B56\u7565\uFF0C\u5B9E\u9645\u5C31\u662F\u4E00\u4E2AJson\u6587\u4EF6\u3002</p><p>\u9996\u5148\u5728\u63A7\u5236\u53F0\u70B9\u51FBIAM\u7B56\u7565\uFF0C\u7136\u540E\u70B9\u51FB\u521B\u5EFA\u7B56\u7565\u3002</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723221412178.png" alt="image-20220723221412178"></p><p>\u586B\u5199\u7B56\u7565\u540D\u79F0\uFF0C\u8F93\u5165\u7B56\u7565Json\u3002</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723221434656.png" alt="image-20220723221434656"></p><p>\u7B56\u7565Json\u6587\u4EF6\u5185\u5BB9\u5982\u4E0B\uFF1A</p><ul><li>Allow\u8868\u793A\u5141\u8BB8\u64CD\u4F5C</li><li>Action\u8868\u793A\u5BF9\u8D44\u6E90\u7684\u5177\u4F53\u64CD\u4F5C\u6743\u9650\uFF0C\u5BF9\u5BF9\u8C61\u64CD\u4F5C\uFF0C\u9996\u5148\u8981\u64CD\u4F5C\u5B58\u50A8\u6876\uFF0C\u6240\u4EE5\u9996\u5148\u8FD9\u91CC\u7ED9\u4E86\u5B58\u50A8\u6876\u67E5\u8BE2\u6743\u9650\uFF0C\u7136\u540E\u7ED9\u4E86\u4E0A\u4F20\u548C\u4E0B\u8F7D\u5BF9\u8C61\u7684\u6743\u9650</li><li>Resource\u8868\u793A\u5BF9test\u5B58\u50A8\u6876\u4E0B\u7684\u6240\u6709\u8D44\u6E90\u6709\u9650</li></ul><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>\n    <span class="token property">&quot;Version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2012-10-17&quot;</span><span class="token punctuation">,</span>\n    <span class="token property">&quot;Statement&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token punctuation">{</span>\n            <span class="token property">&quot;Effect&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Allow&quot;</span><span class="token punctuation">,</span>\n            <span class="token property">&quot;Action&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n                <span class="token string">&quot;s3:GetObject&quot;</span><span class="token punctuation">,</span>\n                <span class="token string">&quot;s3:ListAllMyBuckets&quot;</span><span class="token punctuation">,</span>\n                <span class="token string">&quot;s3:ListBucket&quot;</span><span class="token punctuation">,</span>\n                <span class="token string">&quot;s3:PutObject&quot;</span><span class="token punctuation">,</span>\n                <span class="token string">&quot;s3:DeleteObject&quot;</span><span class="token punctuation">,</span>\n                <span class="token string">&quot;s3:GetBucketLocation&quot;</span>\n            <span class="token punctuation">]</span><span class="token punctuation">,</span>\n            <span class="token property">&quot;Resource&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n                <span class="token string">&quot;arn:aws:s3:::test/*&quot;</span>\n            <span class="token punctuation">]</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6DFB\u52A0\u4E4B\u540E\uFF0C\u53EF\u4EE5\u67E5\u770B\u5230\u5F53\u524D\u51B3\u7B56\u7684\u5185\u5BB9\u4FE1\u606F\uFF0C\u4E5F\u53EF\u4EE5\u4FEE\u6539Json\u6587\u4EF6\u3002</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723221535166.png" alt="image-20220723221535166"></p><p>\u7136\u540E\u8FDB\u5165\u7528\u6237\u7BA1\u7406\uFF0C\u9009\u62E9\u7528\u6237\u540E\uFF0C\u518D\u6DFB\u52A0\u6211\u4EEC\u81EA\u5B9A\u4E49\u7684\u6743\u9650\u7B56\u7565\u3002</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723221901440.png" alt="image-20220723221901440"></p><p><strong>\u6D4B\u8BD5</strong>\uFF1A \u4F7F\u7528\u5F53\u524D\u7528\u6237\u8D26\u53F7\u521B\u5EFA\u5BA2\u6237\u7AEF\uFF0C\u7136\u540E\u76F4\u63A5\u8BFB\u5199\u64CD\u4F5C\uFF0C\u53D1\u73B0\u662F\u6B63\u5E38\u5177\u6709\u6743\u9650\u7684\u3002</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723221920534.png" alt="image-20220723221920534"></p><p>\u7136\u540E\u53BB\u6389s3:PutObject\uFF0C\u4E5F\u5C31\u662F\u4E0A\u4F20\u6587\u4EF6\u7684\u6743\u9650\u3002</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723221941094.png" alt="image-20220723221941094"></p><p>\u5728\u6267\u884CputObject\u65F6\uFF0C\u8FD4\u56DE403\u8BBF\u95EE\u88AB\u62D2\u7EDD\uFF0C\u800CgetObject\u65F6\u5219\u6B63\u5E38\u6267\u884C</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723221959046.png" alt="image-20220723221959046"></p><h2 id="_3-\u6876\u7B56\u7565" tabindex="-1"><a class="header-anchor" href="#_3-\u6876\u7B56\u7565" aria-hidden="true">#</a> 3. \u6876\u7B56\u7565</h2><p>\u6876\u7B56\u7565\u662F\u4F5C\u7528\u4E8E\u6240\u914D\u7F6E\u7684\u6876\u53CA\u6876\u5185\u5BF9\u8C61\u7684\u3002\u6876\u62E5\u6709\u8005\u901A\u8FC7\u6876\u7B56\u7565\u53EF\u4E3AIAM\u7528\u6237\u6216\u5176\u4ED6\u5E10\u53F7\u6388\u6743\u6876\u53CA\u6876\u5185\u5BF9\u8C61\u7684\u64CD\u4F5C\u6743\u9650\u3002</p><h3 id="_3-1-\u9875\u9762\u7BA1\u7406\u6876\u7B56\u7565" tabindex="-1"><a class="header-anchor" href="#_3-1-\u9875\u9762\u7BA1\u7406\u6876\u7B56\u7565" aria-hidden="true">#</a> 3.1 \u9875\u9762\u7BA1\u7406\u6876\u7B56\u7565</h3><h4 id="_3-1-1-\u8BBF\u95EE\u7B56\u7565\u7BA1\u7406" tabindex="-1"><a class="header-anchor" href="#_3-1-1-\u8BBF\u95EE\u7B56\u7565\u7BA1\u7406" aria-hidden="true">#</a> 3.1.1 \u8BBF\u95EE\u7B56\u7565\u7BA1\u7406</h4><p>\u5B58\u50A8\u6876\u7684\u8BBF\u95EE\u7B56\u7565\u7BA1\u7406\uFF0C\u662F\u6700\u5927\u7C92\u5EA6\u7684\u6743\u9650\uFF0C\u53EF\u4EE5\u8BBE\u7F6E\u79C1\u6709\u6216\u8005\u516C\u5F00\u3002</p><p>\u70B9\u51FB\u5B58\u50A8\u6876\u7684\u7BA1\u7406\u6309\u94AE\uFF0C\u8FDB\u5165\u7BA1\u7406\u9875\u9762\u3002</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723222415091.png" alt="image-20220723222415091"></p><p>\u7136\u540E\u53EF\u4EE5\u5728Summary\u4E2D\uFF0C\u770B\u5230\u5F53\u524D\u6876\u7684\u8BBF\u95EE\u7B56\u7565\u4E3A\u79C1\u6709Private\u3002</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723222505048.png" alt="image-20220723222505048"></p><p>\u53EF\u4EE5\u70B9\u51FBPrivate\uFF0C\u5F39\u51FA\u8BBE\u7F6E\u6743\u9650\uFF0C\u53EF\u9009\u7684\u53EA\u6709Private\u548CPublic\u3002</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723222524252.png" alt="image-20220723222524252"></p><p>\u5F53\u9009\u62E9\u79C1\u6709\u65F6\uFF0C\u672A\u767B\u5F55\u6216\u8005\u672A\u6388\u6743\u8BBF\u95EE\u6587\u4EF6\uFF0C\u4F1A\u51FA\u73B0\u4EE5\u4E0B\u672A\u6388\u6743\u9875\u9762\uFF1A</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723222551161.png" alt="image-20220723222551161"></p><p>\u5F53\u9009\u62E9\u516C\u5F00\u65F6\uFF0C\u65E0\u9700\u767B\u5F55\u548C\u6388\u6743\u53EF\u4EE5\u76F4\u63A5\u8BBF\u95EE\u6587\u4EF6\uFF1A</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723222613339.png" alt="image-20220723222613339"></p><h4 id="_3-1-2-\u8BBF\u95EE\u89C4\u5219\u7BA1\u7406" tabindex="-1"><a class="header-anchor" href="#_3-1-2-\u8BBF\u95EE\u89C4\u5219\u7BA1\u7406" aria-hidden="true">#</a> 3.1.2 \u8BBF\u95EE\u89C4\u5219\u7BA1\u7406</h4><p>\u9664\u4E86\u5BF9\u5B58\u50A8\u6876\u5927\u7C92\u5EA6\u7684\u8FDB\u884C\u8BBF\u95EE\u63A7\u5236\uFF0C\u9875\u9762\u4E0A\u8FD8\u652F\u6301\u5BF9\u524D\u7F00\u7C92\u5EA6\u7684\u8BBF\u95EE\u63A7\u5236\u3002</p><p>\u6BD4\u5982\u6211\u4EEC\u4E3B\u8981\u53EA\u516C\u5F00\u5F53\u524D\u6876\u4E00\u90E8\u5206\u5171\u6709\u8BBF\u95EE\uFF0C\u9700\u8981\u5BF9\u53E6\u4E00\u90E8\u5206\u8FDB\u884C\u8BBF\u95EE\u63A7\u5236\uFF0C\u6211\u4EEC\u53EF\u4EE5\u8BBE\u7F6E\u6876\u7684\u7B56\u7565\u4E3APlubic\uFF0C\u7136\u540E\u8BBE\u7F6E\u67D0\u4E00\u76EE\u5F55\u4E0B\u7684\u6587\u4EF6\u53EA\u8BFB\u6216\u8005\u53EA\u5199\u3002</p><p>\u9996\u5148\u70B9\u51FB\u6DFB\u52A0\u8BBF\u95EE\u89C4\u5219\u6309\u94AE\u3002</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723222714145.png" alt="image-20220723222714145"></p><p>\u7136\u540E\u6DFB\u52A0\u8BBF\u95EE\u524D\u7F00\uFF0C\u8BBF\u95EE\u89C4\u5219\u3002</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723222802171.png" alt="image-20220723222802171"></p><p>\u8BBF\u95EE\u89C4\u5219\u652F\u6301\u4E00\u4E0B\u4E09\u79CD\uFF1A</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220723222822997.png" alt="image-20220723222822997"></p><h3 id="_3-2-\u540E\u53F0\u7BA1\u7406\u6876\u7B56\u7565" tabindex="-1"><a class="header-anchor" href="#_3-2-\u540E\u53F0\u7BA1\u7406\u6876\u7B56\u7565" aria-hidden="true">#</a> 3.2 \u540E\u53F0\u7BA1\u7406\u6876\u7B56\u7565</h3><p>Minio\u4E5F\u63D0\u4F9B\u4E86API\u6765\u7BA1\u7406\u6876\u7B56\u7565\uFF0C\u4E5F\u662F\u9700\u8981\u5B9A\u4E49\u7B56\u7565Json\uFF0C\u7136\u540E\u8C03\u7528API\u3002</p><h4 id="_3-2-1-\u8BBE\u7F6E\u6876\u7B56\u7565" tabindex="-1"><a class="header-anchor" href="#_3-2-1-\u8BBE\u7F6E\u6876\u7B56\u7565" aria-hidden="true">#</a> 3.2.1. \u8BBE\u7F6E\u6876\u7B56\u7565</h4><p>API\u5982\u4E0B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBucketPolicy</span><span class="token punctuation">(</span><span class="token class-name">SetBucketPolicyArgs</span> args<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u793A\u4F8B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">StringBuilder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;{\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;    \\&quot;Statement\\&quot;: [\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;        {\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;            \\&quot;Action\\&quot;: [\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;                \\&quot;s3:GetBucketLocation\\&quot;,\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;                \\&quot;s3:ListBucket\\&quot;\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;            ],\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;            \\&quot;Effect\\&quot;: \\&quot;Allow\\&quot;,\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;            \\&quot;Principal\\&quot;: \\&quot;*\\&quot;,\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;            \\&quot;Resource\\&quot;: \\&quot;arn:aws:s3:::my-bucketname\\&quot;\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;        },\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;        {\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;            \\&quot;Action\\&quot;: \\&quot;s3:GetObject\\&quot;,\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;            \\&quot;Effect\\&quot;: \\&quot;Allow\\&quot;,\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;            \\&quot;Principal\\&quot;: \\&quot;*\\&quot;,\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;            \\&quot;Resource\\&quot;: \\&quot;arn:aws:s3:::my-bucketname/myobject*\\&quot;\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;        }\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;    ],\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;    \\&quot;Version\\&quot;: \\&quot;2012-10-17\\&quot;\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;}\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      minioClient<span class="token punctuation">.</span><span class="token function">setBucketPolicy</span><span class="token punctuation">(</span>\n          <span class="token class-name">SetBucketPolicyArgs</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bucket</span><span class="token punctuation">(</span><span class="token string">&quot;my-bucketname&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span>builder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-2-2-\u67E5\u8BE2\u6876\u7B56\u7565" tabindex="-1"><a class="header-anchor" href="#_3-2-2-\u67E5\u8BE2\u6876\u7B56\u7565" aria-hidden="true">#</a> 3.2.2 \u67E5\u8BE2\u6876\u7B56\u7565</h4><p>API\u5982\u4E0B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getBucketPolicy</span><span class="token punctuation">(</span><span class="token class-name">GetBucketPolicyArgs</span> args<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u793A\u4F8B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> policy <span class="token operator">=</span>\n          minioClient<span class="token punctuation">.</span><span class="token function">getBucketPolicy</span><span class="token punctuation">(</span>\n              <span class="token class-name">GetBucketPolicyArgs</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bucket</span><span class="token punctuation">(</span><span class="token string">&quot;aaaaa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Current policy: &quot;</span> <span class="token operator">+</span> policy<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u67E5\u8BE2\u7ED3\u679C\u5982\u4E0B\u6240\u793A\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">{</span>\n    <span class="token string">&quot;Version&quot;</span><span class="token operator">:</span><span class="token string">&quot;2012-10-17&quot;</span><span class="token punctuation">,</span>\n    <span class="token string">&quot;Statement&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>\n        <span class="token punctuation">{</span>\n            <span class="token string">&quot;Effect&quot;</span><span class="token operator">:</span><span class="token string">&quot;Allow&quot;</span><span class="token punctuation">,</span>\n            <span class="token string">&quot;Principal&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>\n                <span class="token string">&quot;AWS&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>\n                    <span class="token string">&quot;*&quot;</span>\n                <span class="token punctuation">]</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token string">&quot;Action&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>\n                <span class="token string">&quot;s3:GetBucketLocation&quot;</span><span class="token punctuation">,</span>\n                <span class="token string">&quot;s3:ListBucketMultipartUploads&quot;</span>\n            <span class="token punctuation">]</span><span class="token punctuation">,</span>\n            <span class="token string">&quot;Resource&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>\n                <span class="token string">&quot;arn:aws:s3:::aaaaa&quot;</span>\n            <span class="token punctuation">]</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">{</span>\n            <span class="token string">&quot;Effect&quot;</span><span class="token operator">:</span><span class="token string">&quot;Allow&quot;</span><span class="token punctuation">,</span>\n            <span class="token string">&quot;Principal&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>\n                <span class="token string">&quot;AWS&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>\n                    <span class="token string">&quot;*&quot;</span>\n                <span class="token punctuation">]</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token string">&quot;Action&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>\n                <span class="token string">&quot;s3:DeleteObject&quot;</span><span class="token punctuation">,</span>\n                <span class="token string">&quot;s3:ListMultipartUploadParts&quot;</span><span class="token punctuation">,</span>\n                <span class="token string">&quot;s3:PutObject&quot;</span><span class="token punctuation">,</span>\n                <span class="token string">&quot;s3:AbortMultipartUpload&quot;</span>\n            <span class="token punctuation">]</span><span class="token punctuation">,</span>\n            <span class="token string">&quot;Resource&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>\n                <span class="token string">&quot;arn:aws:s3:::aaaaa/bb*&quot;</span>\n            <span class="token punctuation">]</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-\u5BF9\u8C61\u7B56\u7565" tabindex="-1"><a class="header-anchor" href="#_3-3-\u5BF9\u8C61\u7B56\u7565" aria-hidden="true">#</a> 3.3 \u5BF9\u8C61\u7B56\u7565</h3><p>Minio\u8C8C\u4F3C\u6CA1\u6709\u5177\u4F53\u5BF9\u8C61\u6587\u4EF6\u7684\u8BBF\u95EE\u7B56\u7565\u7BA1\u7406\u3002\u90A3\u4E48\u5728WEB\u7AEF\uFF0C\u9700\u8981\u52A0\u8F7D\u56FE\u7247\uFF0C\u4E0B\u8F7D\u89C6\u9891\uFF0C\u5982\u4F55\u53BB\u8BBF\u95EE\u6587\u4EF6\u5462\uFF1F</p><ol><li><p>SDK\u76F4\u63A5\u8BBF\u95EE</p><p>\u5982\u679C\u662FJS\u96C6\u6210\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4F7F\u7528\u5BA2\u6237\u7AEF\u76F4\u8FDEMinio\uFF0C\u6B64\u65B9\u5F0F\u7B80\u5355\u6548\u7387\u9AD8\uFF0C\u4F46\u662F\u5B89\u5168\u6027\u4E0D\u9AD8\u3002</p><p>\u5982\u679C\u662F\u540E\u53F0\u5E94\u7528JAVA\u96C6\u6210\uFF0CWeb\u8BF7\u6C42\u8BBF\u95EE\uFF0C\u6587\u4EF6\u670D\u52A1\u518D\u53BB\u8BBF\u95EEMinio\u83B7\u53D6\u8D44\u6E90\uFF0C\u7136\u540E\u518D\u54CD\u5E94\u7ED9Web\u7AEF\uFF0C\u6B64\u65B9\u5F0F\u5B89\u5168\u6027\u9AD8\uFF0C\u4F46\u662F\u94FE\u8DEF\u8F83\u957F\uFF0C\u6548\u7387\u4F4E\u4E86\u4E00\u534A\u3002\u3002\u3002</p></li><li><p>\u516C\u5F00\u8BBF\u95EE\u6743\u9650 \u53EF\u4EE5\u8BBE\u7F6E\u6876\u7684\u8BBF\u95EE\u7B56\u7565\u4E3APublic\uFF0C\u8FD9\u6837\u5C31\u80FD\u76F4\u63A5\u8BBF\u95EE\u5230\u6587\u4EF6\uFF0C\u4F46\u662F\u5404\u79CD\u9488\u5BF9\u4E8E\u7528\u6237\u4E0D\u9700\u8981\u767B\u5F55\u5C31\u80FD\u8BBF\u95EE\u7684\u7167\u7247\uFF0C\u6587\u4EF6\u7B49\uFF0C\u56E0\u4E3A\u5B89\u5168\u6027\u6700\u4F4E\u3002</p></li><li><p><strong>\u4E34\u65F6\u8BBF\u95EEURL</strong></p></li></ol><p>WEB\u7AEF\u53EF\u4EE5\u8BF7\u6C42\u540E\u53F0\u670D\u52A1\uFF0C\u540E\u53F0\u670D\u52A1\u8C03\u7528getPresignedObjectUrl\u65B9\u6CD5\uFF0C\u8FD4\u56DE\u4E00\u4E2A\u4E34\u65F6\u8BBF\u95EE\u8DEF\u5F84\uFF0CWEB\u7AEF\u4F7F\u7528\u6B64\u94FE\u63A5\u76F4\u63A5\u53BB\u8BBF\u95EE\u5BF9\u8C61\uFF0C\u6B64\u65B9\u5F0F\u5B89\u5168\u53EF\u9760\uFF0C\u6548\u7387\u4E5F\u9AD8\uFF0C\u4F46\u662F\u591A\u4E86\u4E00\u6B65\u8BF7\u6C42\u4E34\u65F6URL\u7684\u8BBF\u95EE\u3002</p><h2 id="\u53C2\u8003\u6587\u7AE0" tabindex="-1"><a class="header-anchor" href="#\u53C2\u8003\u6587\u7AE0" aria-hidden="true">#</a> \u53C2\u8003\u6587\u7AE0</h2>', 111);
const _hoisted_112 = {
  href: "https://yunyanchengyu.blog.csdn.net/article/details/120855875",
  target: "_blank",
  rel: "noopener noreferrer"
};
const _hoisted_113 = /* @__PURE__ */ createTextVNode("Minio\u5165\u95E8\u7CFB\u5217\u301010\u3011Minio\u4E4B\u6743\u9650\u63A7\u5236\u7B56\u7565");
function _sfc_render(_ctx, _cache) {
  const _component_ExternalLinkIcon = resolveComponent("ExternalLinkIcon");
  return openBlock(), createElementBlock("div", null, [
    _hoisted_1,
    createBaseVNode("p", null, [
      createBaseVNode("a", _hoisted_112, [
        _hoisted_113,
        createVNode(_component_ExternalLinkIcon)
      ])
    ])
  ]);
}
var C2Minio__Minio________html = /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render], ["__file", "C2-Minio\u5165\u95E8-Minio\u4E4B\u6743\u9650\u63A7\u5236\u7B56\u7565.html.vue"]]);
export { C2Minio__Minio________html as default };
