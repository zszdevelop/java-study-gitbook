import{_ as a,W as e,X as s,a0 as d}from"./framework-0cf5f349.js";const i={},n=d(`<h1 id="达梦数据库-dmrman-备份-恢复" tabindex="-1"><a class="header-anchor" href="#达梦数据库-dmrman-备份-恢复" aria-hidden="true">#</a> 达梦数据库-DMRMAN（备份，恢复）</h1><h2 id="_1-简介" tabindex="-1"><a class="header-anchor" href="#_1-简介" aria-hidden="true">#</a> 1. 简介</h2><p>我们再Windows中,我们可以使用图形化客户端工具进行备份还原，但是在Linux 中就不太好使了。需要使用DMRMAN</p><h2 id="_2-使用步骤" tabindex="-1"><a class="header-anchor" href="#_2-使用步骤" aria-hidden="true">#</a> 2. 使用步骤</h2><p>前置步骤</p><ol><li><p>停止服务</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl stop DmServiceDAMENG.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>切换到 dmaba用户</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code> <span class="token function">su</span> - dmdba
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>在bin目录下启动DMRMAN</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>./dmrman
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h3 id="_2-1-备份" tabindex="-1"><a class="header-anchor" href="#_2-1-备份" aria-hidden="true">#</a> 2.1 备份</h3><ol><li><p>全量备份</p><div class="language-SH line-numbers-mode" data-ext="SH"><pre class="language-SH"><code>BACKUP DATABASE &#39;/soft/dm8/data/DAMENG/dm.ini&#39; FULL BACKUPSET &#39;/soft/dm8/back/dmmback&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h3 id="_2-2-还原" tabindex="-1"><a class="header-anchor" href="#_2-2-还原" aria-hidden="true">#</a> 2.2 还原</h3><ol><li><p>还原数据库</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>RESTORE DATABASE <span class="token string">&#39;/soft/dm8/data/DAMENG/dm.ini&#39;</span> from backupset <span class="token string">&#39;/soft/dm8/back/dmmback&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>恢复数据库</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>RECOVER DATABASE <span class="token string">&#39;/soft/dm8/data/DAMENG/dm.ini&#39;</span> from backupset <span class="token string">&#39;/soft/dm8/back/dmmback&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>更新dm_nagic</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>RECOVER DATABASE <span class="token string">&#39;/soft/dm8/data/DAMENG/dm.ini&#39;</span> update db_magic
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>启动</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>systemctl start DmServiceDAMENG.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol>`,10),l=[n];function r(c,t){return e(),s("div",null,l)}const o=a(i,[["render",r],["__file","dm-operation-dmrman.html.vue"]]);export{o as default};
