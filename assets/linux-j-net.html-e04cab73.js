import{_ as e,W as s,X as i,Y as a,Z as t,$ as r,a0 as l,D as d}from"./framework-0cf5f349.js";const c={},o=l(`<h1 id="linux网络监控" tabindex="-1"><a class="header-anchor" href="#linux网络监控" aria-hidden="true">#</a> Linux网络监控</h1><h2 id="_1-简介" tabindex="-1"><a class="header-anchor" href="#_1-简介" aria-hidden="true">#</a> 1. 简介</h2><p>linux中网络监控命令主要是netstat 和sar</p><h2 id="_2-监控命令" tabindex="-1"><a class="header-anchor" href="#_2-监控命令" aria-hidden="true">#</a> 2. 监控命令</h2><h3 id="_2-1-netstat" tabindex="-1"><a class="header-anchor" href="#_2-1-netstat" aria-hidden="true">#</a> 2.1 netstat</h3><h4 id="_2-1-1-简介" tabindex="-1"><a class="header-anchor" href="#_2-1-1-简介" aria-hidden="true">#</a> 2.1.1 简介</h4><p>netstat命令一般用于检验本机各端口的网络连接情况，用于显示与IP、TCP、UDP和ICMP协议相关的统计数据。</p><h4 id="_2-1-2-常用实例" tabindex="-1"><a class="header-anchor" href="#_2-1-2-常用实例" aria-hidden="true">#</a> 2.1.2 常用实例：</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">netstat</span> <span class="token parameter variable">-aup</span>      <span class="token comment"># 输出所有UDP连接状况</span>
<span class="token function">netstat</span> <span class="token parameter variable">-atp</span>      <span class="token comment"># 输出所有TCP连接状况</span>
<span class="token function">netstat</span> <span class="token parameter variable">-s</span>        <span class="token comment"># 显示各个协议的网络统计信息</span>
<span class="token function">netstat</span> <span class="token parameter variable">-i</span>        <span class="token comment"># 显示网卡列表</span>
<span class="token function">netstat</span> <span class="token parameter variable">-r</span>        <span class="token comment"># 显示路由表信息</span>
<span class="token function">netstat</span> <span class="token parameter variable">-l</span>        <span class="token comment"># 只显示监听端口</span>
<span class="token function">netstat</span> <span class="token parameter variable">-lt</span>       <span class="token comment"># 只列出所有监听 tcp 端口</span>
<span class="token function">netstat</span> <span class="token parameter variable">-lu</span>       <span class="token comment"># 只列出所有监听 udp 端口</span>
<span class="token function">netstat</span> <span class="token parameter variable">-lx</span>       <span class="token comment"># 只列出所有监听 UNIX 端口</span>
<span class="token function">netstat</span> -p或--programs <span class="token comment"># 显示正在使用Socket的程序识别码和程序名称；</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-1-3-tldr-中的介绍" tabindex="-1"><a class="header-anchor" href="#_2-1-3-tldr-中的介绍" aria-hidden="true">#</a> 2.1.3 tldr 中的介绍</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code> <span class="token function">netstat</span>

  显示与网络相关的信息，如打开的连接、打开的套接字端口等.
  更多信息: https://www.unix.com/man-page/osx/1/netstat.

  - 列出所有端口:
    <span class="token function">netstat</span> <span class="token parameter variable">-a</span>

  - 列出所有被侦听端口:
    <span class="token function">netstat</span> <span class="token parameter variable">-l</span>

  - 列出侦听的 TCP 端口:
    <span class="token function">netstat</span> <span class="token parameter variable">-t</span>

  - 显示监听给定协议监听的 PID 和程序名:
    <span class="token function">netstat</span> <span class="token parameter variable">-p</span> 协议

  - 打印路由表:
    <span class="token function">netstat</span> <span class="token parameter variable">-nr</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-1-4-示例" tabindex="-1"><a class="header-anchor" href="#_2-1-4-示例" aria-hidden="true">#</a> 2.1.4 示例</h4><h5 id="_2-1-4-1-列出所有端口-包含tcp和udp" tabindex="-1"><a class="header-anchor" href="#_2-1-4-1-列出所有端口-包含tcp和udp" aria-hidden="true">#</a> 2.1.4.1 <strong>列出所有端口(包含TCP和UDP)</strong></h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>netstat -a
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220408145537683.png" alt="image-20220408145537683" tabindex="0" loading="lazy"><figcaption>image-20220408145537683</figcaption></figure><h5 id="_2-1-4-2-列出所有tcp端口" tabindex="-1"><a class="header-anchor" href="#_2-1-4-2-列出所有tcp端口" aria-hidden="true">#</a> 2.1.4.2 <strong>列出所有TCP端口</strong></h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&gt; netstat -at
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220408145637391.png" alt="image-20220408145637391" tabindex="0" loading="lazy"><figcaption>image-20220408145637391</figcaption></figure><h5 id="_2-1-4-3-列出所有udp端口" tabindex="-1"><a class="header-anchor" href="#_2-1-4-3-列出所有udp端口" aria-hidden="true">#</a> 2.1.4.3 <strong>列出所有UDP端口</strong></h5><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">netstat</span> <span class="token parameter variable">-au</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220408145728045.png" alt="image-20220408145728045" tabindex="0" loading="lazy"><figcaption>image-20220408145728045</figcaption></figure><h5 id="_2-1-4-4-找出程序运行的端口" tabindex="-1"><a class="header-anchor" href="#_2-1-4-4-找出程序运行的端口" aria-hidden="true">#</a> 2.1.4.4 <strong>找出程序运行的端口</strong></h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> netstat -tunlp | grep redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220408150002077.png" alt="image-20220408150002077" tabindex="0" loading="lazy"><figcaption>image-20220408150002077</figcaption></figure><h5 id="_2-1-4-5-找出运行在指定端口的进程" tabindex="-1"><a class="header-anchor" href="#_2-1-4-5-找出运行在指定端口的进程" aria-hidden="true">#</a> 2.1.4.5 <strong>找出运行在指定端口的进程</strong></h5><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">netstat</span> <span class="token parameter variable">-tunlp</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">6379</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220408150517112.png" alt="image-20220408150517112" tabindex="0" loading="lazy"><figcaption>image-20220408150517112</figcaption></figure><h5 id="_2-1-4-6-通过端口找进程id" tabindex="-1"><a class="header-anchor" href="#_2-1-4-6-通过端口找进程id" aria-hidden="true">#</a> 2.1.4.6 通过端口找进程ID</h5><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">netstat</span> <span class="token parameter variable">-tunlp</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">6379</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $7}&#39;</span> <span class="token operator">|</span> <span class="token function">cut</span> -d/ <span class="token parameter variable">-f1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220408150717292.png" alt="image-20220408150717292" tabindex="0" loading="lazy"><figcaption>image-20220408150717292</figcaption></figure><h3 id="_2-2-sar" tabindex="-1"><a class="header-anchor" href="#_2-2-sar" aria-hidden="true">#</a> 2.2 sar</h3><h4 id="_2-2-1-简介" tabindex="-1"><a class="header-anchor" href="#_2-2-1-简介" aria-hidden="true">#</a> 2.2.1 简介</h4><p>sar命令 是Linux下系统运行状态统计工具，它将指定的操作系统状态计数器显示到标准输出设备。</p><h4 id="_2-2-2-字段说明" tabindex="-1"><a class="header-anchor" href="#_2-2-2-字段说明" aria-hidden="true">#</a> 2.2.2 字段说明</h4><ul><li><code>IFACE</code>：网络设备的名称</li><li><code>rxpck/s</code>：每秒钟接收到的包数目</li><li><code>txpck/s</code>：每秒钟发送出去的包数目</li><li><code>rxkB/s</code>：每秒钟接收到的字节数</li><li><code>txkB/s</code>：每秒钟发送出去的字节数</li></ul><h4 id="_2-2-3-示例" tabindex="-1"><a class="header-anchor" href="#_2-2-3-示例" aria-hidden="true">#</a> 2.2.3 示例</h4><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220401145225177.png" alt="image-20220401145225177" tabindex="0" loading="lazy"><figcaption>image-20220401145225177</figcaption></figure><h2 id="参考文章" tabindex="-1"><a class="header-anchor" href="#参考文章" aria-hidden="true">#</a> 参考文章</h2>`,38),p={href:"https://zhuanlan.zhihu.com/p/398839850",target:"_blank",rel:"noopener noreferrer"};function u(h,m){const n=d("ExternalLinkIcon");return s(),i("div",null,[o,a("p",null,[a("a",p,[t("Linux之netstat命令"),r(n)])])])}const b=e(c,[["render",u],["__file","linux-j-net.html.vue"]]);export{b as default};
