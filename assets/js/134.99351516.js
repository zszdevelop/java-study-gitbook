(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{513:function(s,a,t){"use strict";t.r(a);var n=t(26),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"awkå¼ºå¤§çš„æ–‡æœ¬åˆ†æå‘½ä»¤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#awkå¼ºå¤§çš„æ–‡æœ¬åˆ†æå‘½ä»¤"}},[s._v("#")]),s._v(" awkå¼ºå¤§çš„æ–‡æœ¬åˆ†æå‘½ä»¤")]),s._v(" "),t("h2",{attrs:{id:"_1-ç®€ä»‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç®€ä»‹"}},[s._v("#")]),s._v(" 1 ç®€ä»‹")]),s._v(" "),t("p",[s._v("awkæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬åˆ†æå·¥å…·ï¼Œç›¸å¯¹äºgrepçš„æŸ¥æ‰¾ï¼Œsedçš„ç¼–è¾‘ï¼Œawkåœ¨å…¶å¯¹æ•°æ®åˆ†æå¹¶ç”ŸæˆæŠ¥å‘Šæ—¶ï¼Œæ˜¾å¾—å°¤ä¸ºå¼ºå¤§ã€‚ç®€å•æ¥è¯´awkå°±æ˜¯æŠŠæ–‡ä»¶é€è¡Œçš„è¯»å…¥ï¼Œä»¥ç©ºæ ¼ä¸ºé»˜è®¤åˆ†éš”ç¬¦å°†æ¯è¡Œåˆ‡ç‰‡ï¼Œåˆ‡å¼€çš„éƒ¨åˆ†å†è¿›è¡Œå„ç§åˆ†æå¤„ç†ã€‚")]),s._v(" "),t("h2",{attrs:{id:"_2-è¯­æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-è¯­æ³•"}},[s._v("#")]),s._v(" 2 è¯­æ³•")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{pattern + action}'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("filenames"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("å°½ç®¡æ“ä½œå¯èƒ½ä¼šå¾ˆå¤æ‚ï¼Œä½†è¯­æ³•æ€»æ˜¯è¿™æ ·ï¼Œå…¶ä¸­ pattern è¡¨ç¤º AWK åœ¨æ•°æ®ä¸­æŸ¥æ‰¾çš„å†…å®¹ï¼Œè€Œ action æ˜¯åœ¨æ‰¾åˆ°åŒ¹é…å†…å®¹æ—¶æ‰€æ‰§è¡Œçš„ä¸€ç³»åˆ—å‘½ä»¤ã€‚èŠ±æ‹¬å·ï¼ˆ{}ï¼‰ä¸éœ€è¦åœ¨ç¨‹åºä¸­å§‹ç»ˆå‡ºç°ï¼Œä½†å®ƒä»¬ç”¨äºæ ¹æ®ç‰¹å®šçš„æ¨¡å¼å¯¹ä¸€ç³»åˆ—æŒ‡ä»¤è¿›è¡Œåˆ†ç»„ã€‚ patternå°±æ˜¯è¦è¡¨ç¤ºçš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨æ–œæ æ‹¬èµ·æ¥ã€‚")]),s._v(" "),t("p",[s._v("awkè¯­è¨€çš„æœ€åŸºæœ¬åŠŸèƒ½æ˜¯åœ¨æ–‡ä»¶æˆ–è€…å­—ç¬¦ä¸²ä¸­åŸºäºæŒ‡å®šè§„åˆ™æµè§ˆå’ŒæŠ½å–ä¿¡æ¯ï¼ŒawkæŠ½å–ä¿¡æ¯åï¼Œæ‰èƒ½è¿›è¡Œå…¶ä»–æ–‡æœ¬æ“ä½œã€‚å®Œæ•´çš„awkè„šæœ¬é€šå¸¸ç”¨æ¥æ ¼å¼åŒ–æ–‡æœ¬æ–‡ä»¶ä¸­çš„ä¿¡æ¯ã€‚")]),s._v(" "),t("p",[s._v("é€šå¸¸ï¼Œawkæ˜¯ä»¥æ–‡ä»¶çš„ä¸€è¡Œä¸ºå¤„ç†å•ä½çš„ã€‚awkæ¯æ¥æ”¶æ–‡ä»¶çš„ä¸€è¡Œï¼Œç„¶åæ‰§è¡Œç›¸åº”çš„å‘½ä»¤ï¼Œæ¥å¤„ç†æ–‡æœ¬ã€‚")]),s._v(" "),t("h2",{attrs:{id:"_3-awkå…¥é—¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-awkå…¥é—¨"}},[s._v("#")]),s._v(" 3 awkå…¥é—¨")]),s._v(" "),t("p",[s._v("å‡è®¾last -n 5çš„è¾“å‡ºå¦‚ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz914d1peizv4h7laju4Z ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  last -n 5 # ä»…å–å‡ºå‰äº”è¡Œ")]),s._v("\nroot     pts/3        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("223.104")]),s._v(".6.18     Thu Apr "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":22   still logged "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("   \nroot     pts/2        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("223.104")]),s._v(".6.18     Thu Apr "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":22   still logged "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("   \nroot     pts/3        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("223.104")]),s._v(".6.18     Thu Apr "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":30 - "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":13  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("00:43"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("    \nroot     pts/2        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("223.104")]),s._v(".6.18     Thu Apr "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":30 - "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":13  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("00:43"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("    \nroot     pts/3        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("223.104")]),s._v(".6.12     Tue Apr "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":35 - "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":52  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("00:17"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n")])])]),t("p",[s._v("å¦‚æœåªæ˜¯æ˜¾ç¤ºæœ€è¿‘ç™»å½•çš„5ä¸ªå¸å·ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz914d1peizv4h7laju4Z ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# last -n 5 | awk  '{print $1}'")]),s._v("\nroot\nroot\nroot\nroot\nroot\n")])])]),t("p",[s._v('awkå·¥ä½œæµç¨‹æ˜¯è¿™æ ·çš„ï¼šè¯»å…¥æœ‰\'\\n\'æ¢è¡Œç¬¦åˆ†å‰²çš„ä¸€æ¡è®°å½•ï¼Œç„¶åå°†è®°å½•æŒ‰æŒ‡å®šçš„åŸŸåˆ†éš”ç¬¦åˆ’åˆ†åŸŸï¼Œå¡«å……åŸŸï¼Œ0åˆ™è¡¨ç¤ºæ‰€æœ‰åŸŸ,0åˆ™è¡¨ç¤ºæ‰€æœ‰åŸŸ,1è¡¨ç¤ºç¬¬ä¸€ä¸ªåŸŸ,ğ‘›è¡¨ç¤ºç¬¬ğ‘›ä¸ªåŸŸã€‚é»˜è®¤åŸŸåˆ†éš”ç¬¦æ˜¯"ç©ºç™½é”®"æˆ–"[ğ‘¡ğ‘ğ‘]é”®",æ‰€ä»¥nè¡¨ç¤ºç¬¬nä¸ªåŸŸã€‚é»˜è®¤åŸŸåˆ†éš”ç¬¦æ˜¯"ç©ºç™½é”®"æˆ–"[tab]é”®",æ‰€ä»¥1è¡¨ç¤ºç™»å½•ç”¨æˆ·ï¼Œ$3è¡¨ç¤ºç™»å½•ç”¨æˆ·ip,ä»¥æ­¤ç±»æ¨ã€‚')]),s._v(" "),t("p",[s._v("å¦‚æœåªæ˜¯æ˜¾ç¤º/etc/passwdçš„è´¦æˆ·ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz914d1peizv4h7laju4Z ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /etc/passwd |awk  -F ':'  '{print $1}'  ")]),s._v("\nroot\nbin\ndaemon\nadm\nlp\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sync")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("halt")]),s._v("\nmail\n")])])]),t("p",[s._v("è¿™ç§æ˜¯awk+actionçš„ç¤ºä¾‹ï¼Œæ¯è¡Œéƒ½ä¼šæ‰§è¡Œaction{print $1}ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("-FæŒ‡å®šåŸŸåˆ†éš”ç¬¦ä¸º':'ã€‚")])]),s._v(" "),t("p",[s._v("å¦‚æœåªæ˜¯æ˜¾ç¤º/etc/passwdçš„è´¦æˆ·å’Œè´¦æˆ·å¯¹åº”çš„shell,è€Œè´¦æˆ·ä¸shellä¹‹é—´ä»¥tabé”®åˆ†å‰²ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz914d1peizv4h7laju4Z ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /etc/passwd |awk  -F ':'  '{print $1\"\\t\"$7}'")]),s._v("\nroot    /bin/bash\nbin     /sbin/nologin\ndaemon  /sbin/nologin\nadm     /sbin/nologin\n\n")])])]),t("p",[s._v('å¦‚æœåªæ˜¯æ˜¾ç¤º/etc/passwdçš„è´¦æˆ·å’Œè´¦æˆ·å¯¹åº”çš„shell,è€Œè´¦æˆ·ä¸shellä¹‹é—´ä»¥é€—å·åˆ†å‰²,è€Œä¸”åœ¨æ‰€æœ‰è¡Œæ·»åŠ åˆ—åname,shell,åœ¨æœ€åä¸€è¡Œæ·»åŠ "blue,/bin/nosh"ï¼š')]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz914d1peizv4h7laju4Z ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# cat /etc/passwd |awk  -F \':\'  \'BEGIN {print "name,shell"}  {print $1","$7} END {print "blue,/bin/nosh"}\'')]),s._v("\nname,shell\nroot,/bin/bash\nbin,/sbin/nologin\ndaemon,/sbin/nologin\nadm,/sbin/nologin\nlp,/sbin/nologin\nsync,/bin/sync\n\n")])])]),t("p",[s._v("awkå·¥ä½œæµç¨‹æ˜¯è¿™æ ·çš„ï¼šå…ˆæ‰§è¡ŒBEGINGï¼Œç„¶åè¯»å–æ–‡ä»¶ï¼Œè¯»å…¥æœ‰/næ¢è¡Œç¬¦åˆ†å‰²çš„ä¸€æ¡è®°å½•ï¼Œç„¶åå°†è®°å½•æŒ‰æŒ‡å®šçš„åŸŸåˆ†éš”ç¬¦åˆ’åˆ†åŸŸï¼Œå¡«å……åŸŸï¼Œ0åˆ™è¡¨ç¤ºæ‰€æœ‰åŸŸ,0åˆ™è¡¨ç¤ºæ‰€æœ‰åŸŸ,1è¡¨ç¤ºç¬¬ä¸€ä¸ªåŸŸ,$nè¡¨ç¤ºç¬¬nä¸ªåŸŸ,éšåå¼€å§‹æ‰§è¡Œæ¨¡å¼æ‰€å¯¹åº”çš„åŠ¨ä½œactionã€‚æ¥ç€å¼€å§‹è¯»å…¥ç¬¬äºŒæ¡è®°å½•Â·Â·Â·Â·Â·Â·ç›´åˆ°æ‰€æœ‰çš„è®°å½•éƒ½è¯»å®Œï¼Œæœ€åæ‰§è¡ŒENDæ“ä½œã€‚")]),s._v(" "),t("p",[s._v("æœç´¢/etc/passwdæœ‰rootå…³é”®å­—çš„æ‰€æœ‰è¡Œï¼š")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz914d1peizv4h7laju4Z ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: '/root/{print $7}' /etc/passwd   ")]),s._v("\n/bin/bash\n/sbin/nologin\n\n")])])]),t("p",[s._v("è¿™é‡ŒæŒ‡å®šäº†action{print $7}ã€‚")]),s._v(" "),t("h2",{attrs:{id:"_4-awk-è¿›é˜¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-awk-è¿›é˜¶"}},[s._v("#")]),s._v(" 4 awk è¿›é˜¶")]),s._v(" "),t("h3",{attrs:{id:"_4-1-å†…ç½®å˜é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-å†…ç½®å˜é‡"}},[s._v("#")]),s._v(" 4.1 å†…ç½®å˜é‡")]),s._v(" "),t("p",[s._v("awkæœ‰è®¸å¤šå†…ç½®å˜é‡ç”¨æ¥è®¾ç½®ç¯å¢ƒä¿¡æ¯ï¼Œè¿™äº›å˜é‡å¯ä»¥è¢«æ”¹å˜ï¼Œä¸‹é¢ç»™å‡ºäº†æœ€å¸¸ç”¨çš„ä¸€äº›å˜é‡ã€‚")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ARGC               å‘½ä»¤è¡Œå‚æ•°ä¸ªæ•°\nARGV               å‘½ä»¤è¡Œå‚æ•°æ’åˆ—\nENVIRON            æ”¯æŒé˜Ÿåˆ—ä¸­ç³»ç»Ÿç¯å¢ƒå˜é‡çš„ä½¿ç”¨\nFILENAME           awkæµè§ˆçš„æ–‡ä»¶å\nFNR                æµè§ˆæ–‡ä»¶çš„è®°å½•æ•°\nFS                 è®¾ç½®è¾“å…¥åŸŸåˆ†éš”ç¬¦ï¼Œç­‰ä»·äºå‘½ä»¤è¡Œ -Fé€‰é¡¹\nNF                 æµè§ˆè®°å½•çš„åŸŸçš„ä¸ªæ•°\nNR                 å·²è¯»çš„è®°å½•æ•°\nOFS                è¾“å‡ºåŸŸåˆ†éš”ç¬¦\nORS                è¾“å‡ºè®°å½•åˆ†éš”ç¬¦\nRS                 æ§åˆ¶è®°å½•åˆ†éš”ç¬¦\n")])])]),t("p",[s._v("æ­¤å¤–,0å˜é‡æ˜¯æŒ‡æ•´æ¡è®°å½•ã€‚0å˜é‡æ˜¯æŒ‡æ•´æ¡è®°å½•ã€‚1è¡¨ç¤ºå½“å‰è¡Œçš„ç¬¬ä¸€ä¸ªåŸŸ,$2è¡¨ç¤ºå½“å‰è¡Œçš„ç¬¬äºŒä¸ªåŸŸ,......ä»¥æ­¤ç±»æ¨ã€‚")]),s._v(" "),t("p",[s._v("ç»Ÿè®¡/etc/passwd:æ–‡ä»¶åï¼Œæ¯è¡Œçš„è¡Œå·ï¼Œæ¯è¡Œçš„åˆ—æ•°ï¼Œå¯¹åº”çš„å®Œæ•´è¡Œå†…å®¹:")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz914d1peizv4h7laju4Z ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# awk  -F \':\'  \'{print "filename:" FILENAME ",linenumber:" NR ",columns:" NF ",linecontent:"$0}\' /etc/passwd')]),s._v("\nfilename:/etc/passwd,linenumber:1,columns:7,linecontent:root:x:0:0:root:/root:/bin/bash\nfilename:/etc/passwd,linenumber:2,columns:7,linecontent:bin:x:1:1:bin:/bin:/sbin/nologin\nfilename:/etc/passwd,linenumber:3,columns:7,linecontent:daemon:x:2:2:daemon:/sbin:/sbin/nologin\nfilename:/etc/passwd,linenumber:4,columns:7,linecontent:adm:x:3:4:adm:/var/adm:/sbin/nologin\nfilename:/etc/passwd,linenumber:5,columns:7,linecontent:lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin\nfilename:/etc/passwd,linenumber:6,columns:7,linecontent:sync:x:5:0:sync:/sbin:/bin/sync\n\n")])])]),t("h3",{attrs:{id:"_4-2-å˜é‡å’Œèµ‹å€¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-å˜é‡å’Œèµ‹å€¼"}},[s._v("#")]),s._v(" 4.2 å˜é‡å’Œèµ‹å€¼")]),s._v(" "),t("p",[s._v("é™¤äº†awkçš„å†…ç½®å˜é‡ï¼Œawkè¿˜å¯ä»¥è‡ªå®šä¹‰å˜é‡ã€‚")]),s._v(" "),t("p",[s._v("ä¸‹é¢ç»Ÿè®¡/etc/passwdçš„è´¦æˆ·äººæ•°ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{count++;print "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(';} END{print "user count is ", count}\'')]),s._v(" /etc/passwd\nroot:x:0:0:root:/root:/bin/bash\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nuser count is  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("\n")])])]),t("p",[s._v("countæ˜¯è‡ªå®šä¹‰å˜é‡ã€‚ä¹‹å‰çš„action{}é‡Œéƒ½æ˜¯åªæœ‰ä¸€ä¸ªprint,å…¶å®printåªæ˜¯ä¸€ä¸ªè¯­å¥ï¼Œè€Œaction{}å¯ä»¥æœ‰å¤šä¸ªè¯­å¥ï¼Œä»¥;å·éš”å¼€ã€‚")]),s._v(" "),t("p",[s._v("è¿™é‡Œæ²¡æœ‰åˆå§‹åŒ–countï¼Œè™½ç„¶é»˜è®¤æ˜¯0ï¼Œä½†æ˜¯å¦¥å½“çš„åšæ³•è¿˜æ˜¯åˆå§‹åŒ–ä¸º0:")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'BEGIN {count=0;print "[start]user count is ", count} {count=count+1;print '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(';} END{print "[end]user count is ", count}\'')]),s._v(" /etc/passwd\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("start"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("user count is  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nroot:x:0:0:root:/root:/bin/bash\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nnexus:x:1001:1001::/home/nexus:/bin/bash\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("end"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("user count is  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("\n")])])]),t("h3",{attrs:{id:"_4-3-æ¡ä»¶è¯­å¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-æ¡ä»¶è¯­å¥"}},[s._v("#")]),s._v(" 4.3 æ¡ä»¶è¯­å¥")]),s._v(" "),t("p",[s._v("awkä¸­çš„æ¡ä»¶è¯­å¥æ˜¯ä»Cè¯­è¨€ä¸­å€Ÿé‰´æ¥çš„ï¼Œç”¨æ³•ä¸Cè¯­è¨€ä¸€è‡´ã€‚")]),s._v(" "),t("p",[s._v("ç»Ÿè®¡æŸä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å ç”¨çš„å­—èŠ‚æ•°,è¿‡æ»¤4096å¤§å°çš„æ–‡ä»¶(ä¸€èˆ¬éƒ½æ˜¯æ–‡ä»¶å¤¹):")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#ls -l |awk \'BEGIN {size=0;print "[start]size is ", size} {if($5!=4096){size=size+$5;}} END{print "[end]size is ", size/1024/1024,"M"}\' ')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("end"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("size is  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.22339")]),s._v(" M\n")])])]),t("h3",{attrs:{id:"_4-4-å¾ªç¯è¯­å¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-å¾ªç¯è¯­å¥"}},[s._v("#")]),s._v(" 4.4 å¾ªç¯è¯­å¥")]),s._v(" "),t("p",[s._v("awkä¸­çš„å¾ªç¯è¯­å¥åŒæ ·å€Ÿé‰´äºCè¯­è¨€ï¼Œæ”¯æŒwhileã€do/whileã€forã€breakã€continueï¼Œè¿™äº›å…³é”®å­—çš„è¯­ä¹‰å’ŒCè¯­è¨€ä¸­çš„è¯­ä¹‰å®Œå…¨ç›¸åŒã€‚")]),s._v(" "),t("h3",{attrs:{id:"_4-5-æ•°ç»„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-æ•°ç»„"}},[s._v("#")]),s._v(" 4.5 æ•°ç»„")]),s._v(" "),t("p",[s._v("å› ä¸ºawkä¸­æ•°ç»„çš„ä¸‹æ ‡å¯ä»¥æ˜¯æ•°å­—å’Œå­—æ¯ï¼Œæ•°ç»„çš„ä¸‹æ ‡é€šå¸¸è¢«ç§°ä¸ºå…³é”®å­—(key)ã€‚å€¼å’Œå…³é”®å­—éƒ½å­˜å‚¨åœ¨å†…éƒ¨çš„ä¸€å¼ é’ˆå¯¹key/valueåº”ç”¨hashçš„è¡¨æ ¼é‡Œã€‚ç”±äºhashä¸æ˜¯é¡ºåºå­˜å‚¨ï¼Œå› æ­¤åœ¨æ˜¾ç¤ºæ•°ç»„å†…å®¹æ—¶ä¼šå‘ç°ï¼Œå®ƒä»¬å¹¶ä¸æ˜¯æŒ‰ç…§ä½ é¢„æ–™çš„é¡ºåºæ˜¾ç¤ºå‡ºæ¥çš„ã€‚æ•°ç»„å’Œå˜é‡ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨ä½¿ç”¨æ—¶è‡ªåŠ¨åˆ›å»ºçš„ï¼Œawkä¹ŸåŒæ ·ä¼šè‡ªåŠ¨åˆ¤æ–­å…¶å­˜å‚¨çš„æ˜¯æ•°å­—è¿˜æ˜¯å­—ç¬¦ä¸²ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œawkä¸­çš„æ•°ç»„ç”¨æ¥ä»è®°å½•ä¸­æ”¶é›†ä¿¡æ¯ï¼Œå¯ä»¥ç”¨äºè®¡ç®—æ€»å’Œã€ç»Ÿè®¡å•è¯ä»¥åŠè·Ÿè¸ªæ¨¡æ¿è¢«åŒ¹é…çš„æ¬¡æ•°ç­‰ç­‰ã€‚")]),s._v(" "),t("p",[s._v("æ˜¾ç¤º/etc/passwdçš„è´¦æˆ·ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#awk -F ':' 'BEGIN {count=0;} {name[count] = $1;count++;}; END{for (i = 0; i < NR; i++) print i, name[i]}' /etc/passwd")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" root\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" daemon\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" bin\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" sys\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sync")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" games\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n")])])]),t("p",[s._v("è¿™é‡Œä½¿ç”¨forå¾ªç¯éå†æ•°ç»„ã€‚")])])}),[],!1,null,null,null);a.default=e.exports}}]);