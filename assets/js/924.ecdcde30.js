(window.webpackJsonp=window.webpackJsonp||[]).push([[924],{1301:function(t,s,a){"use strict";a.r(s);var n=a(26),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"nginxä»å…¥é—¨åˆ°å®è·µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginxä»å…¥é—¨åˆ°å®è·µ"}},[t._v("#")]),t._v(" Nginxä»å…¥é—¨åˆ°å®è·µ")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220724221108300.png",alt:"image-20220724221108300"}})]),t._v(" "),a("h2",{attrs:{id:"_1-nginx-ä»‹ç»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-nginx-ä»‹ç»"}},[t._v("#")]),t._v(" 1. Nginx ä»‹ç»")]),t._v(" "),a("p",[t._v("Nginx æ˜¯å¼€æºã€é«˜æ€§èƒ½ã€é«˜å¯é çš„ Web å’Œåå‘ä»£ç†æœåŠ¡å™¨ï¼Œè€Œä¸”æ”¯æŒçƒ­éƒ¨ç½²ï¼Œå‡ ä¹å¯ä»¥åšåˆ° 7 * 24 å°æ—¶ä¸é—´æ–­è¿è¡Œï¼Œå³ä½¿è¿è¡Œå‡ ä¸ªæœˆä¹Ÿä¸éœ€è¦é‡æ–°å¯åŠ¨ï¼Œè¿˜èƒ½åœ¨ä¸é—´æ–­æœåŠ¡çš„æƒ…å†µä¸‹å¯¹è½¯ä»¶ç‰ˆæœ¬è¿›è¡Œçƒ­æ›´æ–°ã€‚æ€§èƒ½æ˜¯ Nginx æœ€é‡è¦çš„è€ƒé‡ï¼Œå…¶å ç”¨å†…å­˜å°‘ã€å¹¶å‘èƒ½åŠ›å¼ºã€èƒ½æ”¯æŒé«˜è¾¾ 5w ä¸ªå¹¶å‘è¿æ¥æ•°ï¼Œæœ€é‡è¦çš„æ˜¯ï¼ŒNginx æ˜¯å…è´¹çš„å¹¶å¯ä»¥å•†ä¸šåŒ–ï¼Œé…ç½®ä½¿ç”¨ä¹Ÿæ¯”è¾ƒç®€å•ã€‚")]),t._v(" "),a("p",[t._v("Nginx çš„æœ€é‡è¦çš„å‡ ä¸ªä½¿ç”¨åœºæ™¯ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("é™æ€èµ„æºæœåŠ¡ï¼Œé€šè¿‡æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿæä¾›æœåŠ¡ï¼›")]),t._v(" "),a("li",[t._v("åå‘ä»£ç†æœåŠ¡ï¼Œå»¶ä¼¸å‡ºåŒ…æ‹¬ç¼“å­˜ã€è´Ÿè½½å‡è¡¡ç­‰ï¼›")]),t._v(" "),a("li",[t._v("API æœåŠ¡ï¼ŒOpenResty ï¼›")])]),t._v(" "),a("p",[t._v("å¯¹äºå‰ç«¯æ¥è¯´ Node.js ä¸é™Œç”Ÿäº†ï¼ŒNginx å’Œ Node.js çš„å¾ˆå¤šç†å¿µç±»ä¼¼ï¼ŒHTTP æœåŠ¡å™¨ã€äº‹ä»¶é©±åŠ¨ã€å¼‚æ­¥éé˜»å¡ç­‰ï¼Œä¸” Nginx çš„å¤§éƒ¨åˆ†åŠŸèƒ½ä½¿ç”¨ Node.js ä¹Ÿå¯ä»¥å®ç°ï¼Œä½† Nginx å’Œ Node.js å¹¶ä¸å†²çªï¼Œéƒ½æœ‰è‡ªå·±æ“…é•¿çš„é¢†åŸŸã€‚Nginx æ“…é•¿äºåº•å±‚æœåŠ¡å™¨ç«¯èµ„æºçš„å¤„ç†ï¼ˆé™æ€èµ„æºå¤„ç†è½¬å‘ã€åå‘ä»£ç†ï¼Œè´Ÿè½½å‡è¡¡ç­‰ï¼‰ï¼ŒNode.js æ›´æ“…é•¿ä¸Šå±‚å…·ä½“ä¸šåŠ¡é€»è¾‘çš„å¤„ç†ï¼Œä¸¤è€…å¯ä»¥å®Œç¾ç»„åˆï¼Œå…±åŒåŠ©åŠ›å‰ç«¯å¼€å‘ã€‚")]),t._v(" "),a("p",[t._v("ä¸‹é¢æˆ‘ä»¬ç€é‡å­¦ä¹ ä¸€ä¸‹ Nginx çš„ä½¿ç”¨ã€‚")]),t._v(" "),a("h2",{attrs:{id:"_2-ç›¸å…³æ¦‚å¿µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-ç›¸å…³æ¦‚å¿µ"}},[t._v("#")]),t._v(" 2. ç›¸å…³æ¦‚å¿µ")]),t._v(" "),a("h3",{attrs:{id:"_2-1-ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚"}},[t._v("#")]),t._v(" 2.1 ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚")]),t._v(" "),a("p",[t._v("é¦–å…ˆæˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚ï¼Œå¦‚æœåŒæ—¶æ»¡è¶³ä¸‹é¢ä¸¤ä¸ªæ¡ä»¶ï¼Œå°±å±äºç®€å•è¯·æ±‚ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("è¯·æ±‚æ–¹æ³•æ˜¯ "),a("code",[t._v("HEAD")]),t._v("ã€"),a("code",[t._v("GET")]),t._v("ã€"),a("code",[t._v("POST")]),t._v(" ä¸‰ç§ä¹‹ä¸€ï¼›")]),t._v(" "),a("li",[t._v("HTTP å¤´ä¿¡æ¯ä¸è¶…è¿‡å³è¾¹ç€å‡ ä¸ªå­—æ®µï¼š"),a("code",[t._v("Accept")]),t._v("ã€"),a("code",[t._v("Accept-Language")]),t._v("ã€"),a("code",[t._v("Content-Language")]),t._v("ã€"),a("code",[t._v("Last-Event-ID")]),t._v(" "),a("code",[t._v("Content-Type")]),t._v(" åªé™äºä¸‰ä¸ªå€¼ "),a("code",[t._v("application/x-www-form-urlencoded")]),t._v("ã€"),a("code",[t._v("multipart/form-data")]),t._v("ã€"),a("code",[t._v("text/plain")]),t._v("ï¼›")])]),t._v(" "),a("p",[t._v("å‡¡æ˜¯ä¸åŒæ—¶æ»¡è¶³è¿™ä¸¤ä¸ªæ¡ä»¶çš„ï¼Œéƒ½å±äºéç®€å•è¯·æ±‚ã€‚")]),t._v(" "),a("p",[t._v("æµè§ˆå™¨å¤„ç†ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚çš„æ–¹å¼ä¸ä¸€æ ·ï¼š")]),t._v(" "),a("h4",{attrs:{id:"_2-1-1-ç®€å•è¯·æ±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-ç®€å•è¯·æ±‚"}},[t._v("#")]),t._v(" 2.1.1 "),a("strong",[t._v("ç®€å•è¯·æ±‚")])]),t._v(" "),a("p",[t._v("å¯¹äºç®€å•è¯·æ±‚ï¼Œæµè§ˆå™¨ä¼šåœ¨å¤´ä¿¡æ¯ä¸­å¢åŠ  "),a("code",[t._v("Origin")]),t._v(" å­—æ®µåç›´æ¥å‘å‡ºï¼Œ"),a("code",[t._v("Origin")]),t._v(" å­—æ®µç”¨æ¥è¯´æ˜ï¼Œæœ¬æ¬¡è¯·æ±‚æ¥è‡ªçš„å“ªä¸ªæºï¼ˆåè®®+åŸŸå+ç«¯å£ï¼‰ã€‚")]),t._v(" "),a("p",[t._v("å¦‚æœæœåŠ¡å™¨å‘ç° "),a("code",[t._v("Origin")]),t._v(" æŒ‡å®šçš„æºä¸åœ¨è®¸å¯èŒƒå›´å†…ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ªæ­£å¸¸çš„ HTTP å›åº”ï¼Œæµè§ˆå™¨å–åˆ°å›åº”ä¹‹åå‘ç°å›åº”çš„å¤´ä¿¡æ¯ä¸­æ²¡æœ‰åŒ…å« "),a("code",[t._v("Access-Control-Allow-Origin")]),t._v(" å­—æ®µï¼Œå°±æŠ›å‡ºä¸€ä¸ªé”™è¯¯ç»™ XHR çš„ "),a("code",[t._v("error")]),t._v(" äº‹ä»¶ï¼›")]),t._v(" "),a("p",[t._v("å¦‚æœæœåŠ¡å™¨å‘ç° "),a("code",[t._v("Origin")]),t._v(" æŒ‡å®šçš„åŸŸååœ¨è®¸å¯èŒƒå›´å†…ï¼ŒæœåŠ¡å™¨è¿”å›çš„å“åº”ä¼šå¤šå‡ºå‡ ä¸ª "),a("code",[t._v("Access-Control-")]),t._v(" å¼€å¤´çš„å¤´ä¿¡æ¯å­—æ®µã€‚")]),t._v(" "),a("h4",{attrs:{id:"_2-1-2-éç®€å•è¯·æ±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-éç®€å•è¯·æ±‚"}},[t._v("#")]),t._v(" 2.1.2 "),a("strong",[t._v("éç®€å•è¯·æ±‚")])]),t._v(" "),a("p",[t._v("éç®€å•è¯·æ±‚æ˜¯é‚£ç§å¯¹æœåŠ¡å™¨æœ‰ç‰¹æ®Šè¦æ±‚çš„è¯·æ±‚ï¼Œæ¯”å¦‚è¯·æ±‚æ–¹æ³•æ˜¯ "),a("code",[t._v("PUT")]),t._v(" æˆ– "),a("code",[t._v("DELETE")]),t._v("ï¼Œæˆ– "),a("code",[t._v("Content-Type")]),t._v(" å€¼ä¸º "),a("code",[t._v("application/json")]),t._v("ã€‚æµè§ˆå™¨ä¼šåœ¨æ­£å¼é€šä¿¡ä¹‹å‰ï¼Œå‘é€ä¸€æ¬¡ HTTP é¢„æ£€ "),a("code",[t._v("OPTIONS")]),t._v(" è¯·æ±‚ï¼Œå…ˆè¯¢é—®æœåŠ¡å™¨ï¼Œå½“å‰ç½‘é¡µæ‰€åœ¨çš„åŸŸåæ˜¯å¦åœ¨æœåŠ¡å™¨çš„è®¸å¯åå•ä¹‹ä¸­ï¼Œä»¥åŠå¯ä»¥ä½¿ç”¨å“ªäº› HTTP è¯·æ±‚æ–¹æ³•å’Œå¤´ä¿¡æ¯å­—æ®µã€‚åªæœ‰å¾—åˆ°è‚¯å®šç­”å¤ï¼Œæµè§ˆå™¨æ‰ä¼šå‘å‡ºæ­£å¼çš„ "),a("code",[t._v("XHR")]),t._v(" è¯·æ±‚ï¼Œå¦åˆ™æŠ¥é”™ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_2-2-è·¨åŸŸ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-è·¨åŸŸ"}},[t._v("#")]),t._v(" 2.2 è·¨åŸŸ")]),t._v(" "),a("p",[t._v("åœ¨æµè§ˆå™¨ä¸Šå½“å‰è®¿é—®çš„ç½‘ç«™å‘å¦ä¸€ä¸ªç½‘ç«™å‘é€è¯·æ±‚è·å–æ•°æ®çš„è¿‡ç¨‹å°±æ˜¯"),a("strong",[t._v("è·¨åŸŸè¯·æ±‚")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("è·¨åŸŸæ˜¯æµè§ˆå™¨çš„åŒæºç­–ç•¥å†³å®šçš„ï¼Œæ˜¯ä¸€ä¸ªé‡è¦çš„æµè§ˆå™¨å®‰å…¨ç­–ç•¥ï¼Œç”¨äºé™åˆ¶ä¸€ä¸ª originçš„æ–‡æ¡£æˆ–è€…å®ƒåŠ è½½çš„è„šæœ¬ä¸å¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ï¼Œå®ƒèƒ½å¤Ÿå¸®åŠ©é˜»éš”æ¶æ„æ–‡æ¡£ï¼Œå‡å°‘å¯èƒ½è¢«æ”»å‡»çš„åª’ä»‹ï¼Œå¯ä»¥ä½¿ç”¨ CORSé…ç½®è§£é™¤è¿™ä¸ªé™åˆ¶ã€‚")]),t._v(" "),a("p",[t._v("å…³äºè·¨åŸŸç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šè§£é‡Šï¼Œè¿™é‡Œå°±ä¸å•°å—¦ï¼Œä¹Ÿå¯ä»¥ç›´æ¥çœ‹ MDN çš„æµè§ˆå™¨çš„åŒæºç­–ç•¥æ–‡æ¡£è¿›ä¸€æ­¥äº†è§£ï¼Œè¿™é‡Œå°±åˆ—ä¸¾å‡ ä¸ªåŒæºå’Œä¸åŒå…ƒçš„ä¾‹å­ï¼Œç›¸ä¿¡ç¨‹åºå‘˜éƒ½èƒ½çœ‹å¾—æ‡‚ã€‚")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åŒæºçš„ä¾‹å­")]),t._v("\nhttp://example.com/app1/index.html  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åªæ˜¯è·¯å¾„ä¸åŒ")]),t._v("\nhttp://example.com/app2/index.html\n\nhttp://Example.com:80  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åªæ˜¯å¤§å°å†™å·®å¼‚")]),t._v("\nhttp://example.com\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä¸åŒæºçš„ä¾‹å­")]),t._v("\nhttp://example.com/app1   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åè®®ä¸åŒ")]),t._v("\nhttps://example.com/app2\n\nhttp://example.com        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# host ä¸åŒ")]),t._v("\nhttp://www.example.com\nhttp://myapp.example.com\n\nhttp://example.com        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç«¯å£ä¸åŒ")]),t._v("\nhttp://example.com:8080\n")])])]),a("h3",{attrs:{id:"_2-3-æ­£å‘ä»£ç†å’Œåå‘ä»£ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-æ­£å‘ä»£ç†å’Œåå‘ä»£ç†"}},[t._v("#")]),t._v(" 2.3 æ­£å‘ä»£ç†å’Œåå‘ä»£ç†")]),t._v(" "),a("p",[t._v("åå‘ä»£ç†ï¼ˆReverse Proxyï¼‰å¯¹åº”çš„æ˜¯æ­£å‘ä»£ç†ï¼ˆForward Proxyï¼‰ï¼Œä»–ä»¬çš„åŒºåˆ«ï¼š")]),t._v(" "),a("p",[a("strong",[t._v("æ­£å‘ä»£ç†ï¼š")]),t._v(" ä¸€èˆ¬çš„è®¿é—®æµç¨‹æ˜¯å®¢æˆ·ç«¯ç›´æ¥å‘ç›®æ ‡æœåŠ¡å™¨å‘é€è¯·æ±‚å¹¶è·å–å†…å®¹ï¼Œä½¿ç”¨æ­£å‘ä»£ç†åï¼Œå®¢æˆ·ç«¯æ”¹ä¸ºå‘ä»£ç†æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œå¹¶æŒ‡å®šç›®æ ‡æœåŠ¡å™¨ï¼ˆåŸå§‹æœåŠ¡å™¨ï¼‰ï¼Œç„¶åç”±ä»£ç†æœåŠ¡å™¨å’ŒåŸå§‹æœåŠ¡å™¨é€šä¿¡ï¼Œè½¬äº¤è¯·æ±‚å¹¶è·å¾—çš„å†…å®¹ï¼Œå†è¿”å›ç»™å®¢æˆ·ç«¯ã€‚æ­£å‘ä»£ç†éšè—äº†çœŸå®çš„å®¢æˆ·ç«¯ï¼Œä¸ºå®¢æˆ·ç«¯æ”¶å‘è¯·æ±‚ï¼Œä½¿çœŸå®å®¢æˆ·ç«¯å¯¹æœåŠ¡å™¨ä¸å¯è§ï¼›")]),t._v(" "),a("p",[t._v("ä¸¾ä¸ªå…·ä½“çš„ä¾‹å­ ğŸŒ°ï¼Œä½ çš„æµè§ˆå™¨æ— æ³•ç›´æ¥è®¿é—®è°·å“¥ï¼Œè¿™æ—¶å€™å¯ä»¥é€šè¿‡ä¸€ä¸ªä»£ç†æœåŠ¡å™¨æ¥å¸®åŠ©ä½ è®¿é—®è°·å“¥ï¼Œé‚£ä¹ˆè¿™ä¸ªæœåŠ¡å™¨å°±å«æ­£å‘ä»£ç†ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("åå‘ä»£ç†ï¼š")]),t._v(" ä¸ä¸€èˆ¬è®¿é—®æµç¨‹ç›¸æ¯”ï¼Œä½¿ç”¨åå‘ä»£ç†åï¼Œç›´æ¥æ”¶åˆ°è¯·æ±‚çš„æœåŠ¡å™¨æ˜¯ä»£ç†æœåŠ¡å™¨ï¼Œç„¶åå°†è¯·æ±‚è½¬å‘ç»™å†…éƒ¨ç½‘ç»œä¸ŠçœŸæ­£è¿›è¡Œå¤„ç†çš„æœåŠ¡å™¨ï¼Œå¾—åˆ°çš„ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚åå‘ä»£ç†éšè—äº†çœŸå®çš„æœåŠ¡å™¨ï¼Œä¸ºæœåŠ¡å™¨æ”¶å‘è¯·æ±‚ï¼Œä½¿çœŸå®æœåŠ¡å™¨å¯¹å®¢æˆ·ç«¯ä¸å¯è§ã€‚ä¸€èˆ¬åœ¨å¤„ç†è·¨åŸŸè¯·æ±‚çš„æ—¶å€™æ¯”è¾ƒå¸¸ç”¨ã€‚ç°åœ¨åŸºæœ¬ä¸Šæ‰€æœ‰çš„å¤§å‹ç½‘ç«™éƒ½è®¾ç½®äº†åå‘ä»£ç†ã€‚")]),t._v(" "),a("p",[t._v("ä¸¾ä¸ªå…·ä½“çš„ä¾‹å­ ğŸŒ°ï¼Œå»é¥­åº—åƒé¥­ï¼Œå¯ä»¥ç‚¹å·èœã€ç²¤èœã€æ±Ÿæµ™èœï¼Œé¥­åº—ä¹Ÿåˆ†åˆ«æœ‰ä¸‰ä¸ªèœç³»çš„å¨å¸ˆ ğŸ‘¨â€ğŸ³ï¼Œä½†æ˜¯ä½ ä½œä¸ºé¡¾å®¢ä¸ç”¨ç®¡å“ªä¸ªå¨å¸ˆç»™ä½ åšçš„èœï¼Œåªç”¨ç‚¹èœå³å¯ï¼Œå°äºŒå°†ä½ èœå•ä¸­çš„èœåˆ†é…ç»™ä¸åŒçš„å¨å¸ˆæ¥å…·ä½“å¤„ç†ï¼Œé‚£ä¹ˆè¿™ä¸ªå°äºŒå°±æ˜¯åå‘ä»£ç†æœåŠ¡å™¨ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("ç®€å•çš„è¯´ï¼Œä¸€èˆ¬ç»™å®¢æˆ·ç«¯åšä»£ç†çš„éƒ½æ˜¯æ­£å‘ä»£ç†ï¼Œç»™æœåŠ¡å™¨åšä»£ç†çš„å°±æ˜¯åå‘ä»£ç†ã€‚")])]),t._v(" "),a("p",[t._v("æ­£å‘ä»£ç†å’Œåå‘ä»£ç†ä¸»è¦çš„åŸç†åŒºåˆ«å¯ä»¥å‚è§ä¸‹å›¾ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220724222601079.png",alt:"image-20220724222601079"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220724222610707.png",alt:"image-20220724222610707"}})]),t._v(" "),a("h3",{attrs:{id:"_2-4-è´Ÿè½½å‡è¡¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-è´Ÿè½½å‡è¡¡"}},[t._v("#")]),t._v(" 2.4 è´Ÿè½½å‡è¡¡")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯å‘é€å¤šä¸ªè¯·æ±‚åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†å¯èƒ½è¦æ“ä½œä¸€äº›èµ„æºæ¯”å¦‚æ•°æ®åº“ã€é™æ€èµ„æºç­‰ï¼ŒæœåŠ¡å™¨å¤„ç†å®Œæ¯•åï¼Œå†å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚")]),t._v(" "),a("p",[t._v("è¿™ç§æ¨¡å¼å¯¹äºæ—©æœŸçš„ç³»ç»Ÿæ¥è¯´ï¼ŒåŠŸèƒ½è¦æ±‚ä¸å¤æ‚ï¼Œä¸”å¹¶å‘è¯·æ±‚ç›¸å¯¹è¾ƒå°‘çš„æƒ…å†µä¸‹è¿˜èƒ½èƒœä»»ï¼Œæˆæœ¬ä¹Ÿä½ã€‚éšç€ä¿¡æ¯æ•°é‡ä¸æ–­å¢é•¿ï¼Œè®¿é—®é‡å’Œæ•°æ®é‡é£é€Ÿå¢é•¿ï¼Œä»¥åŠç³»ç»Ÿä¸šåŠ¡å¤æ‚åº¦æŒç»­å¢åŠ ï¼Œè¿™ç§åšæ³•å·²æ— æ³•æ»¡è¶³è¦æ±‚ï¼Œå¹¶å‘é‡ç‰¹åˆ«å¤§æ—¶ï¼ŒæœåŠ¡å™¨å®¹æ˜“å´©ã€‚")]),t._v(" "),a("p",[t._v("å¾ˆæ˜æ˜¾è¿™æ˜¯ç”±äºæœåŠ¡å™¨æ€§èƒ½çš„ç“¶é¢ˆé€ æˆçš„é—®é¢˜ï¼Œé™¤äº†å †æœºå™¨ä¹‹å¤–ï¼Œæœ€é‡è¦çš„åšæ³•å°±æ˜¯è´Ÿè½½å‡è¡¡ã€‚")]),t._v(" "),a("p",[t._v("è¯·æ±‚çˆ†å‘å¼å¢é•¿çš„æƒ…å†µä¸‹ï¼Œå•ä¸ªæœºå™¨æ€§èƒ½å†å¼ºåŠ²ä¹Ÿæ— æ³•æ»¡è¶³è¦æ±‚äº†ï¼Œè¿™ä¸ªæ—¶å€™é›†ç¾¤çš„æ¦‚å¿µäº§ç”Ÿäº†ï¼Œå•ä¸ªæœåŠ¡å™¨è§£å†³ä¸äº†çš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ªæœåŠ¡å™¨ï¼Œç„¶åå°†è¯·æ±‚åˆ†å‘åˆ°å„ä¸ªæœåŠ¡å™¨ä¸Šï¼Œå°†è´Ÿè½½åˆ†å‘åˆ°ä¸åŒçš„æœåŠ¡å™¨ï¼Œè¿™å°±æ˜¯"),a("strong",[t._v("è´Ÿè½½å‡è¡¡")]),t._v("ï¼Œæ ¸å¿ƒæ˜¯ã€Œåˆ†æ‘Šå‹åŠ›ã€ã€‚Nginx å®ç°è´Ÿè½½å‡è¡¡ï¼Œä¸€èˆ¬æ¥è¯´æŒ‡çš„æ˜¯å°†è¯·æ±‚è½¬å‘ç»™æœåŠ¡å™¨é›†ç¾¤ã€‚")]),t._v(" "),a("p",[t._v("ä¸¾ä¸ªå…·ä½“çš„ä¾‹å­ ğŸŒ°ï¼Œæ™šé«˜å³°ä¹˜ååœ°é“çš„æ—¶å€™ï¼Œå…¥ç«™å£ç»å¸¸ä¼šæœ‰åœ°é“å·¥ä½œäººå‘˜å¤§å–‡å­â€œè¯·èµ° B å£ï¼ŒB å£äººå°‘è½¦ç©º....â€ï¼Œè¿™ä¸ªå·¥ä½œäººå‘˜çš„ä½œç”¨å°±æ˜¯è´Ÿè½½å‡è¡¡ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220724225746333.png",alt:"image-20220724225746333"}})]),t._v(" "),a("h3",{attrs:{id:"_2-5-åŠ¨é™åˆ†ç¦»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-åŠ¨é™åˆ†ç¦»"}},[t._v("#")]),t._v(" 2.5 åŠ¨é™åˆ†ç¦»")]),t._v(" "),a("p",[t._v("ä¸ºäº†åŠ å¿«ç½‘ç«™çš„è§£æé€Ÿåº¦ï¼Œå¯ä»¥æŠŠåŠ¨æ€é¡µé¢å’Œé™æ€é¡µé¢ç”±ä¸åŒçš„æœåŠ¡å™¨æ¥è§£æï¼ŒåŠ å¿«è§£æé€Ÿåº¦ï¼Œé™ä½åŸæ¥å•ä¸ªæœåŠ¡å™¨çš„å‹åŠ›ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220724225816748.png",alt:"image-20220724225816748"}})]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æ¥è¯´ï¼Œéƒ½éœ€è¦å°†åŠ¨æ€èµ„æºå’Œé™æ€èµ„æºåˆ†å¼€ï¼Œç”±äº Nginx çš„é«˜å¹¶å‘å’Œé™æ€èµ„æºç¼“å­˜ç­‰ç‰¹æ€§ï¼Œç»å¸¸å°†é™æ€èµ„æºéƒ¨ç½²åœ¨ Nginx ä¸Šã€‚å¦‚æœè¯·æ±‚çš„æ˜¯é™æ€èµ„æºï¼Œç›´æ¥åˆ°é™æ€èµ„æºç›®å½•è·å–èµ„æºï¼Œå¦‚æœæ˜¯åŠ¨æ€èµ„æºçš„è¯·æ±‚ï¼Œåˆ™åˆ©ç”¨åå‘ä»£ç†çš„åŸç†ï¼ŒæŠŠè¯·æ±‚è½¬å‘ç»™å¯¹åº”åå°åº”ç”¨å»å¤„ç†ï¼Œä»è€Œå®ç°åŠ¨é™åˆ†ç¦»ã€‚")]),t._v(" "),a("p",[t._v("ä½¿ç”¨å‰åç«¯åˆ†ç¦»åï¼Œå¯ä»¥å¾ˆå¤§ç¨‹åº¦æå‡é™æ€èµ„æºçš„è®¿é—®é€Ÿåº¦ï¼Œå³ä½¿åŠ¨æ€æœåŠ¡ä¸å¯ç”¨ï¼Œé™æ€èµ„æºçš„è®¿é—®ä¹Ÿä¸ä¼šå—åˆ°å½±å“ã€‚")]),t._v(" "),a("h2",{attrs:{id:"_3-nginx-å¿«é€Ÿå®‰è£…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-nginx-å¿«é€Ÿå®‰è£…"}},[t._v("#")]),t._v(" 3. Nginx å¿«é€Ÿå®‰è£…")]),t._v(" "),a("p",[t._v("ç•¥")]),t._v(" "),a("h2",{attrs:{id:"_4-nginx-æ“ä½œå¸¸ç”¨å‘½ä»¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-nginx-æ“ä½œå¸¸ç”¨å‘½ä»¤"}},[t._v("#")]),t._v(" 4. Nginx æ“ä½œå¸¸ç”¨å‘½ä»¤")]),t._v(" "),a("p",[t._v("Nginx çš„å‘½ä»¤åœ¨æ§åˆ¶å°ä¸­è¾“å…¥ "),a("code",[t._v("nginx -h")]),t._v(" å°±å¯ä»¥çœ‹åˆ°å®Œæ•´çš„å‘½ä»¤ï¼Œè¿™é‡Œåˆ—ä¸¾å‡ ä¸ªå¸¸ç”¨çš„å‘½ä»¤ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("nginx -s reload  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å‘ä¸»è¿›ç¨‹å‘é€ä¿¡å·ï¼Œé‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ï¼Œçƒ­é‡å¯")]),t._v("\nnginx -s reopen\t "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é‡å¯ Nginx")]),t._v("\nnginx -s stop    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¿«é€Ÿå…³é—­")]),t._v("\nnginx -s quit    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç­‰å¾…å·¥ä½œè¿›ç¨‹å¤„ç†å®Œæˆåå…³é—­")]),t._v("\nnginx -T         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æŸ¥çœ‹å½“å‰ Nginx æœ€ç»ˆçš„é…ç½®")]),t._v("\nnginx -t -c "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("é…ç½®è·¯å¾„"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ£€æŸ¥é…ç½®æ˜¯å¦æœ‰é—®é¢˜ï¼Œå¦‚æœå·²ç»åœ¨é…ç½®ç›®å½•ï¼Œåˆ™ä¸éœ€è¦-c")]),t._v("\nå¤åˆ¶ä»£ç \n")])])]),a("p",[a("code",[t._v("systemctl")]),t._v(" æ˜¯ Linux ç³»ç»Ÿåº”ç”¨ç®¡ç†å·¥å…· "),a("code",[t._v("systemd")]),t._v(" çš„ä¸»å‘½ä»¤ï¼Œç”¨äºç®¡ç†ç³»ç»Ÿï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨å®ƒæ¥å¯¹ Nginx è¿›è¡Œç®¡ç†ï¼Œç›¸å…³å‘½ä»¤å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("systemctl start nginx    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¯åŠ¨ Nginx")]),t._v("\nsystemctl stop nginx     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åœæ­¢ Nginx")]),t._v("\nsystemctl restart nginx  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é‡å¯ Nginx")]),t._v("\nsystemctl reload nginx   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é‡æ–°åŠ è½½ Nginxï¼Œç”¨äºä¿®æ”¹é…ç½®å")]),t._v("\nsystemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v(" nginx   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è®¾ç½®å¼€æœºå¯åŠ¨ Nginx")]),t._v("\nsystemctl disable nginx  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å…³é—­å¼€æœºå¯åŠ¨ Nginx")]),t._v("\nsystemctl status nginx   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æŸ¥çœ‹ Nginx è¿è¡ŒçŠ¶æ€")]),t._v("\n")])])]),a("h2",{attrs:{id:"_5-nginx-é…ç½®è¯­æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-nginx-é…ç½®è¯­æ³•"}},[t._v("#")]),t._v(" 5. Nginx é…ç½®è¯­æ³•")]),t._v(" "),a("p",[t._v("å°±è·Ÿå‰é¢æ–‡ä»¶ä½œç”¨è®²è§£çš„å›¾æ‰€ç¤ºï¼ŒNginx çš„ä¸»é…ç½®æ–‡ä»¶æ˜¯ "),a("code",[t._v("/etc/nginx/nginx.conf")]),t._v("ï¼Œä½ å¯ä»¥ä½¿ç”¨ "),a("code",[t._v("cat -n nginx.conf")]),t._v(" æ¥æŸ¥çœ‹é…ç½®ã€‚")]),t._v(" "),a("p",[a("code",[t._v("nginx.conf")]),t._v(" ç»“æ„å›¾å¯ä»¥è¿™æ ·æ¦‚æ‹¬ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("main        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å…¨å±€é…ç½®ï¼Œå¯¹å…¨å±€ç”Ÿæ•ˆ")]),t._v("\nâ”œâ”€â”€ events  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é…ç½®å½±å“ Nginx æœåŠ¡å™¨æˆ–ä¸ç”¨æˆ·çš„ç½‘ç»œè¿æ¥")]),t._v("\nâ”œâ”€â”€ http    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é…ç½®ä»£ç†ï¼Œç¼“å­˜ï¼Œæ—¥å¿—å®šä¹‰ç­‰ç»å¤§å¤šæ•°åŠŸèƒ½å’Œç¬¬ä¸‰æ–¹æ¨¡å—çš„é…ç½®")]),t._v("\nâ”‚   â”œâ”€â”€ upstream "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é…ç½®åç«¯æœåŠ¡å™¨å…·ä½“åœ°å€ï¼Œè´Ÿè½½å‡è¡¡é…ç½®ä¸å¯æˆ–ç¼ºçš„éƒ¨åˆ†")]),t._v("\nâ”‚   â”œâ”€â”€ server   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é…ç½®è™šæ‹Ÿä¸»æœºçš„ç›¸å…³å‚æ•°ï¼Œä¸€ä¸ª http å—ä¸­å¯ä»¥æœ‰å¤šä¸ª server å—")]),t._v("\nâ”‚   â”œâ”€â”€ server\nâ”‚   â”‚   â”œâ”€â”€ location  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# server å—å¯ä»¥åŒ…å«å¤šä¸ª location å—ï¼Œlocation æŒ‡ä»¤ç”¨äºåŒ¹é… uri")]),t._v("\nâ”‚   â”‚   â”œâ”€â”€ location\nâ”‚   â”‚   â””â”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nâ”‚   â””â”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nâ””â”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nå¤åˆ¶ä»£ç \n")])])]),a("p",[t._v("ä¸€ä¸ª Nginx é…ç½®æ–‡ä»¶çš„ç»“æ„å°±åƒ "),a("code",[t._v("nginx.conf")]),t._v(" æ˜¾ç¤ºçš„é‚£æ ·ï¼Œé…ç½®æ–‡ä»¶çš„è¯­æ³•è§„åˆ™ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("é…ç½®æ–‡ä»¶ç”±æŒ‡ä»¤ä¸æŒ‡ä»¤å—æ„æˆï¼›")]),t._v(" "),a("li",[t._v("æ¯æ¡æŒ‡ä»¤ä»¥ "),a("code",[t._v(";")]),t._v(" åˆ†å·ç»“å°¾ï¼ŒæŒ‡ä»¤ä¸å‚æ•°é—´ä»¥ç©ºæ ¼ç¬¦å·åˆ†éš”ï¼›")]),t._v(" "),a("li",[t._v("æŒ‡ä»¤å—ä»¥ "),a("code",[t._v("{}")]),t._v(" å¤§æ‹¬å·å°†å¤šæ¡æŒ‡ä»¤ç»„ç»‡åœ¨ä¸€èµ·ï¼›")]),t._v(" "),a("li",[a("code",[t._v("include")]),t._v(" è¯­å¥å…è®¸ç»„åˆå¤šä¸ªé…ç½®æ–‡ä»¶ä»¥æå‡å¯ç»´æŠ¤æ€§ï¼›")]),t._v(" "),a("li",[t._v("ä½¿ç”¨ "),a("code",[t._v("#")]),t._v(" ç¬¦å·æ·»åŠ æ³¨é‡Šï¼Œæé«˜å¯è¯»æ€§ï¼›")]),t._v(" "),a("li",[t._v("ä½¿ç”¨ "),a("code",[t._v("$")]),t._v(" ç¬¦å·ä½¿ç”¨å˜é‡ï¼›")]),t._v(" "),a("li",[t._v("éƒ¨åˆ†æŒ‡ä»¤çš„å‚æ•°æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼›")])]),t._v(" "),a("h3",{attrs:{id:"_5-1-å…¸å‹é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-å…¸å‹é…ç½®"}},[t._v("#")]),t._v(" 5.1 å…¸å‹é…ç½®")]),t._v(" "),a("p",[t._v("Nginx çš„å…¸å‹é…ç½®ï¼š")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("user")]),t._v("  nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("                        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¿è¡Œç”¨æˆ·ï¼Œé»˜è®¤å³æ˜¯nginxï¼Œå¯ä»¥ä¸è¿›è¡Œè®¾ç½®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("worker_processes")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Nginx è¿›ç¨‹æ•°ï¼Œä¸€èˆ¬è®¾ç½®ä¸ºå’Œ CPU æ ¸æ•°ä¸€æ ·")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("error_log")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("var"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("log"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("log warn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Nginx çš„é”™è¯¯æ—¥å¿—å­˜æ”¾ç›®å½•")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pid")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("var"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("run"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pid")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Nginx æœåŠ¡å¯åŠ¨æ—¶çš„ pid å­˜æ”¾ä½ç½®")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("events")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" epoll"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä½¿ç”¨epollçš„I/Oæ¨¡å‹(å¦‚æœä½ ä¸çŸ¥é“Nginxè¯¥ä½¿ç”¨å“ªç§è½®è¯¢æ–¹æ³•ï¼Œä¼šè‡ªåŠ¨é€‰æ‹©ä¸€ä¸ªæœ€é€‚åˆä½ æ“ä½œç³»ç»Ÿçš„)")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("worker_connections")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ¯ä¸ªè¿›ç¨‹å…è®¸æœ€å¤§å¹¶å‘æ•°")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("http")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é…ç½®ä½¿ç”¨æœ€é¢‘ç¹çš„éƒ¨åˆ†ï¼Œä»£ç†ã€ç¼“å­˜ã€æ—¥å¿—å®šä¹‰ç­‰ç»å¤§å¤šæ•°åŠŸèƒ½å’Œç¬¬ä¸‰æ–¹æ¨¡å—çš„é…ç½®éƒ½åœ¨è¿™é‡Œè®¾ç½®")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è®¾ç½®æ—¥å¿—æ¨¡å¼")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("log_format")]),t._v("  main  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$remote_addr - $remote_user [$time_local] \"$request\" '")]),t._v("\n                      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$status $body_bytes_sent \"$http_referer\" '")]),t._v("\n                      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'"$http_user_agent" "$http_x_forwarded_for"\'')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("access_log")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("var"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("log"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("access"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("log  main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Nginxè®¿é—®æ—¥å¿—å­˜æ”¾ä½ç½®")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sendfile")]),t._v("            on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¼€å¯é«˜æ•ˆä¼ è¾“æ¨¡å¼")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("tcp_nopush")]),t._v("          on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å‡å°‘ç½‘ç»œæŠ¥æ–‡æ®µçš„æ•°é‡")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("tcp_nodelay")]),t._v("         on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("keepalive_timeout")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("65")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä¿æŒè¿æ¥çš„æ—¶é—´ï¼Œä¹Ÿå«è¶…æ—¶æ—¶é—´ï¼Œå•ä½ç§’")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("types_hash_max_size")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2048")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("include")]),t._v("             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("types")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ–‡ä»¶æ‰©å±•åä¸ç±»å‹æ˜ å°„è¡¨")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default_type")]),t._v("        application"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("octet"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é»˜è®¤æ–‡ä»¶ç±»å‹")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("include")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åŠ è½½å­é…ç½®é¡¹")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("listen")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é…ç½®ç›‘å¬çš„ç«¯å£")]),t._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server_name")]),t._v("  localhost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é…ç½®çš„åŸŸå")]),t._v("\n    \t\n    \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("root")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("share"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç½‘ç«™æ ¹ç›®å½•")]),t._v("\n    \t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("htm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é»˜è®¤é¦–é¡µæ–‡ä»¶")]),t._v("\n    \t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("deny")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".22")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç¦æ­¢è®¿é—®çš„ipåœ°å€ï¼Œå¯ä»¥ä¸ºall")]),t._v("\n    \t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("allow")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".33")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".44")]),t._v("ï¼› "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å…è®¸è®¿é—®çš„ipåœ°å€ï¼Œå¯ä»¥ä¸ºall")]),t._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \t\n    \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("error_page")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("502")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("503")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("504")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é»˜è®¤50xå¯¹åº”çš„è®¿é—®é¡µé¢")]),t._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("error_page")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("400")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("404")]),t._v(" error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åŒä¸Š")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("server å—å¯ä»¥åŒ…å«å¤šä¸ª location å—ï¼Œlocation æŒ‡ä»¤ç”¨äºåŒ¹é… uriï¼Œè¯­æ³•ï¼š")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" uri "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æŒ‡ä»¤åé¢ï¼š")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("=")]),t._v(" ç²¾ç¡®åŒ¹é…è·¯å¾„ï¼Œç”¨äºä¸å«æ­£åˆ™è¡¨è¾¾å¼çš„ uri å‰ï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œä¸å†è¿›è¡Œåç»­çš„æŸ¥æ‰¾ï¼›")]),t._v(" "),a("li",[a("code",[t._v("^~")]),t._v(" ç”¨äºä¸å«æ­£åˆ™è¡¨è¾¾å¼çš„ uriï¼› å‰ï¼Œè¡¨ç¤ºå¦‚æœè¯¥ç¬¦å·åé¢çš„å­—ç¬¦æ˜¯æœ€ä½³åŒ¹é…ï¼Œé‡‡ç”¨è¯¥è§„åˆ™ï¼Œä¸å†è¿›è¡Œåç»­çš„æŸ¥æ‰¾ï¼›")]),t._v(" "),a("li",[a("code",[t._v("~")]),t._v(" è¡¨ç¤ºç”¨è¯¥ç¬¦å·åé¢çš„æ­£åˆ™å»åŒ¹é…è·¯å¾„ï¼ŒåŒºåˆ†å¤§å°å†™ï¼›")]),t._v(" "),a("li",[a("code",[t._v("~*")]),t._v(" è¡¨ç¤ºç”¨è¯¥ç¬¦å·åé¢çš„æ­£åˆ™å»åŒ¹é…è·¯å¾„ï¼Œä¸åŒºåˆ†å¤§å°å†™ã€‚è·Ÿ "),a("code",[t._v("~")]),t._v(" ä¼˜å…ˆçº§éƒ½æ¯”è¾ƒä½ï¼Œå¦‚æœ‰å¤šä¸ªlocationçš„æ­£åˆ™èƒ½åŒ¹é…çš„è¯ï¼Œåˆ™ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœ€é•¿çš„é‚£ä¸ªï¼›")])]),t._v(" "),a("p",[t._v("å¦‚æœ uri åŒ…å«æ­£åˆ™è¡¨è¾¾å¼ï¼Œåˆ™å¿…é¡»è¦æœ‰ "),a("code",[t._v("~")]),t._v(" æˆ– "),a("code",[t._v("~*")]),t._v(" æ ‡å¿—ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_5-2-å…¨å±€å˜é‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-å…¨å±€å˜é‡"}},[t._v("#")]),t._v(" 5.2 å…¨å±€å˜é‡")]),t._v(" "),a("p",[t._v("Nginx æœ‰ä¸€äº›å¸¸ç”¨çš„å…¨å±€å˜é‡ï¼Œä½ å¯ä»¥åœ¨é…ç½®çš„ä»»ä½•ä½ç½®ä½¿ç”¨å®ƒä»¬ï¼Œå¦‚ä¸‹è¡¨ï¼š")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("å…¨å±€å˜é‡å")]),t._v(" "),a("th",[t._v("åŠŸèƒ½")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("$host")])]),t._v(" "),a("td",[t._v("è¯·æ±‚ä¿¡æ¯ä¸­çš„ "),a("code",[t._v("Host")]),t._v("ï¼Œå¦‚æœè¯·æ±‚ä¸­æ²¡æœ‰ "),a("code",[t._v("Host")]),t._v(" è¡Œï¼Œåˆ™ç­‰äºè®¾ç½®çš„æœåŠ¡å™¨åï¼Œä¸åŒ…å«ç«¯å£")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("$request_method")])]),t._v(" "),a("td",[t._v("å®¢æˆ·ç«¯è¯·æ±‚ç±»å‹ï¼Œå¦‚ "),a("code",[t._v("GET")]),t._v("ã€"),a("code",[t._v("POST")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("$remote_addr")])]),t._v(" "),a("td",[t._v("å®¢æˆ·ç«¯çš„ "),a("code",[t._v("IP")]),t._v(" åœ°å€")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("$args")])]),t._v(" "),a("td",[t._v("è¯·æ±‚ä¸­çš„å‚æ•°")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("$arg_PARAMETER")])]),t._v(" "),a("td",[a("code",[t._v("GET")]),t._v(" è¯·æ±‚ä¸­å˜é‡å PARAMETER å‚æ•°çš„å€¼ï¼Œä¾‹å¦‚ï¼š"),a("code",[t._v("$http_user_agent")]),t._v("(Uaer-Agent å€¼), "),a("code",[t._v("$http_referer")]),t._v("...")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("$content_length")])]),t._v(" "),a("td",[t._v("è¯·æ±‚å¤´ä¸­çš„ "),a("code",[t._v("Content-length")]),t._v(" å­—æ®µ")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("$http_user_agent")])]),t._v(" "),a("td",[t._v("å®¢æˆ·ç«¯agentä¿¡æ¯")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("$http_cookie")])]),t._v(" "),a("td",[t._v("å®¢æˆ·ç«¯cookieä¿¡æ¯")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("$remote_addr")])]),t._v(" "),a("td",[t._v("å®¢æˆ·ç«¯çš„IPåœ°å€")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("$remote_port")])]),t._v(" "),a("td",[t._v("å®¢æˆ·ç«¯çš„ç«¯å£")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("$http_user_agent")])]),t._v(" "),a("td",[t._v("å®¢æˆ·ç«¯agentä¿¡æ¯")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("$server_protocol")])]),t._v(" "),a("td",[t._v("è¯·æ±‚ä½¿ç”¨çš„åè®®ï¼Œå¦‚ "),a("code",[t._v("HTTP/1.0")]),t._v("ã€"),a("code",[t._v("HTTP/1.1")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("$server_addr")])]),t._v(" "),a("td",[t._v("æœåŠ¡å™¨åœ°å€")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("$server_name")])]),t._v(" "),a("td",[t._v("æœåŠ¡å™¨åç§°")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("$server_port")])]),t._v(" "),a("td",[t._v("æœåŠ¡å™¨çš„ç«¯å£å·")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("$scheme")])]),t._v(" "),a("td",[t._v("HTTP æ–¹æ³•ï¼ˆå¦‚httpï¼Œhttpsï¼‰")])])])]),t._v(" "),a("p",[t._v("è¿˜æœ‰æ›´å¤šçš„å†…ç½®é¢„å®šä¹‰å˜é‡ï¼Œå¯ä»¥ç›´æ¥æœç´¢å…³é”®å­—ã€Œnginxå†…ç½®é¢„å®šä¹‰å˜é‡ã€å¯ä»¥çœ‹åˆ°ä¸€å †åšå®¢å†™è¿™ä¸ªï¼Œè¿™äº›å˜é‡éƒ½å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­ç›´æ¥ä½¿ç”¨")]),t._v(" "),a("h2",{attrs:{id:"_6-è®¾ç½®äºŒçº§åŸŸåè™šæ‹Ÿä¸»æœº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-è®¾ç½®äºŒçº§åŸŸåè™šæ‹Ÿä¸»æœº"}},[t._v("#")]),t._v(" 6. è®¾ç½®äºŒçº§åŸŸåè™šæ‹Ÿä¸»æœº")]),t._v(" "),a("p",[t._v("åœ¨æŸæŸäº‘ â˜ï¸ ä¸Šè´­ä¹°äº†åŸŸåä¹‹åï¼Œå°±å¯ä»¥é…ç½®è™šæ‹Ÿä¸»æœºäº†ï¼Œä¸€èˆ¬é…ç½®çš„è·¯å¾„åœ¨ "),a("code",[t._v("åŸŸåç®¡ç† -> è§£æ -> æ·»åŠ è®°å½•")]),t._v(" ä¸­æ·»åŠ äºŒçº§åŸŸåï¼Œé…ç½®åæŸæŸäº‘ä¼šæŠŠäºŒçº§åŸŸåä¹Ÿè§£æåˆ°æˆ‘ä»¬é…ç½®çš„æœåŠ¡å™¨ IP ä¸Šï¼Œç„¶åæˆ‘ä»¬åœ¨ Nginx ä¸Šé…ç½®ä¸€ä¸‹è™šæ‹Ÿä¸»æœºçš„è®¿é—®ç›‘å¬ï¼Œå°±å¯ä»¥æ‹¿åˆ°ä»è¿™ä¸ªäºŒçº§åŸŸåè¿‡æ¥çš„è¯·æ±‚äº†ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220724231052047.png",alt:"image-20220724231052047"}})]),t._v(" "),a("p",[t._v("ç°åœ¨æˆ‘è‡ªå·±çš„æœåŠ¡å™¨ä¸Šé…ç½®äº†ä¸€ä¸ª fe çš„äºŒçº§åŸŸåï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨å¤–ç½‘è®¿é—® "),a("code",[t._v("fe.sherlocked93.club")]),t._v(" çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥è®¿é—®åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨äº†ã€‚")]),t._v(" "),a("p",[t._v("ç”±äºé»˜è®¤é…ç½®æ–‡ä»¶ "),a("code",[t._v("/etc/nginx/nginx.conf")]),t._v(" çš„ http æ¨¡å—ä¸­æœ‰ä¸€å¥ "),a("code",[t._v("include /etc/nginx/conf.d/*.conf")]),t._v(" ä¹Ÿå°±æ˜¯è¯´ "),a("code",[t._v("conf.d")]),t._v(" æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰ "),a("code",[t._v("*.conf")]),t._v(" æ–‡ä»¶éƒ½ä¼šä½œä¸ºå­é…ç½®é¡¹è¢«å¼•å…¥é…ç½®æ–‡ä»¶ä¸­ã€‚ä¸ºäº†ç»´æŠ¤æ–¹ä¾¿ï¼Œæˆ‘åœ¨ "),a("code",[t._v("/etc/nginx/conf.d")]),t._v(" æ–‡ä»¶å¤¹ä¸­æ–°å»ºä¸€ä¸ª "),a("code",[t._v("fe.sherlocked93.club.conf")]),t._v(" ï¼š")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# /etc/nginx/conf.d/fe.sherlocked93.club.conf")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("listen")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server_name")]),t._v(" fe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sherlocked93"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("club"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("root")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("share"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("html"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("fe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç„¶ååœ¨ "),a("code",[t._v("/usr/share/nginx/html")]),t._v(" æ–‡ä»¶å¤¹ä¸‹æ–°å»º fe æ–‡ä»¶å¤¹ï¼Œæ–°å»ºæ–‡ä»¶ "),a("code",[t._v("index.html")]),t._v("ï¼Œå†…å®¹éšä¾¿å†™ç‚¹ï¼Œæ”¹å®Œ "),a("code",[t._v("nginx -s reload")]),t._v(" é‡æ–°åŠ è½½ï¼Œæµè§ˆå™¨ä¸­è¾“å…¥ "),a("code",[t._v("fe.sherlocked93.club")]),t._v("ï¼Œå‘ç°ä»äºŒçº§åŸŸåå°±å¯ä»¥è®¿é—®åˆ°æˆ‘ä»¬åˆšåˆšæ–°å»ºçš„ fe æ–‡ä»¶å¤¹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220724231559185.png",alt:"image-20220724231559185"}})])])}),[],!1,null,null,null);s.default=e.exports}}]);