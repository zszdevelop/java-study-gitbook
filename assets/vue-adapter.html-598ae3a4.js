import{_ as a,W as e,X as p,Y as n,Z as t,$ as o,a0 as i,D as l}from"./framework-0cf5f349.js";const c={},r=i(`<h1 id="vue移动端和pc端适配方案" tabindex="-1"><a class="header-anchor" href="#vue移动端和pc端适配方案" aria-hidden="true">#</a> Vue移动端和pc端适配方案</h1><h2 id="_1-简介" tabindex="-1"><a class="header-anchor" href="#_1-简介" aria-hidden="true">#</a> 1. 简介</h2><p>vue项目移动端、pc端适配方案</p><ul><li>lib-flexible 根据屏幕宽度，自动设置html的font-size</li><li>postcss-px2rem 自动将px单位转换成rem</li></ul><h2 id="_2-基础集成使用" tabindex="-1"><a class="header-anchor" href="#_2-基础集成使用" aria-hidden="true">#</a> 2. 基础集成使用</h2><h3 id="_2-1-安装依赖" tabindex="-1"><a class="header-anchor" href="#_2-1-安装依赖" aria-hidden="true">#</a> 2.1 安装依赖</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> px2rem-loader --save-dev
<span class="token function">npm</span> <span class="token function">install</span> lib-flexible <span class="token parameter variable">--save</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-main-js中引入-lib-flexible" tabindex="-1"><a class="header-anchor" href="#_2-2-main-js中引入-lib-flexible" aria-hidden="true">#</a> 2.2 main.js中引入 &quot;lib-flexible&quot;</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">import</span> <span class="token string">&#39;lib-flexible&#39;</span> // 移动端适配 <span class="token punctuation">(</span>目录:project/src/main.js<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-3-vue-config-js-引入px2rem-loader" tabindex="-1"><a class="header-anchor" href="#_2-3-vue-config-js-引入px2rem-loader" aria-hidden="true">#</a> 2.3 vue.config.js 引入px2rem-loader</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code> module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
     <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     
         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>新增的内容<span class="token operator">--</span><span class="token operator">&gt;</span>
         config<span class="token punctuation">.</span>module
         <span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">&#39;css&#39;</span><span class="token punctuation">)</span>
         <span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
         <span class="token punctuation">.</span><span class="token function">oneOf</span><span class="token punctuation">(</span><span class="token string">&#39;vue&#39;</span><span class="token punctuation">)</span>
         <span class="token punctuation">.</span><span class="token function">resourceQuery</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\?vue</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
         <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&#39;px2rem&#39;</span><span class="token punctuation">)</span>
         <span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">&#39;px2rem-loader&#39;</span><span class="token punctuation">)</span>
         <span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
             <span class="token literal-property property">remUnit</span><span class="token operator">:</span> <span class="token number">75</span>
         <span class="token punctuation">}</span><span class="token punctuation">)</span>
         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>新增结束<span class="token operator">--</span><span class="token operator">&gt;</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-4-login-vue中根据750px设计图写页面" tabindex="-1"><a class="header-anchor" href="#_2-4-login-vue中根据750px设计图写页面" aria-hidden="true">#</a> 2.4 login.vue中根据750px设计图写页面</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>    <span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span>
        <span class="token punctuation">.</span>login<span class="token operator">-</span>wrap <span class="token punctuation">{</span>
            <span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token number">666666</span><span class="token punctuation">;</span>
            <span class="token literal-property property">height</span><span class="token operator">:</span> 100px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
    
    iphone6： height<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">.</span>3333rem
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此时是已经成功了，但是px2rem-loader这里只能仅限于css，并不能满足大多数开发需求，比如使用less,stylus,scss...这个时候就需要postcss</p><h2 id="_3-集成-postcss-plugin-px2rem" tabindex="-1"><a class="header-anchor" href="#_3-集成-postcss-plugin-px2rem" aria-hidden="true">#</a> 3. 集成 postcss-plugin-px2rem</h2><h3 id="_3-1-安装-postcss-plugin-px2rem-devdependencies" tabindex="-1"><a class="header-anchor" href="#_3-1-安装-postcss-plugin-px2rem-devdependencies" aria-hidden="true">#</a> 3.1 安装 &quot;postcss-plugin-px2rem&quot; (devDependencies)</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> postcss-plugin-px2rem --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-2-vue-config-js-配置-postcss-plugin-px2rem" tabindex="-1"><a class="header-anchor" href="#_3-2-vue-config-js-配置-postcss-plugin-px2rem" aria-hidden="true">#</a> 3.2 vue.config.js 配置 postcss-plugin-px2rem</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>        module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">lintOnSave</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>新增的内容<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">loaderOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">postcss</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;postcss-plugin-px2rem&#39;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                                <span class="token literal-property property">rootValue</span><span class="token operator">:</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token comment">//换算基数， 默认100  ，这样的话把根标签的字体规定为1rem为50px,这样就可以从设计稿上量出多少个px直接在代码中写多上px了。</span>
                                <span class="token comment">// unitPrecision: 5, //允许REM单位增长到的十进制数字。</span>
                                <span class="token comment">//propWhiteList: [],  //默认值是一个空数组，这意味着禁用白名单并启用所有属性。</span>
                                <span class="token comment">// propBlackList: [], //黑名单</span>
                                <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(node_module)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">//默认false，可以（reg）利用正则表达式排除某些文件夹的方法，例如/(node_module)\\/如果想把前端UI框架内的px也转换成rem，请把此属性设为默认值</span>
                                <span class="token comment">// selectorBlackList: [], //要忽略并保留为px的选择器</span>
                                <span class="token comment">// ignoreIdentifier: false,  //（boolean/string）忽略单个属性的方法，启用ignoreidentifier后，replace将自动设置为true。</span>
                                <span class="token comment">// replace: true, // （布尔值）替换包含REM的规则，而不是添加回退。</span>
                                <span class="token literal-property property">mediaQuery</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//（布尔值）允许在媒体查询中转换px。</span>
                                <span class="token literal-property property">minPixelValue</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token comment">//设置要替换的最小像素值(3px会被转rem)。 默认 0</span>
                            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token punctuation">]</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>新增结束<span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-package-json-中加入postcss-相关插件" tabindex="-1"><a class="header-anchor" href="#_3-3-package-json-中加入postcss-相关插件" aria-hidden="true">#</a> 3.3 package.json 中加入postcss 相关插件</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>        <span class="token punctuation">{</span>
            <span class="token string-property property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
            <span class="token string-property property">&quot;postcss&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token string-property property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token string-property property">&quot;autoprefixer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string-property property">&quot;precss&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-4-在login-vue中" tabindex="-1"><a class="header-anchor" href="#_3-4-在login-vue中" aria-hidden="true">#</a> 3.4 在login.vue中</h3><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
            <span class="token selector">.login-wrap</span> <span class="token punctuation">{</span>
                <span class="token property">background</span><span class="token punctuation">:</span> #666666<span class="token punctuation">;</span>
                <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
                <span class="token selector">.text-span</span> <span class="token punctuation">{</span>
                    <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
                    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>phone6： 
        height: 100px;  =&gt; height: 1.3333rem
        font-size: 16px; =&gt; font-size: 0.21333rem
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此时就可以在项目中成功使用less,scss,styuls和px2rem了</p><h2 id="参考文章" tabindex="-1"><a class="header-anchor" href="#参考文章" aria-hidden="true">#</a> 参考文章</h2>`,26),u={href:"https://juejin.cn/post/6844903780673142792",target:"_blank",rel:"noopener noreferrer"};function d(k,v){const s=l("ExternalLinkIcon");return e(),p("div",null,[r,n("p",null,[n("a",u,[t("vue-cli3.0 使用px2rem 或 postcss-plugin-px2rem"),o(s)])])])}const b=a(c,[["render",d],["__file","vue-adapter.html.vue"]]);export{b as default};
