import{_ as a,W as e,X as i,a0 as n}from"./framework-0cf5f349.js";const s={},l=n(`<h1 id="linux-locate查找文件" tabindex="-1"><a class="header-anchor" href="#linux-locate查找文件" aria-hidden="true">#</a> Linux-locate查找文件</h1><h2 id="_1-简介" tabindex="-1"><a class="header-anchor" href="#_1-简介" aria-hidden="true">#</a> 1 简介</h2><p>locate命令其实是“find -name”的另一种写法，但是要比后者快得多，原因在于它不搜索具体目录，<strong>而是搜索一个数据库（/var/lib/locatedb），这个数据库中含有本地所有文件信息</strong>。Linux系统自动创建这个数据库，并且<strong>每天自动更新一次</strong>，所以使用locate命令查不到最新变动过的文件。为了避免这种情况，可以在使用locate之前，先使用updatedb命令，手动更新数据库。</p><h2 id="_2-命令语法" tabindex="-1"><a class="header-anchor" href="#_2-命令语法" aria-hidden="true">#</a> 2 命令语法</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">locate</span> <span class="token punctuation">[</span>OPTION<span class="token punctuation">]</span>… <span class="token punctuation">[</span>PATTERN<span class="token punctuation">]</span>…
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_3-命令参数-用得不多" tabindex="-1"><a class="header-anchor" href="#_3-命令参数-用得不多" aria-hidden="true">#</a> 3 命令参数（用得不多）</h2><p>在mlocate数据库中搜索条目.</p><ul><li>-A, --all 只显示匹配所有模式的条目</li><li>-b, --basename 匹配唯一的路径名称的基本文件名</li><li>-c, --count 只显示找到条目的号码</li><li>-d, --database DBPATH 用 DBPATH 替代默认的数据库(/var/lib/mlocate/mlocate.db)</li><li>-e, --existing 只显示当前存在的文件条目</li><li>-L, --follow 当文件存在时跟随蔓延的符号链接 (默认)</li><li>-h, --help 显示本帮助</li><li>-i, --ignore-case 匹配模式时忽略大小写区别</li><li>-l, --limit, -n LIMIT 限制为 LIMIT项目的输出 (或 计数)</li><li>-m, --mmap 忽略向后兼容性</li><li>-P, --nofollow, -H 当检查文件时不跟随蔓延的符号链接</li><li>-0, --null 输出时以 NUL 分隔项目</li><li>-S, --statistics 不搜索项目,显示有关每个已用数据库的统计信息</li><li>-q, --quiet 不报告关于读取数据库的错误消息</li><li>-r, --regexp REGEXP 搜索基本正则表达式 REGEXP 来代替模式 --regex 模式是扩展正则表达式</li><li>-s, --stdio 忽略向后兼容性</li><li>-V, --version 显示版本信息</li><li>-w, --wholename 匹配完整路径名 (默认)</li></ul><h2 id="_4-实例" tabindex="-1"><a class="header-anchor" href="#_4-实例" aria-hidden="true">#</a> 4 实例</h2><h3 id="_4-1-查找包含某个字符串的相关文件" tabindex="-1"><a class="header-anchor" href="#_4-1-查找包含某个字符串的相关文件" aria-hidden="true">#</a> 4.1 查找包含某个字符串的相关文件</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">locate</span> redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220419113313972.png" alt="image-20220419113313972" tabindex="0" loading="lazy"><figcaption>image-20220419113313972</figcaption></figure><h3 id="_4-2-按文件名查找文件-不包含填充字符的模式被解释为-关键字" tabindex="-1"><a class="header-anchor" href="#_4-2-按文件名查找文件-不包含填充字符的模式被解释为-关键字" aria-hidden="true">#</a> 4.2 按文件名查找文件（不包含填充字符的模式被解释为 <em>关键字</em>）:</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 语法</span>
<span class="token function">locate</span> */文件名
<span class="token comment"># 示例</span>
 <span class="token function">locate</span> */redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这样过滤出的结果更加符合我们想要的</p><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220419134741153.png" alt="image-20220419134741153" tabindex="0" loading="lazy"><figcaption>image-20220419134741153</figcaption></figure><h3 id="_4-3-重新建立文件数据索引数据库。" tabindex="-1"><a class="header-anchor" href="#_4-3-重新建立文件数据索引数据库。" aria-hidden="true">#</a> 4.3 重新建立文件数据索引数据库。</h3><p>如果要查找最近添加的文件，则需要执行此操作:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> updatedb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4-4-搜索目录下所有以-sh开头的文件" tabindex="-1"><a class="header-anchor" href="#_4-4-搜索目录下所有以-sh开头的文件" aria-hidden="true">#</a> 4.4 搜索目录下所有以 sh开头的文件</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">locate</span> /bin/sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220419113440829.png" alt="image-20220419113440829" tabindex="0" loading="lazy"><figcaption>image-20220419113440829</figcaption></figure><h3 id="_4-5-指定显示数量" tabindex="-1"><a class="header-anchor" href="#_4-5-指定显示数量" aria-hidden="true">#</a> 4.5 指定显示数量</h3><p>如果显示的内容过多，可以使用 -n 选项来限定显示数量。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">locate</span> <span class="token parameter variable">-n</span> <span class="token number">3</span> redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220419113647925.png" alt="image-20220419113647925" tabindex="0" loading="lazy"><figcaption>image-20220419113647925</figcaption></figure><h2 id="_5-locate-命令安装" tabindex="-1"><a class="header-anchor" href="#_5-locate-命令安装" aria-hidden="true">#</a> 5 locate 命令安装</h2><p>如果locate 搜索时提示命令不存在</p><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220419112033248.png" alt="image-20220419112033248" tabindex="0" loading="lazy"><figcaption>image-20220419112033248</figcaption></figure><p>则需要先安装一下</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token function">install</span> mlocate
<span class="token function">sudo</span> updatedb
<span class="token function">locate</span>  *.doc
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,31),d=[l];function c(t,o){return e(),i("div",null,d)}const u=a(s,[["render",c],["__file","linux-x-locate.html.vue"]]);export{u as default};
