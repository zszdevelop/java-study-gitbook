(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{1354:function(e,r,t){"use strict";t.r(r);var a=t(42),o=Object(a.a)({},(function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"onlyoffice功能及演示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onlyoffice功能及演示"}},[e._v("#")]),e._v(" OnlyOffice功能及演示")]),e._v(" "),a("h2",{attrs:{id:"_1-什么是-document-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是-document-server"}},[e._v("#")]),e._v(" 1. 什么是 Document Server")]),e._v(" "),a("p",[a("strong",[e._v("Document Server")]),e._v("是一个在线办公套件，包括用于文本，电子表格和演示文稿的查看器和编辑器，与Office Open XML格式完全兼容：.docx，.xlsx，.pptx，并支持实时协作编辑。")]),e._v(" "),a("p",[a("strong",[e._v("功能性")])]),e._v(" "),a("ul",[a("li",[e._v("文件编辑器")]),e._v(" "),a("li",[e._v("电子表格编辑器")]),e._v(" "),a("li",[e._v("简报编辑器")]),e._v(" "),a("li",[e._v("适用于iOS和Android的文档应用程序")]),e._v(" "),a("li",[e._v("协同编辑")]),e._v(" "),a("li",[e._v("象形文字支持")]),e._v(" "),a("li",[e._v("支持所有流行的格式：DOC，DOCX，TXT，ODT，RTF，ODP，EPUB，ODS，XLS，XLSX，CSV，PPTX，HTML")])]),e._v(" "),a("p",[e._v("本指南将向您展示如何在计算机上安装"),a("strong",[e._v("Document Server")]),e._v(" Docker版本。")]),e._v(" "),a("h2",{attrs:{id:"_2-安装介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装介绍"}},[e._v("#")]),e._v(" 2. 安装介绍")]),e._v(" "),a("p",[e._v("平台集成onlyoffice,调用onlyoffice的api，需要现在本地的一台服务器上安装onlyoffice的文档服务器，安装文档服务器的方式有很多种，Windows和Linux上都可以安装，但是因为文档服务器的正常使用需要其他插件的配合，所以正常按照官网上来一步步安装，还需要安装redis,rabbitMQ,mysql、Erlang、PostgreSQL等等一系列的插件，十分麻烦，而且如果你是使用windows版本安装的话，因为onlyoffice不支持中文，所以有关于中文的文档基本都是乱码，需要你另行安装字体文件，但是onlyoffice内部对于字体的添加，我查阅网上的一些资料，好像是扫描windows系统中的字体，来进行转换的，系统字体很难去删除添加，所以这种方式我不建议使用，我推荐的是在windows上使用虚拟服务器来安装docker，导入一个整体的镜像文件，（包含了中文字体）来运行onlyoffice,这里需要说明一下，至少需要2G的内存空间来让他正常运行，其流程如下：")]),e._v(" "),a("h2",{attrs:{id:"_2-安装document-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装document-server"}},[e._v("#")]),e._v(" 2. 安装Document Server")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("执行docker安装")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo docker run -i -t -d -p 9701:80 --restart=always onlyoffice/documentserver-de\n")])])])]),e._v(" "),a("li",[a("p",[e._v("将数据存储在容器外部")]),e._v(" "),a("p",[e._v("所有数据都存储在以下位置的特殊指定目录，"),a("strong",[e._v("数据卷中")]),e._v("：")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("/var/log/onlyoffice")]),e._v("用于"),a("strong",[e._v("文档服务器")]),e._v("日志")]),e._v(" "),a("li",[a("code",[e._v("/var/www/onlyoffice/Data")]),e._v(" 证书")]),e._v(" "),a("li",[a("code",[e._v("/var/lib/onlyoffice")]),e._v(" 用于文件缓存")]),e._v(" "),a("li",[a("code",[e._v("/var/lib/postgresql")]),e._v(" 用于数据库")])]),e._v(" "),a("p",[e._v("要访问位于容器外部的数据，您需要安装卷。可以通过在docker run命令中指定**-v**选项来完成。")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo docker run -i -t -d -p 9701:80 --restart=always \\\n    -v /app/onlyoffice/DocumentServer/logs:/var/log/onlyoffice  \\\n    -v /app/onlyoffice/DocumentServer/data:/var/www/onlyoffice/Data  \\\n    -v /app/onlyoffice/DocumentServer/lib:/var/lib/onlyoffice \\\n    -v /app/onlyoffice/DocumentServer/db:/var/lib/postgresql  onlyoffice/documentserver-de\n")])])])])]),e._v(" "),a("p",[a("img",{attrs:{src:t(718),alt:"image-20200418161503116"}})]),e._v(" "),a("p",[e._v("安装社区版本")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(" bash opensource-install.sh -md www.isture.com\n")])])]),a("p",[a("img",{attrs:{src:t(719),alt:"image-20200419011731460"}})]),e._v(" "),a("h2",{attrs:{id:"社区办"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#社区办"}},[e._v("#")]),e._v(" 社区办")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("wget https://download.onlyoffice.com/install/opensource-install.sh\n")])])]),a("p",[e._v("如果您不想立即安装"),a("strong",[e._v("Mail Server")]),e._v("，可以跳过其安装。为此，请运行以下命令：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("bash opensource-install.sh -ims false\n")])])]),a("p",[e._v("这将安装没有"),a("strong",[e._v("邮件服务器的****Community Edition")]),e._v("。")]),e._v(" "),a("p",[e._v("使用以下命令可以获得所有可用脚本参数的列表：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("bash opensource-install.sh -h\n")])])]),a("h2",{attrs:{id:"连接到外部mysql服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#连接到外部mysql服务器"}},[e._v("#")]),e._v(" 连接到外部MySQL服务器")]),e._v(" "),a("p",[e._v("如果您的计算机（或另一台计算机）上安装了外部MySQL服务器，则可以执行以下命令将其连接：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('sudo docker run --net onlyoffice -i -t -d --restart=always --name onlyoffice-community-server -p 9701:80 -p 443:443 -p 5222:5222 \\\n -e MYSQL_SERVER_HOST="127.0.0.1"\\\n -e MYSQL_SERVER_PORT="3306"\\\n -e MYSQL_SERVER_DB_NAME=onlyoffice\\\n -e MYSQL_SERVER_USER=onlyoffice_user\\\n -e MYSQL_SERVER_PASS=onlyoffice_pass\\\n -v /app/onlyoffice/CommunityServer/data:/var/www/onlyoffice/Data \\\n -v /app/onlyoffice/CommunityServer/logs:/var/log/onlyoffice \\\n onlyoffice/communityserver\n')])])]),a("p",[a("img",{attrs:{src:t(720),alt:"image-20200419161357616"}})]),e._v(" "),a("h2",{attrs:{id:"参考文章"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[e._v("#")]),e._v(" 参考文章")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/35985173",target:"_blank",rel:"noopener noreferrer"}},[e._v("用ONLYOFFICE-知乎"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"https://www.songbin.top/view/408",target:"_blank",rel:"noopener noreferrer"}},[e._v("onlyoffice官方推荐简化安装方式（使用提供的脚本安装Community Edition）"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"https://helpcenter.onlyoffice.com/server/developer-edition/docker/docker-installation.aspx?_ga=2.45324320.505136.1587186406-245261584.1587186406",target:"_blank",rel:"noopener noreferrer"}},[e._v("onlyoffice开发者版本下载安装"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"https://api.onlyoffice.com/editors/demopreview",target:"_blank",rel:"noopener noreferrer"}},[e._v("文件服务整合范例"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"https://helpcenter.onlyoffice.com/server/docker/opensource/opensource-script-installation.aspx",target:"_blank",rel:"noopener noreferrer"}},[e._v("社区版本安装过程"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"https://helpcenter.onlyoffice.com/server/docker/opensource/opensource-script-parameters.aspx",target:"_blank",rel:"noopener noreferrer"}},[e._v("社区版脚本对应的参数"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"https://api.onlyoffice.com/editors/example/java",target:"_blank",rel:"noopener noreferrer"}},[e._v("开发者版本的集成"),a("OutboundLink")],1)])])}),[],!1,null,null,null);r.default=o.exports},718:function(e,r,t){e.exports=t.p+"assets/img/image-20200418161503116.83086ec0.png"},719:function(e,r,t){e.exports=t.p+"assets/img/image-20200419011731460.547f7e77.png"},720:function(e,r,t){e.exports=t.p+"assets/img/image-20200419161357616.fa921939.png"}}]);