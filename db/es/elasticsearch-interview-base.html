<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.59" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://zszdevelop.github.io/java-study-gitbook/java-study-gitbook/db/es/elasticsearch-interview-base.html"><meta property="og:site_name" content="Javaå­¦ä¹ ç¬”è®°"><meta property="og:title" content="ESé¢è¯• - ElasticSearché¢è¯•ï¼ˆåŸºç¡€ç¯‡ï¼‰"><meta property="og:description" content="1. ElasticSearchåŸºç¡€ 1.1 ä»€ä¹ˆæ˜¯Elasticsearchï¼š Elasticsearch æ˜¯åŸºäº Lucene çš„ Restful çš„åˆ†å¸ƒå¼å®æ—¶å…¨æ–‡æœç´¢å¼•æ“ï¼Œæ¯ä¸ªå­—æ®µéƒ½è¢«ç´¢å¼•å¹¶å¯è¢«æœç´¢ï¼Œå¯ä»¥å¿«é€Ÿå­˜å‚¨ã€æœç´¢ã€åˆ†ææµ·é‡çš„æ•°æ®ã€‚ å…¨æ–‡æ£€ç´¢æ˜¯æŒ‡å¯¹æ¯ä¸€ä¸ªè¯å»ºç«‹ä¸€ä¸ªç´¢å¼•ï¼ŒæŒ‡æ˜è¯¥è¯åœ¨æ–‡ç« ä¸­å‡ºç°çš„æ¬¡æ•°å’Œä½ç½®ã€‚å½“æŸ¥è¯¢æ—¶ï¼Œæ ¹æ®äº‹å…ˆå»ºç«‹çš„ç´¢å¼•è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¹¶..."><meta property="og:type" content="article"><meta property="og:updated_time" content="2023-02-20T13:42:31.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:modified_time" content="2023-02-20T13:42:31.000Z"><script>
          var _hmt = _hmt || [];
          (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?78dc0e0b4e3aedf643d6621778307a6f";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
          })();
      </script><title>ESé¢è¯• - ElasticSearché¢è¯•ï¼ˆåŸºç¡€ç¯‡ï¼‰ | Javaå­¦ä¹ ç¬”è®°</title><meta name="description" content="1. ElasticSearchåŸºç¡€ 1.1 ä»€ä¹ˆæ˜¯Elasticsearchï¼š Elasticsearch æ˜¯åŸºäº Lucene çš„ Restful çš„åˆ†å¸ƒå¼å®æ—¶å…¨æ–‡æœç´¢å¼•æ“ï¼Œæ¯ä¸ªå­—æ®µéƒ½è¢«ç´¢å¼•å¹¶å¯è¢«æœç´¢ï¼Œå¯ä»¥å¿«é€Ÿå­˜å‚¨ã€æœç´¢ã€åˆ†ææµ·é‡çš„æ•°æ®ã€‚ å…¨æ–‡æ£€ç´¢æ˜¯æŒ‡å¯¹æ¯ä¸€ä¸ªè¯å»ºç«‹ä¸€ä¸ªç´¢å¼•ï¼ŒæŒ‡æ˜è¯¥è¯åœ¨æ–‡ç« ä¸­å‡ºç°çš„æ¬¡æ•°å’Œä½ç½®ã€‚å½“æŸ¥è¯¢æ—¶ï¼Œæ ¹æ®äº‹å…ˆå»ºç«‹çš„ç´¢å¼•è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¹¶...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/java-study-gitbook/assets/style-f9854aed.css" as="style"><link rel="stylesheet" href="/java-study-gitbook/assets/style-f9854aed.css">
    <link rel="modulepreload" href="/java-study-gitbook/assets/app-d7a104d1.js"><link rel="modulepreload" href="/java-study-gitbook/assets/framework-0cf5f349.js"><link rel="modulepreload" href="/java-study-gitbook/assets/elasticsearch-interview-base.html-c2a8ac68.js"><link rel="modulepreload" href="/java-study-gitbook/assets/elasticsearch-interview-base.html-808e4c47.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/java-study-gitbook/" class="brand"><img class="logo" src="/java-study-gitbook/logo.svg" alt="Javaå­¦ä¹ ç¬”è®°"><!----><span class="site-name hide-in-pad">Javaå­¦ä¹ ç¬”è®°</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Java"><span class="title"><span class="icon iconfont icon-creative"></span>Java</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/java-study-gitbook/java/base/Java-basis-oop.html" class="nav-link" aria-label="JavaåŸºç¡€"><!---->JavaåŸºç¡€<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/java/io/java-io-overview.html" class="nav-link" aria-label="Java IO"><!---->Java IO<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/java/collection/java-collection-overview.html" class="nav-link" aria-label="Javaé›†åˆ"><!---->Javaé›†åˆ<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/java/thread/java-thread-x-theorty.html" class="nav-link" aria-label="Javaå¹¶å‘"><!---->Javaå¹¶å‘<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/java/java8/java8-lambda.html" class="nav-link" aria-label="Java8"><!---->Java8<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/java/jvm/jvm-overview.html" class="nav-link" aria-label="JVM"><!---->JVM<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ•°æ®åº“"><span class="title"><span class="icon iconfont icon-creative"></span>æ•°æ®åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/java-study-gitbook/db/sql/sql-x-basic.html" class="nav-link" aria-label="æ•°æ®åº“åŸºç¡€/SQLåŸºç¡€"><!---->æ•°æ®åº“åŸºç¡€/SQLåŸºç¡€<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Sqlæ•°æ®åº“</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java-study-gitbook/db/mysql/sql-mysql-overview.html" class="nav-link" aria-label="Mysql"><!---->Mysql<!----></a></li><li class="dropdown-subitem"><a href="/java-study-gitbook/db/oracle/oracle-b-sequence.html" class="nav-link" aria-label="Oracle"><!---->Oracle<!----></a></li><li class="dropdown-subitem"><a href="/java-study-gitbook/db/dm/dm-operation-console.html" class="nav-link" aria-label="è¾¾æ¢¦"><!---->è¾¾æ¢¦<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>NoSqlæ•°æ®åº“</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java-study-gitbook/db/redis/db-redis-introduce.html" class="nav-link" aria-label="Redis"><!---->Redis<!----></a></li><li class="dropdown-subitem"><a href="/java-study-gitbook/db/mongodb/mongo-x-basic.html" class="nav-link" aria-label="MongoDB"><!---->MongoDB<!----></a></li><li class="dropdown-subitem"><a href="/java-study-gitbook/db/es/elasticsearch-x-introduce-1.html" class="nav-link" aria-label="Elasticsearch"><!---->Elasticsearch<!----></a></li><li class="dropdown-subitem"><a href="/java-study-gitbook/db/neo4j/neo4j-x-tutorial.html" class="nav-link" aria-label="Neo4J"><!---->Neo4J<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ¡†æ¶|ä¾èµ–"><span class="title"><span class="icon iconfont icon-creative"></span>æ¡†æ¶|ä¾èµ–</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Spring</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java-study-gitbook/dependencies/spring/spring-overview.html" class="nav-link" aria-label="Spring"><!---->Spring<!----></a></li><li class="dropdown-subitem"><a href="/java-study-gitbook/dependencies/spring-boot/springboot-x-overview.html" class="nav-link" aria-label="SpringBoot"><!---->SpringBoot<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ORM</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java-study-gitbook/dependencies/mybatis/mybatis-y-arch.html" class="nav-link" aria-label="Mybatis"><!---->Mybatis<!----></a></li><li class="dropdown-subitem"><a href="/java-study-gitbook/dependencies/mybatis-plus/mybatis-plus-x-gen-code.html" class="nav-link" aria-label="Mybatis-Plus"><!---->Mybatis-Plus<!----></a></li></ul></li><li class="dropdown-item"><a href="/java-study-gitbook/dependencies/office/office-x-aspose.html" class="nav-link" aria-label="Officeæ–‡æ¡£æ“ä½œ"><!---->Officeæ–‡æ¡£æ“ä½œ<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/dependencies/cas/cas-x-overview.html" class="nav-link" aria-label="CASå•ç‚¹ç™»å½•"><!---->CASå•ç‚¹ç™»å½•<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å¼€å‘|æµ‹è¯•"><span class="title"><span class="icon iconfont icon-creative"></span>å¼€å‘|æµ‹è¯•</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/java-study-gitbook/develop/devlibrary/dev-lib-lombok.html" class="nav-link" aria-label="å¼€å‘-å¸¸ç”¨ç±»åº“"><span class="icon iconfont icon-creative"></span>å¼€å‘-å¸¸ç”¨ç±»åº“<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/develop/security/dev-security-x-injection.html" class="nav-link" aria-label="å¼€å‘-å®‰å…¨"><span class="icon iconfont icon-creative"></span>å¼€å‘-å®‰å…¨<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/develop/optimization/optimization-x-interface-optimization.html" class="nav-link" aria-label="å¼€å‘ - ä¼˜åŒ–"><span class="icon iconfont icon-creative"></span>å¼€å‘ - ä¼˜åŒ–<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/develop/style/dev-qt-code-style.html" class="nav-link" aria-label="å¼€å‘ - è§„èŒƒ/é£æ ¼"><span class="icon iconfont icon-creative"></span>å¼€å‘ - è§„èŒƒ/é£æ ¼<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/develop/test/ut-overview" class="nav-link" aria-label="æµ‹è¯•"><span class="icon iconfont icon-creative"></span>æµ‹è¯•<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="è½¯ä»¶|éƒ¨ç½²"><span class="title"><span class="icon iconfont icon-creative"></span>è½¯ä»¶|éƒ¨ç½²</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/java-study-gitbook/deploy/docker/docker-basic-overview.html" class="nav-link" aria-label="Docker"><span class="icon iconfont icon-creative"></span>Docker<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ¶ˆæ¯é˜Ÿåˆ—</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java-study-gitbook/deploy/mq/mq-a-overview.html" class="nav-link" aria-label="æ¶ˆæ¯é˜Ÿåˆ—"><!---->æ¶ˆæ¯é˜Ÿåˆ—<!----></a></li><li class="dropdown-subitem"><a href="/java-study-gitbook/deploy/mq-rabbitmq/rabbitmq-x-overview.html" class="nav-link" aria-label="RabbitMQ"><!---->RabbitMQ<!----></a></li><li class="dropdown-subitem"><a href="/java-study-gitbook/deploy/mq-kafka/kafka-x-overview.html" class="nav-link" aria-label="Kafka"><!---->Kafka<!----></a></li></ul></li><li class="dropdown-item"><a href="/java-study-gitbook/deploy/skywalking/skywalking-x-principle.html" class="nav-link" aria-label="Skywalking"><span class="icon iconfont icon-creative"></span>Skywalking<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/deploy/linux/linux-j-monitor-overview.html" class="nav-link" aria-label="Linux"><span class="icon iconfont icon-creative"></span>Linux<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/deploy/jenkins/jenkins-overview.html" class="nav-link" aria-label="Jenkins"><span class="icon iconfont icon-creative"></span>Jenkins<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/deploy/nginx/nginx-x-overview.html" class="nav-link" aria-label="Nginx"><span class="icon iconfont icon-creative"></span>Nginx<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/deploy/deploy/docker-basic-overview" class="nav-link" aria-label="éƒ¨ç½²"><span class="icon iconfont icon-creative"></span>éƒ¨ç½²<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ¶æ„|ç³»ç»Ÿ"><span class="title"><span class="icon iconfont icon-creative"></span>æ¶æ„|ç³»ç»Ÿ</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/java-study-gitbook/arch/base/arch-basic.html" class="nav-link" aria-label="æ¶æ„åŸºç¡€"><span class="icon iconfont icon-creative"></span>æ¶æ„åŸºç¡€<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/arch/distributed/arch-id.html" class="nav-link" aria-label="åˆ†å¸ƒå¼ç³»ç»Ÿ"><span class="icon iconfont icon-creative"></span>åˆ†å¸ƒå¼ç³»ç»Ÿ<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/arch/microservices/ms-overview.html" class="nav-link" aria-label="å¾®æœåŠ¡"><span class="icon iconfont icon-creative"></span>å¾®æœåŠ¡<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/arch/minio/minio-concept.html" class="nav-link" aria-label="å¯¹è±¡å­˜å‚¨-Minio"><span class="icon iconfont icon-creative"></span>å¯¹è±¡å­˜å‚¨-Minio<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/arch/manage-system/manage-system-technical-selection.html" class="nav-link" aria-label="åå°ç®¡ç†ç³»ç»Ÿ"><span class="icon iconfont icon-creative"></span>åå°ç®¡ç†ç³»ç»Ÿ<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/arch/mall/mall-sku.html" class="nav-link" aria-label="å•†åŸè®¾è®¡"><span class="icon iconfont icon-creative"></span>å•†åŸè®¾è®¡<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="è¯­è¨€|å¹³å°"><span class="title"><span class="icon iconfont icon-creative"></span>è¯­è¨€|å¹³å°</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/java-study-gitbook/language/frontend-layout/flex-layout-overview.html" class="nav-link" aria-label="å‰ç«¯"><span class="icon iconfont icon-creative"></span>å‰ç«¯<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/language/python/python-advantage.html" class="nav-link" aria-label="python"><span class="icon iconfont icon-creative"></span>python<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/language/weixin/wx-package-Optimization.html" class="nav-link" aria-label="å¾®ä¿¡"><span class="icon iconfont icon-creative"></span>å¾®ä¿¡<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/language/ai/knowledge-graph-build.html" class="nav-link" aria-label="AIäººå·¥æ™ºèƒ½"><span class="icon iconfont icon-creative"></span>AIäººå·¥æ™ºèƒ½<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ‚é¡¹|æ€è€ƒ"><span class="title"><span class="icon iconfont icon-creative"></span>æ‚é¡¹|æ€è€ƒ</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/java-study-gitbook/think/deepImpression/redis-bigdata-slow-problem.html" class="nav-link" aria-label="å°è±¡æ·±åˆ»bug"><span class="icon iconfont icon-creative"></span>å°è±¡æ·±åˆ»bug<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/think/optimization/optimization-x-frequent-operation-db.html" class="nav-link" aria-label="ä¼˜åŒ–"><span class="icon iconfont icon-creative"></span>ä¼˜åŒ–<!----></a></li><li class="dropdown-item"><a href="/java-study-gitbook/think/misc/misc-x-middleware.html" class="nav-link" aria-label="æ‚é¡¹"><span class="icon iconfont icon-creative"></span>æ‚é¡¹<!----></a></li></ul></button></div></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/zszdevelop/java-study-gitbook" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><div id="docsearch-container"></div><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">SQLåŸºç¡€</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Mysql</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Oracle</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">è¾¾æ¢¦</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Redis</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">MongoDB</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">ElasticSearch</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-x-introduce-1.html" class="nav-link sidebar-link sidebar-page" aria-label="ESè¯¦è§£ - è®¤çŸ¥ï¼šElasticSearchåŸºç¡€æ¦‚å¿µ"><!---->ESè¯¦è§£ - è®¤çŸ¥ï¼šElasticSearchåŸºç¡€æ¦‚å¿µ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-x-introduce-2.html" class="nav-link sidebar-link sidebar-page" aria-label="ESè¯¦è§£ - è®¤çŸ¥ï¼šElastic Stackç”Ÿæ€å’Œåœºæ™¯æ–¹æ¡ˆ"><!---->ESè¯¦è§£ - è®¤çŸ¥ï¼šElastic Stackç”Ÿæ€å’Œåœºæ™¯æ–¹æ¡ˆ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-install.html" class="nav-link sidebar-link sidebar-page" aria-label="ESè¯¦è§£ - Dockerå®‰è£…Elk"><!---->ESè¯¦è§£ - Dockerå®‰è£…Elk<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-field-type.html" class="nav-link sidebar-link sidebar-page" aria-label="ESè¯¦è§£ - ESå­—æ®µç±»å‹"><!---->ESè¯¦è§£ - ESå­—æ®µç±»å‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-x-usage.html" class="nav-link sidebar-link sidebar-page" aria-label="ESè¯¦è§£ - å…¥é—¨ï¼šæŸ¥è¯¢å’Œèšåˆçš„åŸºç¡€ä½¿ç”¨"><!---->ESè¯¦è§£ - å…¥é—¨ï¼šæŸ¥è¯¢å’Œèšåˆçš„åŸºç¡€ä½¿ç”¨<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-x-index-mapping.html" class="nav-link sidebar-link sidebar-page" aria-label="ESè¯¦è§£ - ç´¢å¼•ï¼šç´¢å¼•ç®¡ç†è¯¦è§£"><!---->ESè¯¦è§£ - ç´¢å¼•ï¼šç´¢å¼•ç®¡ç†è¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-x-index-template.html" class="nav-link sidebar-link sidebar-page" aria-label="ESè¯¦è§£ - ç´¢å¼•ï¼šç´¢å¼•æ¨¡æ¿(Index Template)è¯¦è§£"><!---->ESè¯¦è§£ - ç´¢å¼•ï¼šç´¢å¼•æ¨¡æ¿(Index Template)è¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-x-dsl.html" class="nav-link sidebar-link sidebar-page" aria-label="ESè¯¦è§£ - æŸ¥è¯¢ï¼šDSLæŸ¥è¯¢ä¹‹å¤åˆæŸ¥è¯¢è¯¦è§£"><!---->ESè¯¦è§£ - æŸ¥è¯¢ï¼šDSLæŸ¥è¯¢ä¹‹å¤åˆæŸ¥è¯¢è¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-x-dsl-full-text.html" class="nav-link sidebar-link sidebar-page" aria-label="ESè¯¦è§£ - æŸ¥è¯¢ï¼šDSLæŸ¥è¯¢ä¹‹å…¨æ–‡æœç´¢è¯¦è§£"><!---->ESè¯¦è§£ - æŸ¥è¯¢ï¼šDSLæŸ¥è¯¢ä¹‹å…¨æ–‡æœç´¢è¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-x-dsl-term.html" class="nav-link sidebar-link sidebar-page" aria-label="ESè¯¦è§£ - æŸ¥è¯¢ï¼šDSLæŸ¥è¯¢ä¹‹Termè¯¦è§£"><!---->ESè¯¦è§£ - æŸ¥è¯¢ï¼šDSLæŸ¥è¯¢ä¹‹Termè¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-x-agg-bucket.html" class="nav-link sidebar-link sidebar-page" aria-label="ESè¯¦è§£ - èšåˆï¼šèšåˆæŸ¥è¯¢ä¹‹Bucketèšåˆè¯¦è§£"><!---->ESè¯¦è§£ - èšåˆï¼šèšåˆæŸ¥è¯¢ä¹‹Bucketèšåˆè¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-x-agg-metric.html" class="nav-link sidebar-link sidebar-page" aria-label="ESè¯¦è§£ - èšåˆï¼šèšåˆæŸ¥è¯¢ä¹‹Metricèšåˆè¯¦è§£"><!---->ESè¯¦è§£ - èšåˆï¼šèšåˆæŸ¥è¯¢ä¹‹Metricèšåˆè¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-x-agg-pipeline.html" class="nav-link sidebar-link sidebar-page" aria-label="ESè¯¦è§£ - èšåˆï¼šèšåˆæŸ¥è¯¢ä¹‹Piplineèšåˆè¯¦è§£"><!---->ESè¯¦è§£ - èšåˆï¼šèšåˆæŸ¥è¯¢ä¹‹Piplineèšåˆè¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-y-peformance.html" class="nav-link sidebar-link sidebar-page" aria-label="ESè¯¦è§£ - ä¼˜åŒ–ï¼šElasticSearchæ€§èƒ½ä¼˜åŒ–è¯¦è§£"><!---->ESè¯¦è§£ - ä¼˜åŒ–ï¼šElasticSearchæ€§èƒ½ä¼˜åŒ–è¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-y-th-1.html" class="nav-link sidebar-link sidebar-page" aria-label="ESè¯¦è§£ - åŸç†ï¼šä»å›¾è§£æ„ç­‘å¯¹ESåŸç†çš„åˆæ­¥è®¤çŸ¥"><!---->ESè¯¦è§£ - åŸç†ï¼šä»å›¾è§£æ„ç­‘å¯¹ESåŸç†çš„åˆæ­¥è®¤çŸ¥<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-y-th-2.html" class="nav-link sidebar-link sidebar-page" aria-label="ESè¯¦è§£ - åŸç†ï¼šESåŸç†çŸ¥è¯†ç‚¹è¡¥å……å’Œæ•´ä½“ç»“æ„"><!---->ESè¯¦è§£ - åŸç†ï¼šESåŸç†çŸ¥è¯†ç‚¹è¡¥å……å’Œæ•´ä½“ç»“æ„<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-y-th-3.html" class="nav-link sidebar-link sidebar-page" aria-label="ESè¯¦è§£ - åŸç†ï¼šESåŸç†ä¹‹ç´¢å¼•æ–‡æ¡£æµç¨‹è¯¦è§£"><!---->ESè¯¦è§£ - åŸç†ï¼šESåŸç†ä¹‹ç´¢å¼•æ–‡æ¡£æµç¨‹è¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-y-th-4.html" class="nav-link sidebar-link sidebar-page" aria-label="ESè¯¦è§£ - åŸç†ï¼šESåŸç†ä¹‹è¯»å–æ–‡æ¡£æµç¨‹è¯¦è§£"><!---->ESè¯¦è§£ - åŸç†ï¼šESåŸç†ä¹‹è¯»å–æ–‡æ¡£æµç¨‹è¯¦è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-kibana-kql.html" class="nav-link sidebar-link sidebar-page" aria-label="ELKæ—¥å¿— - Kibanaä¸­çš„KQLè¯­æ³•"><!---->ELKæ—¥å¿— - Kibanaä¸­çš„KQLè¯­æ³•<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-filebeat.html" class="nav-link sidebar-link sidebar-page" aria-label="ELKå®æˆ˜ - Filebeatæ”¶é›†Nginxæ—¥å¿—"><!---->ELKå®æˆ˜ - Filebeatæ”¶é›†Nginxæ—¥å¿—<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-easy-es.html" class="nav-link sidebar-link sidebar-page" aria-label="ESæ¡†æ¶ - Easy-Esä¸­çš„æ³¨æ„ç‚¹"><!---->ESæ¡†æ¶ - Easy-Esä¸­çš„æ³¨æ„ç‚¹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-easy-es%E7%9A%84%E5%89%AF%E6%9C%AC.html" class="nav-link sidebar-link sidebar-page" aria-label="ESå®æˆ˜ - åˆ é™¤å†å²ç´¢å¼•"><!---->ESå®æˆ˜ - åˆ é™¤å†å²ç´¢å¼•<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="ESé¢è¯• - ElasticSearché¢è¯•ï¼ˆåŸºç¡€ç¯‡ï¼‰"><!---->ESé¢è¯• - ElasticSearché¢è¯•ï¼ˆåŸºç¡€ç¯‡ï¼‰<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_1-elasticsearchåŸºç¡€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. ElasticSearchåŸºç¡€"><!---->1. ElasticSearchåŸºç¡€<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_1-1-ä»€ä¹ˆæ˜¯elasticsearch" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.1 ä»€ä¹ˆæ˜¯Elasticsearchï¼š"><!---->1.1 ä»€ä¹ˆæ˜¯Elasticsearchï¼š<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_1-2-elasticsearch-çš„åŸºæœ¬æ¦‚å¿µ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2 Elasticsearch çš„åŸºæœ¬æ¦‚å¿µï¼š"><!---->1.2 Elasticsearch çš„åŸºæœ¬æ¦‚å¿µï¼š<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_1-3-ä»€ä¹ˆæ˜¯å€’æ’ç´¢å¼•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3 ä»€ä¹ˆæ˜¯å€’æ’ç´¢å¼•ï¼š"><!---->1.3 ä»€ä¹ˆæ˜¯å€’æ’ç´¢å¼•ï¼š<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_1-4-doc-values-çš„ä½œç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.4 doc_values çš„ä½œç”¨ï¼š"><!---->1.4 doc_values çš„ä½œç”¨ï¼š<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_1-5-text-å’Œ-keywordç±»å‹çš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.5 text å’Œ keywordç±»å‹çš„åŒºåˆ«ï¼š"><!---->1.5 text å’Œ keywordç±»å‹çš„åŒºåˆ«ï¼š<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_1-6-query-å’Œ-filter-çš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.6 query å’Œ filter çš„åŒºåˆ«ï¼Ÿ"><!---->1.6 query å’Œ filter çš„åŒºåˆ«ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_2-esçš„å†™å…¥æµç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. ESçš„å†™å…¥æµç¨‹ï¼š"><!---->2. ESçš„å†™å…¥æµç¨‹ï¼š<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_2-1-eså†™æ•°æ®çš„æ•´ä½“æµç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.1 ESå†™æ•°æ®çš„æ•´ä½“æµç¨‹ï¼š"><!---->2.1 ESå†™æ•°æ®çš„æ•´ä½“æµç¨‹ï¼š<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_2-2-esä¸»åˆ†ç‰‡å†™æ•°æ®çš„è¯¦ç»†æµç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.2 ESä¸»åˆ†ç‰‡å†™æ•°æ®çš„è¯¦ç»†æµç¨‹ï¼š"><!---->2.2 ESä¸»åˆ†ç‰‡å†™æ•°æ®çš„è¯¦ç»†æµç¨‹ï¼š<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_3-esçš„æ›´æ–°å’Œåˆ é™¤æµç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. ESçš„æ›´æ–°å’Œåˆ é™¤æµç¨‹ï¼š"><!---->3. ESçš„æ›´æ–°å’Œåˆ é™¤æµç¨‹ï¼š<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_4-esçš„æœç´¢æµç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. ESçš„æœç´¢æµç¨‹ï¼š"><!---->4. ESçš„æœç´¢æµç¨‹ï¼š<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_4-1-queryé˜¶æ®µ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.1 Queryé˜¶æ®µï¼š"><!---->4.1 Queryé˜¶æ®µï¼š<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_4-2-fetché˜¶æ®µ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.2 Fetché˜¶æ®µï¼š"><!---->4.2 Fetché˜¶æ®µï¼š<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_5-esåœ¨é«˜å¹¶å‘ä¸‹å¦‚ä½•ä¿è¯è¯»å†™ä¸€è‡´æ€§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. ESåœ¨é«˜å¹¶å‘ä¸‹å¦‚ä½•ä¿è¯è¯»å†™ä¸€è‡´æ€§ï¼Ÿ"><!---->5. ESåœ¨é«˜å¹¶å‘ä¸‹å¦‚ä½•ä¿è¯è¯»å†™ä¸€è‡´æ€§ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_5-1-æ›´æ–°æ“ä½œ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.1 æ›´æ–°æ“ä½œ"><!---->5.1 æ›´æ–°æ“ä½œ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_5-2-å¯¹äºå†™æ“ä½œ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.2 å¯¹äºå†™æ“ä½œ"><!---->5.2 å¯¹äºå†™æ“ä½œ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_5-3-å¯¹äºè¯»æ“ä½œ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.3 å¯¹äºè¯»æ“ä½œ"><!---->5.3 å¯¹äºè¯»æ“ä½œ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_6-esé›†ç¾¤å¦‚ä½•é€‰ä¸¾masterèŠ‚ç‚¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6. ESé›†ç¾¤å¦‚ä½•é€‰ä¸¾MasterèŠ‚ç‚¹ï¼š"><!---->6. ESé›†ç¾¤å¦‚ä½•é€‰ä¸¾MasterèŠ‚ç‚¹ï¼š<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_6-1-elasticsearch-çš„åˆ†å¸ƒå¼åŸç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.1 Elasticsearch çš„åˆ†å¸ƒå¼åŸç†ï¼š"><!---->6.1 Elasticsearch çš„åˆ†å¸ƒå¼åŸç†ï¼š<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_6-2-esé›†ç¾¤-å¦‚ä½•-é€‰ä¸¾-master" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.2 ESé›†ç¾¤ å¦‚ä½• é€‰ä¸¾ Masterï¼š"><!---->6.2 ESé›†ç¾¤ å¦‚ä½• é€‰ä¸¾ Masterï¼š<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_6-3-elasticsearchæ˜¯å¦‚ä½•é¿å…è„‘è£‚ç°è±¡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.3 Elasticsearchæ˜¯å¦‚ä½•é¿å…è„‘è£‚ç°è±¡ï¼š"><!---->6.3 Elasticsearchæ˜¯å¦‚ä½•é¿å…è„‘è£‚ç°è±¡ï¼š<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_7-å»ºç«‹ç´¢å¼•é˜¶æ®µæ€§èƒ½æå‡æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7. å»ºç«‹ç´¢å¼•é˜¶æ®µæ€§èƒ½æå‡æ–¹æ³•ï¼š"><!---->7. å»ºç«‹ç´¢å¼•é˜¶æ®µæ€§èƒ½æå‡æ–¹æ³•ï¼š<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_8-esçš„æ·±åº¦åˆ†é¡µä¸æ»šåŠ¨æœç´¢scroll" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="8. ESçš„æ·±åº¦åˆ†é¡µä¸æ»šåŠ¨æœç´¢scroll"><!---->8. ESçš„æ·±åº¦åˆ†é¡µä¸æ»šåŠ¨æœç´¢scroll<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_8-1-æ·±åº¦åˆ†é¡µ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="8.1 æ·±åº¦åˆ†é¡µï¼š"><!---->8.1 æ·±åº¦åˆ†é¡µï¼š<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_8-2-æ»šåŠ¨æœç´¢" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="8.2 æ»šåŠ¨æœç´¢ï¼š"><!---->8.2 æ»šåŠ¨æœç´¢ï¼š<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#å‚è€ƒæ–‡ç« " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å‚è€ƒæ–‡ç« "><!---->å‚è€ƒæ–‡ç« <!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-interview-scene.html" class="nav-link sidebar-link sidebar-page" aria-label="ESé¢è¯• - ElasticSearché¢è¯•ï¼ˆåœºæ™¯ç¯‡ï¼‰"><!---->ESé¢è¯• - ElasticSearché¢è¯•ï¼ˆåœºæ™¯ç¯‡ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-started.html" class="nav-link sidebar-link sidebar-page" aria-label="Elasticsearchå…¥é—¨"><!---->Elasticsearchå…¥é—¨<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-action-goods-search.html" class="nav-link sidebar-link sidebar-page" aria-label="Elasticsearchå®ç°å•†å“æœç´¢"><!---->Elasticsearchå®ç°å•†å“æœç´¢<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-demo.html" class="nav-link sidebar-link sidebar-page" aria-label="Es - æµ‹è¯•demo"><!---->Es - æµ‹è¯•demo<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java-study-gitbook/db/es/elasticsearch-vs-solr.html" class="nav-link sidebar-link sidebar-page" aria-label="Solrä¸ESæœç´¢å¼•æ“æŠ€æœ¯é€‰æ‹©"><!---->Solrä¸ESæœç´¢å¼•æ“æŠ€æœ¯é€‰æ‹©<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">æœç´¢å¼•æ“-Solr</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Neo4j</span><span class="arrow right"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->ESé¢è¯• - ElasticSearché¢è¯•ï¼ˆåŸºç¡€ç¯‡ï¼‰</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://java.isture.com" target="_blank" rel="noopener noreferrer">zszdevelop</a></span><span property="author" content="zszdevelop"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-02-20T13:42:31.000Z"></span><span class="category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><span class="category-item category0" role>es</span><meta property="articleSection" content="es"></span><!----><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 14 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT14M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_1-elasticsearchåŸºç¡€" class="router-link-active router-link-exact-active toc-link level2">1. ElasticSearchåŸºç¡€</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_1-1-ä»€ä¹ˆæ˜¯elasticsearch" class="router-link-active router-link-exact-active toc-link level3">1.1 ä»€ä¹ˆæ˜¯Elasticsearchï¼š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_1-2-elasticsearch-çš„åŸºæœ¬æ¦‚å¿µ" class="router-link-active router-link-exact-active toc-link level3">1.2 Elasticsearch çš„åŸºæœ¬æ¦‚å¿µï¼š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_1-3-ä»€ä¹ˆæ˜¯å€’æ’ç´¢å¼•" class="router-link-active router-link-exact-active toc-link level3">1.3 ä»€ä¹ˆæ˜¯å€’æ’ç´¢å¼•ï¼š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_1-4-doc-values-çš„ä½œç”¨" class="router-link-active router-link-exact-active toc-link level3">1.4 doc_values çš„ä½œç”¨ï¼š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_1-5-text-å’Œ-keywordç±»å‹çš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">1.5 text å’Œ keywordç±»å‹çš„åŒºåˆ«ï¼š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_1-6-query-å’Œ-filter-çš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">1.6 query å’Œ filter çš„åŒºåˆ«ï¼Ÿ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_2-esçš„å†™å…¥æµç¨‹" class="router-link-active router-link-exact-active toc-link level2">2. ESçš„å†™å…¥æµç¨‹ï¼š</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_2-1-eså†™æ•°æ®çš„æ•´ä½“æµç¨‹" class="router-link-active router-link-exact-active toc-link level3">2.1 ESå†™æ•°æ®çš„æ•´ä½“æµç¨‹ï¼š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_2-2-esä¸»åˆ†ç‰‡å†™æ•°æ®çš„è¯¦ç»†æµç¨‹" class="router-link-active router-link-exact-active toc-link level3">2.2 ESä¸»åˆ†ç‰‡å†™æ•°æ®çš„è¯¦ç»†æµç¨‹ï¼š</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_3-esçš„æ›´æ–°å’Œåˆ é™¤æµç¨‹" class="router-link-active router-link-exact-active toc-link level2">3. ESçš„æ›´æ–°å’Œåˆ é™¤æµç¨‹ï¼š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_4-esçš„æœç´¢æµç¨‹" class="router-link-active router-link-exact-active toc-link level2">4. ESçš„æœç´¢æµç¨‹ï¼š</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_4-1-queryé˜¶æ®µ" class="router-link-active router-link-exact-active toc-link level3">4.1 Queryé˜¶æ®µï¼š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_4-2-fetché˜¶æ®µ" class="router-link-active router-link-exact-active toc-link level3">4.2 Fetché˜¶æ®µï¼š</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_5-esåœ¨é«˜å¹¶å‘ä¸‹å¦‚ä½•ä¿è¯è¯»å†™ä¸€è‡´æ€§" class="router-link-active router-link-exact-active toc-link level2">5. ESåœ¨é«˜å¹¶å‘ä¸‹å¦‚ä½•ä¿è¯è¯»å†™ä¸€è‡´æ€§ï¼Ÿ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_5-1-æ›´æ–°æ“ä½œ" class="router-link-active router-link-exact-active toc-link level3">5.1 æ›´æ–°æ“ä½œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_5-2-å¯¹äºå†™æ“ä½œ" class="router-link-active router-link-exact-active toc-link level3">5.2 å¯¹äºå†™æ“ä½œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_5-3-å¯¹äºè¯»æ“ä½œ" class="router-link-active router-link-exact-active toc-link level3">5.3 å¯¹äºè¯»æ“ä½œ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_6-esé›†ç¾¤å¦‚ä½•é€‰ä¸¾masterèŠ‚ç‚¹" class="router-link-active router-link-exact-active toc-link level2">6. ESé›†ç¾¤å¦‚ä½•é€‰ä¸¾MasterèŠ‚ç‚¹ï¼š</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_6-1-elasticsearch-çš„åˆ†å¸ƒå¼åŸç†" class="router-link-active router-link-exact-active toc-link level3">6.1 Elasticsearch çš„åˆ†å¸ƒå¼åŸç†ï¼š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_6-2-esé›†ç¾¤-å¦‚ä½•-é€‰ä¸¾-master" class="router-link-active router-link-exact-active toc-link level3">6.2 ESé›†ç¾¤ å¦‚ä½• é€‰ä¸¾ Masterï¼š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_6-3-elasticsearchæ˜¯å¦‚ä½•é¿å…è„‘è£‚ç°è±¡" class="router-link-active router-link-exact-active toc-link level3">6.3 Elasticsearchæ˜¯å¦‚ä½•é¿å…è„‘è£‚ç°è±¡ï¼š</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_7-å»ºç«‹ç´¢å¼•é˜¶æ®µæ€§èƒ½æå‡æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level2">7. å»ºç«‹ç´¢å¼•é˜¶æ®µæ€§èƒ½æå‡æ–¹æ³•ï¼š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_8-esçš„æ·±åº¦åˆ†é¡µä¸æ»šåŠ¨æœç´¢scroll" class="router-link-active router-link-exact-active toc-link level2">8. ESçš„æ·±åº¦åˆ†é¡µä¸æ»šåŠ¨æœç´¢scroll</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_8-1-æ·±åº¦åˆ†é¡µ" class="router-link-active router-link-exact-active toc-link level3">8.1 æ·±åº¦åˆ†é¡µï¼š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#_8-2-æ»šåŠ¨æœç´¢" class="router-link-active router-link-exact-active toc-link level3">8.2 æ»šåŠ¨æœç´¢ï¼š</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java-study-gitbook/db/es/elasticsearch-interview-base.html#å‚è€ƒæ–‡ç« " class="router-link-active router-link-exact-active toc-link level2">å‚è€ƒæ–‡ç« </a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="esé¢è¯•-elasticsearché¢è¯•-åŸºç¡€ç¯‡" tabindex="-1"><a class="header-anchor" href="#esé¢è¯•-elasticsearché¢è¯•-åŸºç¡€ç¯‡" aria-hidden="true">#</a> ESé¢è¯• - ElasticSearché¢è¯•ï¼ˆåŸºç¡€ç¯‡ï¼‰</h1><h2 id="_1-elasticsearchåŸºç¡€" tabindex="-1"><a class="header-anchor" href="#_1-elasticsearchåŸºç¡€" aria-hidden="true">#</a> 1. ElasticSearchåŸºç¡€</h2><h3 id="_1-1-ä»€ä¹ˆæ˜¯elasticsearch" tabindex="-1"><a class="header-anchor" href="#_1-1-ä»€ä¹ˆæ˜¯elasticsearch" aria-hidden="true">#</a> 1.1 ä»€ä¹ˆæ˜¯Elasticsearchï¼š</h3><p>Elasticsearch æ˜¯åŸºäº Lucene çš„ Restful çš„åˆ†å¸ƒå¼å®æ—¶å…¨æ–‡æœç´¢å¼•æ“ï¼Œæ¯ä¸ªå­—æ®µéƒ½è¢«ç´¢å¼•å¹¶å¯è¢«æœç´¢ï¼Œå¯ä»¥å¿«é€Ÿå­˜å‚¨ã€æœç´¢ã€åˆ†ææµ·é‡çš„æ•°æ®ã€‚</p><blockquote><p>å…¨æ–‡æ£€ç´¢æ˜¯æŒ‡å¯¹æ¯ä¸€ä¸ªè¯å»ºç«‹ä¸€ä¸ªç´¢å¼•ï¼ŒæŒ‡æ˜è¯¥è¯åœ¨æ–‡ç« ä¸­å‡ºç°çš„æ¬¡æ•°å’Œä½ç½®ã€‚å½“æŸ¥è¯¢æ—¶ï¼Œæ ¹æ®äº‹å…ˆå»ºç«‹çš„ç´¢å¼•è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¹¶å°†æŸ¥æ‰¾çš„ç»“æœåé¦ˆç»™ç”¨æˆ·çš„æ£€ç´¢æ–¹å¼ã€‚è¿™ä¸ªè¿‡ç¨‹ç±»ä¼¼äºé€šè¿‡å­—å…¸ä¸­çš„æ£€ç´¢å­—è¡¨æŸ¥</p></blockquote><h3 id="_1-2-elasticsearch-çš„åŸºæœ¬æ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#_1-2-elasticsearch-çš„åŸºæœ¬æ¦‚å¿µ" aria-hidden="true">#</a> 1.2 Elasticsearch çš„åŸºæœ¬æ¦‚å¿µï¼š</h3><ul><li><p>index ç´¢å¼•ï¼šç´¢å¼•ç±»ä¼¼äºmysql ä¸­çš„æ•°æ®åº“ï¼ŒElasticesearch ä¸­çš„ç´¢å¼•æ˜¯å­˜åœ¨æ•°æ®çš„åœ°æ–¹ï¼ŒåŒ…å«äº†ä¸€å †æœ‰ç›¸ä¼¼ç»“æ„çš„æ–‡æ¡£æ•°æ®ã€‚</p></li><li><p>type ç±»å‹ï¼ˆES7åºŸå¼ƒï¼‰ï¼šç±»å‹æ˜¯ç”¨æ¥å®šä¹‰æ•°æ®ç»“æ„ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ mysql ä¸­çš„ä¸€å¼ è¡¨ï¼Œtype æ˜¯ index ä¸­çš„ä¸€ä¸ªé€»è¾‘æ•°æ®åˆ†ç±»</p></li><li><p>document æ–‡æ¡£ï¼šç±»ä¼¼äº MySQL ä¸­çš„ä¸€è¡Œï¼Œä¸åŒä¹‹å¤„åœ¨äº ES ä¸­çš„æ¯ä¸ªæ–‡æ¡£å¯ä»¥æœ‰ä¸åŒçš„å­—æ®µï¼Œä½†æ˜¯å¯¹äºé€šç”¨å­—æ®µåº”è¯¥å…·æœ‰ç›¸åŒçš„æ•°æ®ç±»å‹ï¼Œæ–‡æ¡£æ˜¯esä¸­çš„æœ€å°æ•°æ®å•å…ƒï¼Œå¯ä»¥è®¤ä¸ºä¸€ä¸ªæ–‡æ¡£å°±æ˜¯ä¸€æ¡è®°å½•ã€‚</p></li><li><p>Field å­—æ®µï¼šFieldæ˜¯Elasticsearchçš„æœ€å°å•ä½ï¼Œä¸€ä¸ªdocumenté‡Œé¢æœ‰å¤šä¸ªfield</p></li><li><p>shard åˆ†ç‰‡ï¼šå•å°æœºå™¨æ— æ³•å­˜å‚¨å¤§é‡æ•°æ®ï¼Œeså¯ä»¥å°†ä¸€ä¸ªç´¢å¼•ä¸­çš„æ•°æ®åˆ‡åˆ†ä¸ºå¤šä¸ªshardï¼Œåˆ†å¸ƒåœ¨å¤šå°æœåŠ¡å™¨ä¸Šå­˜å‚¨ã€‚æœ‰äº†shardå°±å¯ä»¥æ¨ªå‘æ‰©å±•ï¼Œå­˜å‚¨æ›´å¤šæ•°æ®ï¼Œè®©æœç´¢å’Œåˆ†æç­‰æ“ä½œåˆ†å¸ƒåˆ°å¤šå°æœåŠ¡å™¨ä¸Šå»æ‰§è¡Œï¼Œæå‡ååé‡å’Œæ€§èƒ½ã€‚</p></li><li><p>replica å‰¯æœ¬ï¼šä»»ä½•æœåŠ¡å™¨éšæ—¶å¯èƒ½æ•…éšœæˆ–å®•æœºï¼Œæ­¤æ—¶ shard å¯èƒ½ä¼šä¸¢å¤±ï¼Œé€šè¿‡åˆ›å»º replica å‰¯æœ¬ï¼Œå¯ä»¥åœ¨ shard æ•…éšœæ—¶æä¾›å¤‡ç”¨æœåŠ¡ï¼Œä¿è¯æ•°æ®ä¸ä¸¢å¤±ï¼Œå¦å¤– replica è¿˜å¯ä»¥æå‡æœç´¢æ“ä½œçš„ååé‡ã€‚</p></li></ul><blockquote><p>shard åˆ†ç‰‡æ•°é‡åœ¨å»ºç«‹ç´¢å¼•æ—¶è®¾ç½®ï¼Œè®¾ç½®åä¸èƒ½ä¿®æ”¹ï¼Œé»˜è®¤5ä¸ªï¼›replica å‰¯æœ¬æ•°é‡é»˜è®¤1ä¸ªï¼Œå¯éšæ—¶ä¿®æ”¹æ•°é‡ï¼›</p></blockquote><h3 id="_1-3-ä»€ä¹ˆæ˜¯å€’æ’ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#_1-3-ä»€ä¹ˆæ˜¯å€’æ’ç´¢å¼•" aria-hidden="true">#</a> 1.3 ä»€ä¹ˆæ˜¯å€’æ’ç´¢å¼•ï¼š</h3><p>åœ¨æœç´¢å¼•æ“ä¸­ï¼Œæ¯ä¸ªæ–‡æ¡£éƒ½æœ‰å¯¹åº”çš„æ–‡æ¡£ IDï¼Œæ–‡æ¡£å†…å®¹å¯ä»¥è¡¨ç¤ºä¸ºä¸€ç³»åˆ—å…³é”®è¯çš„é›†åˆï¼Œä¾‹å¦‚ï¼ŒæŸä¸ªæ–‡æ¡£ç»è¿‡åˆ†è¯ï¼Œæå–äº† 20 ä¸ªå…³é”®è¯ï¼Œè€Œé€šè¿‡å€’æ’ç´¢å¼•ï¼Œå¯ä»¥è®°å½•æ¯ä¸ªå…³é”®è¯åœ¨æ–‡æ¡£ä¸­å‡ºç°çš„æ¬¡æ•°å’Œå‡ºç°ä½ç½®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå€’æ’ç´¢å¼•æ˜¯ å…³é”®è¯åˆ°æ–‡æ¡£ ID çš„æ˜ å°„ï¼Œæ¯ä¸ªå…³é”®è¯éƒ½å¯¹åº”ç€ä¸€ç³»åˆ—çš„æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä¸­éƒ½å‡ºç°äº†è¯¥å…³é”®è¯ã€‚</p><blockquote><p>è¦æ³¨æ„å€’æ’ç´¢å¼•çš„ä¸¤ä¸ªç»†èŠ‚ï¼š</p><ul><li>å€’æ’ç´¢å¼•ä¸­çš„æ‰€æœ‰è¯é¡¹å¯¹åº”ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡æ¡£</li><li>å€’æ’ç´¢å¼•ä¸­çš„è¯é¡¹ æ ¹æ®å­—å…¸é¡ºåºå‡åºæ’åˆ—</li></ul></blockquote><h3 id="_1-4-doc-values-çš„ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_1-4-doc-values-çš„ä½œç”¨" aria-hidden="true">#</a> 1.4 doc_values çš„ä½œç”¨ï¼š</h3><p>å€’æ’ç´¢å¼•è™½ç„¶å¯ä»¥æé«˜æœç´¢æ€§èƒ½ï¼Œä½†ä¹Ÿå­˜åœ¨ç¼ºé™·ï¼Œæ¯”å¦‚æˆ‘ä»¬éœ€è¦å¯¹æ•°æ®åšæ’åºæˆ–èšåˆç­‰æ“ä½œæ—¶ï¼Œlucene ä¼šæå–æ‰€æœ‰å‡ºç°åœ¨æ–‡æ¡£é›†åˆçš„æ’åºå­—æ®µï¼Œç„¶åæ„å»ºä¸€ä¸ªæ’å¥½åºçš„æ–‡æ¡£é›†åˆï¼Œè€Œè¿™ä¸ªæ­¥éª¤æ˜¯åŸºäºå†…å­˜çš„ï¼Œå¦‚æœæ’åºæ•°æ®é‡å·¨å¤§çš„è¯ï¼Œå®¹æ˜“é€ æˆå†…å­˜æº¢å‡ºå’Œæ€§èƒ½ç¼“æ…¢ã€‚</p><p>doc_values å°±æ˜¯ es åœ¨æ„å»ºå€’æ’ç´¢å¼•çš„åŒæ—¶ï¼Œä¼šå¯¹å¼€å¯ doc_values çš„å­—æ®µæ„å»ºä¸€ä¸ªæœ‰åºçš„ â€œdocumentæ–‡æ¡£ ==&gt; field valueâ€ çš„åˆ—å¼å­˜å‚¨æ˜ å°„ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä»¥æ–‡æ¡£ç»´åº¦ï¼Œå®ç°äº†æ ¹æ®æŒ‡å®šå­—æ®µè¿›è¡Œæ’åºå’Œèšåˆçš„åŠŸèƒ½ï¼Œé™ä½å¯¹å†…å­˜çš„ä¾èµ–ã€‚å¦å¤– doc_values ä¿å­˜åœ¨æ“ä½œç³»ç»Ÿçš„ç£ç›˜ä¸­ï¼Œå½“ doc_values å¤§äºèŠ‚ç‚¹çš„å¯ç”¨å†…å­˜ï¼ŒESå¯ä»¥ä»æ“ä½œç³»ç»Ÿé¡µç¼“å­˜ä¸­åŠ è½½æˆ–å¼¹å‡ºï¼Œä»è€Œé¿å…å‘ç”Ÿå†…å­˜æº¢å‡ºçš„å¼‚å¸¸ï¼Œä½†å¦‚æœ docValues è¿œå°äºèŠ‚ç‚¹çš„å¯ç”¨å†…å­˜ï¼Œæ“ä½œç³»ç»Ÿå°±è‡ªç„¶å°†æ‰€æœ‰ doc_values å­˜äºå†…å­˜ä¸­ï¼ˆå †å¤–å†…å­˜ï¼‰ï¼Œæœ‰åŠ©äºå¿«é€Ÿè®¿é—®ã€‚</p><blockquote><p>æ›´å¤š doc_values çš„ä»‹ç»ä¸ä½¿ç”¨æ¬¢è¿é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼š<a href="https://blog.csdn.net/a745233700/article/details/117915118" target="_blank" rel="noopener noreferrer">ElasticSearchæœç´¢å¼•æ“ï¼šdoc_valuesè¯¦ç»†ä»‹ç»<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><h3 id="_1-5-text-å’Œ-keywordç±»å‹çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_1-5-text-å’Œ-keywordç±»å‹çš„åŒºåˆ«" aria-hidden="true">#</a> 1.5 text å’Œ keywordç±»å‹çš„åŒºåˆ«ï¼š</h3><p>ä¸¤ä¸ªç±»å‹çš„åŒºåˆ«ä¸»è¦æ˜¯åˆ†è¯ï¼š</p><ul><li>keyword ç±»å‹æ˜¯ä¸ä¼šåˆ†è¯çš„ï¼Œç›´æ¥æ ¹æ®å­—ç¬¦ä¸²å†…å®¹å»ºç«‹å€’æ’ç´¢å¼•ï¼Œæ‰€ä»¥keywordç±»å‹çš„å­—æ®µåªèƒ½é€šè¿‡ç²¾ç¡®å€¼æœç´¢åˆ°ï¼›</li><li>Text ç±»å‹åœ¨å­˜å…¥ Elasticsearch çš„æ—¶å€™ï¼Œä¼šå…ˆåˆ†è¯ï¼Œç„¶åæ ¹æ®åˆ†è¯åçš„å†…å®¹å»ºç«‹å€’æ’ç´¢å¼•</li></ul><h3 id="_1-6-query-å’Œ-filter-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_1-6-query-å’Œ-filter-çš„åŒºåˆ«" aria-hidden="true">#</a> 1.6 <strong>query å’Œ filter çš„åŒºåˆ«ï¼Ÿ</strong></h3><p>ï¼ˆ1ï¼‰queryï¼šæŸ¥è¯¢æ“ä½œä¸ä»…ä»…ä¼šè¿›è¡ŒæŸ¥è¯¢ï¼Œè¿˜ä¼šè®¡ç®—åˆ†å€¼ï¼Œç”¨äºç¡®å®šç›¸å…³åº¦ï¼›</p><p>ï¼ˆ2ï¼‰filterï¼šæŸ¥è¯¢æ“ä½œä»…åˆ¤æ–­æ˜¯å¦æ»¡è¶³æŸ¥è¯¢æ¡ä»¶ï¼Œä¸ä¼šè®¡ç®—ä»»ä½•åˆ†å€¼ï¼Œä¹Ÿä¸ä¼šå…³å¿ƒè¿”å›çš„æ’åºé—®é¢˜ï¼ŒåŒæ—¶ï¼Œfilter æŸ¥è¯¢çš„ç»“æœå¯ä»¥è¢«ç¼“å­˜ï¼Œæé«˜æ€§èƒ½ã€‚</p><h2 id="_2-esçš„å†™å…¥æµç¨‹" tabindex="-1"><a class="header-anchor" href="#_2-esçš„å†™å…¥æµç¨‹" aria-hidden="true">#</a> 2. ESçš„å†™å…¥æµç¨‹ï¼š</h2><h3 id="_2-1-eså†™æ•°æ®çš„æ•´ä½“æµç¨‹" tabindex="-1"><a class="header-anchor" href="#_2-1-eså†™æ•°æ®çš„æ•´ä½“æµç¨‹" aria-hidden="true">#</a> <strong>2.1 ESå†™æ•°æ®çš„æ•´ä½“æµç¨‹ï¼š</strong></h3><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20221226215403919.png" alt="image-20221226215403919" tabindex="0" loading="lazy"><figcaption>image-20221226215403919</figcaption></figure><ul><li>ï¼ˆ1ï¼‰å®¢æˆ·ç«¯é€‰æ‹© ES çš„æŸä¸ª node å‘é€è¯·æ±‚è¿‡å»ï¼Œè¿™ä¸ª node å°±æ˜¯åè°ƒèŠ‚ç‚¹ coordinating node</li><li>ï¼ˆ2ï¼‰coordinating node å¯¹ document è¿›è¡Œè·¯ç”±ï¼Œå°†è¯·æ±‚è½¬å‘ç»™å¯¹åº”çš„ nodeï¼ˆæœ‰ primary shardï¼‰</li><li>ï¼ˆ3ï¼‰å®é™…çš„ node ä¸Šçš„ primary shard å¤„ç†è¯·æ±‚ï¼Œç„¶åå°†æ•°æ®åŒæ­¥åˆ° replica node</li><li>ï¼ˆ4ï¼‰coordinating node ç­‰åˆ° primary node å’Œæ‰€æœ‰ replica node éƒ½æ‰§è¡ŒæˆåŠŸä¹‹åï¼Œæœ€åè¿”å›å“åº”ç»“æœç»™å®¢æˆ·ç«¯ã€‚</li></ul><h3 id="_2-2-esä¸»åˆ†ç‰‡å†™æ•°æ®çš„è¯¦ç»†æµç¨‹" tabindex="-1"><a class="header-anchor" href="#_2-2-esä¸»åˆ†ç‰‡å†™æ•°æ®çš„è¯¦ç»†æµç¨‹" aria-hidden="true">#</a> 2.2 <strong>ESä¸»åˆ†ç‰‡å†™æ•°æ®çš„è¯¦ç»†æµç¨‹ï¼š</strong></h3><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20221226215625830.png" alt="image-20221226215625830" tabindex="0" loading="lazy"><figcaption>image-20221226215625830</figcaption></figure><h4 id="_2-2-1-refresh-æµç¨‹" tabindex="-1"><a class="header-anchor" href="#_2-2-1-refresh-æµç¨‹" aria-hidden="true">#</a> 2.2.1 refresh æµç¨‹</h4><p>ï¼ˆ1ï¼‰ä¸»åˆ†ç‰‡å…ˆå°†æ•°æ®å†™å…¥ESçš„ memory bufferï¼Œç„¶åå®šæ—¶ï¼ˆé»˜è®¤1sï¼‰å°† memory buffer ä¸­çš„æ•°æ®å†™å…¥ä¸€ä¸ªæ–°çš„ segment æ–‡ä»¶ä¸­ï¼Œå¹¶è¿›å…¥æ“ä½œç³»ç»Ÿç¼“å­˜ Filesystem cacheï¼ˆåŒæ—¶æ¸…ç©º memory bufferï¼‰ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å«åš refreshï¼›æ¯ä¸ª segment æ–‡ä»¶å®é™…ä¸Šæ˜¯ä¸€äº›å€’æ’ç´¢å¼•çš„é›†åˆï¼Œ åªæœ‰ç»å†äº† refresh æ“ä½œä¹‹åï¼Œè¿™äº›æ•°æ®æ‰èƒ½å˜æˆå¯æ£€ç´¢çš„ã€‚</p><blockquote><p>ES çš„è¿‘å®æ—¶æ€§ï¼šæ•°æ®å­˜åœ¨ memory buffer æ—¶æ˜¯æœç´¢ä¸åˆ°çš„ï¼Œåªæœ‰æ•°æ®è¢« refresh åˆ° Filesystem cache ä¹‹åæ‰èƒ½è¢«æœç´¢åˆ°ï¼Œè€Œ refresh æ˜¯æ¯ç§’ä¸€æ¬¡ï¼Œ æ‰€ä»¥ç§° es æ˜¯è¿‘å®æ—¶çš„ï¼›å¯ä»¥æ‰‹åŠ¨è°ƒç”¨ es çš„ api è§¦å‘ä¸€æ¬¡ refresh æ“ä½œï¼Œè®©æ•°æ®é©¬ä¸Šå¯ä»¥è¢«æœç´¢åˆ°ï¼›</p></blockquote><h4 id="_2-2-2-translog-æ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#_2-2-2-translog-æ—¥å¿—" aria-hidden="true">#</a> 2.2.2 translog æ—¥å¿—</h4><p>ï¼ˆ2ï¼‰ç”±äº memory Buffer å’Œ Filesystem Cache éƒ½æ˜¯åŸºäºå†…å­˜ï¼Œå‡è®¾æœåŠ¡å™¨å®•æœºï¼Œé‚£ä¹ˆæ•°æ®å°±ä¼šä¸¢å¤±ï¼Œæ‰€ä»¥ ES é€šè¿‡ translog æ—¥å¿—æ–‡ä»¶æ¥ä¿è¯æ•°æ®çš„å¯é æ€§ï¼Œåœ¨æ•°æ®å†™å…¥ memory buffer çš„åŒæ—¶ï¼Œå°†æ•°æ®ä¹Ÿå†™å…¥ translog æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œå½“æœºå™¨å®•æœºé‡å¯æ—¶ï¼Œes ä¼šè‡ªåŠ¨è¯»å– translog æ—¥å¿—æ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œæ¢å¤åˆ° memory buffer å’Œ Filesystem cache ä¸­å»ã€‚</p><blockquote><p>ES æ•°æ®ä¸¢å¤±çš„é—®é¢˜ï¼štranslog ä¹Ÿæ˜¯å…ˆå†™å…¥ Filesystem cacheï¼Œç„¶åé»˜è®¤æ¯éš” 5 ç§’åˆ·ä¸€æ¬¡åˆ°ç£ç›˜ä¸­ï¼Œæ‰€ä»¥é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯èƒ½æœ‰ 5 ç§’çš„æ•°æ®ä¼šä»…ä»…åœç•™åœ¨ memory buffer æˆ–è€… translog æ–‡ä»¶çš„ Filesystem cacheä¸­ï¼Œè€Œä¸åœ¨ç£ç›˜ä¸Šï¼Œå¦‚æœæ­¤æ—¶æœºå™¨å®•æœºï¼Œä¼šä¸¢å¤± 5 ç§’é’Ÿçš„æ•°æ®ã€‚ä¹Ÿå¯ä»¥å°† translog è®¾ç½®æˆæ¯æ¬¡å†™æ“ä½œå¿…é¡»æ˜¯ç›´æ¥ fsync åˆ°ç£ç›˜ï¼Œä½†æ˜¯æ€§èƒ½ä¼šå·®å¾ˆå¤šã€‚</p></blockquote><h4 id="_2-2-3-flush-æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#_2-2-3-flush-æ“ä½œ" aria-hidden="true">#</a> 2.2.3 flush æ“ä½œ</h4><p>ï¼ˆ3ï¼‰flush æ“ä½œï¼šä¸æ–­é‡å¤ä¸Šé¢çš„æ­¥éª¤ï¼Œtranslog ä¼šå˜å¾—è¶Šæ¥è¶Šå¤§ï¼Œä¸è¿‡ translog æ–‡ä»¶é»˜è®¤æ¯30åˆ†é’Ÿæˆ–è€… é˜ˆå€¼è¶…è¿‡ 512M æ—¶ï¼Œå°±ä¼šè§¦å‘ commit æ“ä½œï¼Œå³ flushæ“ä½œï¼Œå°† memory buffer ä¸­æ‰€æœ‰çš„æ•°æ®å†™å…¥æ–°çš„ segment æ–‡ä»¶ä¸­ï¼Œ å¹¶å°†å†…å­˜ä¸­æ‰€æœ‰çš„ segment æ–‡ä»¶å…¨éƒ¨è½ç›˜ï¼Œæœ€åæ¸…ç©º translog äº‹åŠ¡æ—¥å¿—ã€‚</p><blockquote><ul><li><p>â‘  å°† memory buffer ä¸­çš„æ•°æ® refresh åˆ° Filesystem Cache ä¸­å»ï¼Œæ¸…ç©º bufferï¼›</p></li><li><p>â‘¡ åˆ›å»ºä¸€ä¸ªæ–°çš„ commit pointï¼ˆæäº¤ç‚¹ï¼‰ï¼ŒåŒæ—¶å¼ºè¡Œå°† Filesystem Cache ä¸­ç›®å‰æ‰€æœ‰çš„æ•°æ®éƒ½ fsync åˆ°ç£ç›˜æ–‡ä»¶ä¸­ï¼›</p></li><li><p>â‘¢ åˆ é™¤æ—§çš„ translog æ—¥å¿—æ–‡ä»¶å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„ translog æ—¥å¿—æ–‡ä»¶ï¼Œæ­¤æ—¶ commit æ“ä½œå®Œæˆ</p></li></ul></blockquote><h2 id="_3-esçš„æ›´æ–°å’Œåˆ é™¤æµç¨‹" tabindex="-1"><a class="header-anchor" href="#_3-esçš„æ›´æ–°å’Œåˆ é™¤æµç¨‹" aria-hidden="true">#</a> 3. ESçš„æ›´æ–°å’Œåˆ é™¤æµç¨‹ï¼š</h2><p>åˆ é™¤å’Œæ›´æ–°éƒ½æ˜¯å†™æ“ä½œï¼Œä½†æ˜¯ç”±äº Elasticsearch ä¸­çš„æ–‡æ¡£æ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤ä¸èƒ½è¢«åˆ é™¤æˆ–è€…æ”¹åŠ¨ä»¥å±•ç¤ºå…¶å˜æ›´ï¼›æ‰€ä»¥ ES åˆ©ç”¨ .del æ–‡ä»¶ æ ‡è®°æ–‡æ¡£æ˜¯å¦è¢«åˆ é™¤ï¼Œç£ç›˜ä¸Šçš„æ¯ä¸ªæ®µéƒ½æœ‰ä¸€ä¸ªç›¸åº”çš„.del æ–‡ä»¶</p><p>ï¼ˆ1ï¼‰å¦‚æœæ˜¯åˆ é™¤æ“ä½œï¼Œæ–‡æ¡£å…¶å®å¹¶æ²¡æœ‰çœŸçš„è¢«åˆ é™¤ï¼Œè€Œæ˜¯åœ¨ .del æ–‡ä»¶ä¸­è¢«æ ‡è®°ä¸º deleted çŠ¶æ€ã€‚è¯¥æ–‡æ¡£ä¾ç„¶èƒ½åŒ¹é…æŸ¥è¯¢ï¼Œä½†æ˜¯ä¼šåœ¨ç»“æœä¸­è¢«è¿‡æ»¤æ‰ã€‚</p><p>ï¼ˆ2ï¼‰å¦‚æœæ˜¯æ›´æ–°æ“ä½œï¼Œå°±æ˜¯å°†æ—§çš„ doc æ ‡è¯†ä¸º deleted çŠ¶æ€ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„ docã€‚</p><blockquote><p>memory buffer æ¯ refresh ä¸€æ¬¡ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ª segment æ–‡ä»¶ ï¼Œæ‰€ä»¥é»˜è®¤æƒ…å†µä¸‹æ˜¯ 1s ç”Ÿæˆä¸€ä¸ª segment æ–‡ä»¶ï¼Œè¿™æ ·ä¸‹æ¥ segment æ–‡ä»¶ä¼šè¶Šæ¥è¶Šå¤šï¼Œæ­¤æ—¶ä¼šå®šæœŸæ‰§è¡Œ mergeã€‚æ¯æ¬¡ merge çš„æ—¶å€™ï¼Œä¼šå°†å¤šä¸ª segment æ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªï¼ŒåŒæ—¶è¿™é‡Œä¼šå°†æ ‡è¯†ä¸º deleted çš„ doc ç»™ç‰©ç†åˆ é™¤æ‰ï¼Œä¸å†™å…¥åˆ°æ–°çš„ segment ä¸­ï¼Œç„¶åå°†æ–°çš„ segment æ–‡ä»¶å†™å…¥ç£ç›˜ï¼Œè¿™é‡Œä¼šå†™ä¸€ä¸ª commit point ï¼Œæ ‡è¯†æ‰€æœ‰æ–°çš„ segment æ–‡ä»¶ï¼Œç„¶åæ‰“å¼€ segment æ–‡ä»¶ä¾›æœç´¢ä½¿ç”¨ï¼ŒåŒæ—¶åˆ é™¤æ—§çš„ segment æ–‡ä»¶</p></blockquote><h2 id="_4-esçš„æœç´¢æµç¨‹" tabindex="-1"><a class="header-anchor" href="#_4-esçš„æœç´¢æµç¨‹" aria-hidden="true">#</a> 4. ESçš„æœç´¢æµç¨‹ï¼š</h2><p>æœç´¢è¢«æ‰§è¡Œæˆä¸€ä¸ªä¸¤é˜¶æ®µè¿‡ç¨‹ï¼Œå³ Query Then Fetchï¼š</p><h3 id="_4-1-queryé˜¶æ®µ" tabindex="-1"><a class="header-anchor" href="#_4-1-queryé˜¶æ®µ" aria-hidden="true">#</a> 4.1 Queryé˜¶æ®µï¼š</h3><p>å®¢æˆ·ç«¯å‘é€è¯·æ±‚åˆ° coordinate nodeï¼Œåè°ƒèŠ‚ç‚¹å°†æœç´¢è¯·æ±‚å¹¿æ’­åˆ°æ‰€æœ‰çš„ primary shard æˆ– replicaï¼Œæ¯ä¸ªåˆ†ç‰‡åœ¨æœ¬åœ°æ‰§è¡Œæœç´¢å¹¶æ„å»ºä¸€ä¸ªåŒ¹é…æ–‡æ¡£çš„å¤§å°ä¸º from + size çš„ä¼˜å…ˆé˜Ÿåˆ—ã€‚æ¥ç€æ¯ä¸ªåˆ†ç‰‡è¿”å›å„è‡ªä¼˜å…ˆé˜Ÿåˆ—ä¸­ æ‰€æœ‰ docId å’Œ æ‰“åˆ†å€¼ ç»™åè°ƒèŠ‚ç‚¹ï¼Œç”±åè°ƒèŠ‚ç‚¹è¿›è¡Œæ•°æ®çš„åˆå¹¶ã€æ’åºã€åˆ†é¡µç­‰æ“ä½œï¼Œäº§å‡ºæœ€ç»ˆç»“æœã€‚</p><h3 id="_4-2-fetché˜¶æ®µ" tabindex="-1"><a class="header-anchor" href="#_4-2-fetché˜¶æ®µ" aria-hidden="true">#</a> 4.2 Fetché˜¶æ®µï¼š</h3><p>åè°ƒèŠ‚ç‚¹æ ¹æ® Queryé˜¶æ®µäº§ç”Ÿçš„ç»“æœï¼Œå»å„ä¸ªèŠ‚ç‚¹ä¸ŠæŸ¥è¯¢ docId å®é™…çš„ document å†…å®¹ï¼Œæœ€åç”±åè°ƒèŠ‚ç‚¹è¿”å›ç»“æœç»™å®¢æˆ·ç«¯ã€‚</p><blockquote><ul><li>coordinate node å¯¹ doc id è¿›è¡Œå“ˆå¸Œè·¯ç”±ï¼Œå°†è¯·æ±‚è½¬å‘åˆ°å¯¹åº”çš„ nodeï¼Œæ­¤æ—¶ä¼šä½¿ç”¨ round-robin éšæœºè½®è¯¢ç®—æ³•ï¼Œåœ¨ primary shard ä»¥åŠå…¶æ‰€æœ‰ replica ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªï¼Œè®©è¯»è¯·æ±‚è´Ÿè½½å‡è¡¡ã€‚</li><li>æ¥æ”¶è¯·æ±‚çš„ node è¿”å› document ç»™ coordinate node ã€‚</li><li>coordinate node è¿”å› document ç»™å®¢æˆ·ç«¯ã€‚</li></ul></blockquote><p>Query Then Fetch çš„æœç´¢ç±»å‹åœ¨æ–‡æ¡£ç›¸å…³æ€§æ‰“åˆ†çš„æ—¶å€™å‚è€ƒçš„æ˜¯æœ¬åˆ†ç‰‡çš„æ•°æ®ï¼Œè¿™æ ·åœ¨æ–‡æ¡£æ•°é‡è¾ƒå°‘çš„æ—¶å€™å¯èƒ½ä¸å¤Ÿå‡†ç¡®ï¼ŒDFS Query Then Fetch å¢åŠ äº†ä¸€ä¸ªé¢„æŸ¥è¯¢çš„å¤„ç†ï¼Œè¯¢é—® Term å’Œ Document frequencyï¼Œè¿™ä¸ªè¯„åˆ†æ›´å‡†ç¡®ï¼Œä½†æ˜¯æ€§èƒ½ä¼šå˜å·®ã€‚</p><h2 id="_5-esåœ¨é«˜å¹¶å‘ä¸‹å¦‚ä½•ä¿è¯è¯»å†™ä¸€è‡´æ€§" tabindex="-1"><a class="header-anchor" href="#_5-esåœ¨é«˜å¹¶å‘ä¸‹å¦‚ä½•ä¿è¯è¯»å†™ä¸€è‡´æ€§" aria-hidden="true">#</a> 5. ESåœ¨é«˜å¹¶å‘ä¸‹å¦‚ä½•ä¿è¯è¯»å†™ä¸€è‡´æ€§ï¼Ÿ</h2><h3 id="_5-1-æ›´æ–°æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#_5-1-æ›´æ–°æ“ä½œ" aria-hidden="true">#</a> 5.1 æ›´æ–°æ“ä½œ</h3><p>ï¼ˆ1ï¼‰å¯¹äºæ›´æ–°æ“ä½œï¼šå¯ä»¥é€šè¿‡ç‰ˆæœ¬å·ä½¿ç”¨ä¹è§‚å¹¶å‘æ§åˆ¶ï¼Œä»¥ç¡®ä¿æ–°ç‰ˆæœ¬ä¸ä¼šè¢«æ—§ç‰ˆæœ¬è¦†ç›–</p><blockquote><p>æ¯ä¸ªæ–‡æ¡£éƒ½æœ‰ä¸€ä¸ª_version ç‰ˆæœ¬å·ï¼Œè¿™ä¸ªç‰ˆæœ¬å·åœ¨æ–‡æ¡£è¢«æ”¹å˜æ—¶åŠ ä¸€ã€‚Elasticsearchä½¿ç”¨è¿™ä¸ª _version ä¿è¯æ‰€æœ‰ä¿®æ”¹éƒ½è¢«æ­£ç¡®æ’åºï¼Œå½“ä¸€ä¸ªæ—§ç‰ˆæœ¬å‡ºç°åœ¨æ–°ç‰ˆæœ¬ä¹‹åï¼Œå®ƒä¼šè¢«ç®€å•çš„å¿½ç•¥ã€‚</p><p>åˆ©ç”¨_versionçš„è¿™ä¸€ä¼˜ç‚¹ç¡®ä¿æ•°æ®ä¸ä¼šå› ä¸ºä¿®æ”¹å†²çªè€Œä¸¢å¤±ï¼Œæ¯”å¦‚æŒ‡å®šæ–‡æ¡£çš„versionæ¥åšæ›´æ”¹ï¼Œå¦‚æœé‚£ä¸ªç‰ˆæœ¬å·ä¸æ˜¯ç°åœ¨çš„ï¼Œæˆ‘ä»¬çš„è¯·æ±‚å°±å¤±è´¥äº†ã€‚</p></blockquote><h3 id="_5-2-å¯¹äºå†™æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#_5-2-å¯¹äºå†™æ“ä½œ" aria-hidden="true">#</a> 5.2 å¯¹äºå†™æ“ä½œ</h3><p>ï¼ˆ2ï¼‰å¯¹äºå†™æ“ä½œï¼Œä¸€è‡´æ€§çº§åˆ«æ”¯æŒ quorum/one/allï¼Œé»˜è®¤ä¸º quorumï¼Œå³åªæœ‰å½“å¤§å¤šæ•°åˆ†ç‰‡å¯ç”¨æ—¶æ‰å…è®¸å†™æ“ä½œã€‚ä½†å³ä½¿å¤§å¤šæ•°å¯ç”¨ï¼Œä¹Ÿå¯èƒ½å­˜åœ¨å› ä¸ºç½‘ç»œç­‰åŸå› å¯¼è‡´å†™å…¥å‰¯æœ¬å¤±è´¥ï¼Œè¿™æ ·è¯¥å‰¯æœ¬è¢«è®¤ä¸ºæ•…éšœï¼Œå‰¯æœ¬å°†ä¼šåœ¨ä¸€ä¸ªä¸åŒçš„èŠ‚ç‚¹ä¸Šé‡å»ºã€‚</p><blockquote><ul><li>oneï¼šå†™æ“ä½œåªè¦æœ‰ä¸€ä¸ªprimary shardæ˜¯activeæ´»è·ƒå¯ç”¨çš„ï¼Œå°±å¯ä»¥æ‰§è¡Œ</li><li>allï¼šå†™æ“ä½œå¿…é¡»æ‰€æœ‰çš„primary shardå’Œreplica shardéƒ½æ˜¯æ´»è·ƒå¯ç”¨çš„ï¼Œæ‰å¯ä»¥æ‰§è¡Œ</li><li>quorumï¼šé»˜è®¤å€¼ï¼Œè¦æ±‚ESä¸­å¤§éƒ¨åˆ†çš„shardæ˜¯æ´»è·ƒå¯ç”¨çš„ï¼Œæ‰å¯ä»¥æ‰§è¡Œå†™æ“ä½œ</li></ul></blockquote><h3 id="_5-3-å¯¹äºè¯»æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#_5-3-å¯¹äºè¯»æ“ä½œ" aria-hidden="true">#</a> 5.3 å¯¹äºè¯»æ“ä½œ</h3><p>ï¼ˆ3ï¼‰å¯¹äºè¯»æ“ä½œï¼Œå¯ä»¥è®¾ç½® replication ä¸º sync(é»˜è®¤)ï¼Œè¿™ä½¿å¾—æ“ä½œåœ¨ä¸»åˆ†ç‰‡å’Œå‰¯æœ¬åˆ†ç‰‡éƒ½å®Œæˆåæ‰ä¼šè¿”å›ï¼›å¦‚æœè®¾ç½®replication ä¸º async æ—¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®æœç´¢è¯·æ±‚å‚æ•° _preference ä¸º primary æ¥æŸ¥è¯¢ä¸»åˆ†ç‰‡ï¼Œç¡®ä¿æ–‡æ¡£æ˜¯æœ€æ–°ç‰ˆæœ¬ã€‚</p><h2 id="_6-esé›†ç¾¤å¦‚ä½•é€‰ä¸¾masterèŠ‚ç‚¹" tabindex="-1"><a class="header-anchor" href="#_6-esé›†ç¾¤å¦‚ä½•é€‰ä¸¾masterèŠ‚ç‚¹" aria-hidden="true">#</a> 6. ESé›†ç¾¤å¦‚ä½•é€‰ä¸¾MasterèŠ‚ç‚¹ï¼š</h2><h3 id="_6-1-elasticsearch-çš„åˆ†å¸ƒå¼åŸç†" tabindex="-1"><a class="header-anchor" href="#_6-1-elasticsearch-çš„åˆ†å¸ƒå¼åŸç†" aria-hidden="true">#</a> 6.1 Elasticsearch çš„åˆ†å¸ƒå¼åŸç†ï¼š</h3><p>Elasticsearch ä¼šå¯¹å­˜å‚¨çš„æ•°æ®è¿›è¡Œåˆ‡åˆ†ï¼Œåˆ’åˆ†åˆ°ä¸åŒçš„åˆ†ç‰‡ä¸Šï¼ŒåŒæ—¶æ¯ä¸€ä¸ªåˆ†ç‰‡ä¼šç”Ÿæˆå¤šä¸ªå‰¯æœ¬ï¼Œä»è€Œä¿è¯åˆ†å¸ƒå¼ç¯å¢ƒçš„é«˜å¯ç”¨ã€‚ESé›†ç¾¤ä¸­çš„èŠ‚ç‚¹æ˜¯å¯¹ç­‰çš„ï¼ŒèŠ‚ç‚¹é—´ä¼šé€‰å‡ºé›†ç¾¤çš„ Masterï¼Œç”± Master ä¼šè´Ÿè´£ç»´æŠ¤é›†ç¾¤çŠ¶æ€ä¿¡æ¯ï¼Œå¹¶åŒæ­¥ç»™å…¶ä»–èŠ‚ç‚¹ã€‚</p><blockquote><p>Elasticsearch çš„æ€§èƒ½ä¼šä¸ä¼šå¾ˆä½ï¼šä¸ä¼šï¼ŒESåªæœ‰å»ºç«‹ index å’Œ type æ—¶éœ€è¦ç»è¿‡ Masterï¼Œè€Œæ•°æ®çš„å†™å…¥æœ‰ä¸€ä¸ªç®€å•çš„ Routing è§„åˆ™ï¼Œå¯ä»¥è·¯ç”±åˆ°é›†ç¾¤ä¸­çš„ä»»æ„èŠ‚ç‚¹ï¼Œæ‰€ä»¥æ•°æ®å†™å…¥å‹åŠ›æ˜¯åˆ†æ•£åœ¨æ•´ä¸ªé›†ç¾¤çš„ã€‚</p></blockquote><h3 id="_6-2-esé›†ç¾¤-å¦‚ä½•-é€‰ä¸¾-master" tabindex="-1"><a class="header-anchor" href="#_6-2-esé›†ç¾¤-å¦‚ä½•-é€‰ä¸¾-master" aria-hidden="true">#</a> 6.2 ESé›†ç¾¤ å¦‚ä½• é€‰ä¸¾ Masterï¼š</h3><p>Elasticsearch çš„é€‰ä¸»æ˜¯ ZenDiscovery æ¨¡å—è´Ÿè´£çš„ï¼Œä¸»è¦åŒ…å«Pingï¼ˆèŠ‚ç‚¹ä¹‹é—´é€šè¿‡è¿™ä¸ªRPCæ¥å‘ç°å½¼æ­¤ï¼‰å’Œ Unicastï¼ˆå•æ’­æ¨¡å—åŒ…å«ä¸€ä¸ªä¸»æœºåˆ—è¡¨ä»¥æ§åˆ¶å“ªäº›èŠ‚ç‚¹éœ€è¦pingé€šï¼‰è¿™ä¸¤éƒ¨åˆ†ï¼›</p><blockquote><ul><li>ï¼ˆ1ï¼‰ç¡®è®¤å€™é€‰ä¸»èŠ‚ç‚¹çš„æœ€å°‘æŠ•ç¥¨é€šè¿‡æ•°é‡ï¼ˆelasticsearch.yml è®¾ç½®çš„å€¼ discovery.zen.minimum_master_nodesï¼‰</li><li>ï¼ˆ2ï¼‰é€‰ä¸¾æ—¶ï¼Œé›†ç¾¤ä¸­æ¯ä¸ªèŠ‚ç‚¹å¯¹æ‰€æœ‰ masterå€™é€‰èŠ‚ç‚¹ï¼ˆnode.master: trueï¼‰æ ¹æ® nodeId è¿›è¡Œå­—å…¸æ’åºï¼Œç„¶åé€‰å‡ºç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆç¬¬0ä½ï¼‰ï¼Œæš‚ä¸”è®¤ä¸ºå®ƒæ˜¯masterèŠ‚ç‚¹ã€‚</li><li>ï¼ˆ3ï¼‰å¦‚æœå¯¹æŸä¸ªèŠ‚ç‚¹çš„æŠ•ç¥¨æ•°è¾¾åˆ°é˜ˆå€¼ï¼Œå¹¶ä¸”è¯¥èŠ‚ç‚¹è‡ªå·±ä¹Ÿé€‰ä¸¾è‡ªå·±ï¼Œé‚£è¿™ä¸ªèŠ‚ç‚¹å°±æ˜¯masterï¼›å¦åˆ™é‡æ–°é€‰ä¸¾ä¸€ç›´åˆ°æ»¡è¶³ä¸Šè¿°æ¡ä»¶ã€‚</li></ul></blockquote><p>è¡¥å……ï¼šmasterèŠ‚ç‚¹çš„èŒè´£ä¸»è¦åŒ…æ‹¬é›†ç¾¤ã€èŠ‚ç‚¹å’Œç´¢å¼•çš„ç®¡ç†ï¼Œä¸è´Ÿè´£æ–‡æ¡£çº§åˆ«çš„ç®¡ç†ï¼›dataèŠ‚ç‚¹å¯ä»¥å…³é—­httpåŠŸèƒ½ã€‚</p><h3 id="_6-3-elasticsearchæ˜¯å¦‚ä½•é¿å…è„‘è£‚ç°è±¡" tabindex="-1"><a class="header-anchor" href="#_6-3-elasticsearchæ˜¯å¦‚ä½•é¿å…è„‘è£‚ç°è±¡" aria-hidden="true">#</a> 6.3 Elasticsearchæ˜¯å¦‚ä½•é¿å…è„‘è£‚ç°è±¡ï¼š</h3><p>ï¼ˆ1ï¼‰å½“é›†ç¾¤ä¸­ master å€™é€‰èŠ‚ç‚¹æ•°é‡ä¸å°äº3ä¸ªæ—¶ï¼ˆnode.master: trueï¼‰ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®æœ€å°‘æŠ•ç¥¨é€šè¿‡æ•°é‡ï¼ˆdiscovery.zen.minimum_master_nodesï¼‰ï¼Œè®¾ç½®è¶…è¿‡æ‰€æœ‰å€™é€‰èŠ‚ç‚¹ä¸€åŠä»¥ä¸Šæ¥è§£å†³è„‘è£‚é—®é¢˜ï¼Œå³è®¾ç½®ä¸º (N/2)+1ï¼›</p><p>ï¼ˆ2ï¼‰å½“é›†ç¾¤ master å€™é€‰èŠ‚ç‚¹ åªæœ‰ä¸¤ä¸ªæ—¶ï¼Œè¿™ç§æƒ…å†µæ˜¯ä¸åˆç†çš„ï¼Œæœ€å¥½æŠŠå¦å¤–ä¸€ä¸ªnode.masteræ”¹æˆfalseã€‚å¦‚æœæˆ‘ä»¬ä¸æ”¹èŠ‚ç‚¹è®¾ç½®ï¼Œè¿˜æ˜¯å¥—ä¸Šé¢çš„(N/2)+1å…¬å¼ï¼Œæ­¤æ—¶discovery.zen.minimum_master_nodesåº”è¯¥è®¾ç½®ä¸º2ã€‚è¿™å°±å‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œä¸¤ä¸ªmasterå¤‡é€‰èŠ‚ç‚¹ï¼Œåªè¦æœ‰ä¸€ä¸ªæŒ‚ï¼Œå°±é€‰ä¸å‡ºmasteräº†</p><h2 id="_7-å»ºç«‹ç´¢å¼•é˜¶æ®µæ€§èƒ½æå‡æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_7-å»ºç«‹ç´¢å¼•é˜¶æ®µæ€§èƒ½æå‡æ–¹æ³•" aria-hidden="true">#</a> 7. å»ºç«‹ç´¢å¼•é˜¶æ®µæ€§èƒ½æå‡æ–¹æ³•ï¼š</h2><ul><li>ï¼ˆ1ï¼‰å¦‚æœæ˜¯å¤§æ‰¹é‡å¯¼å…¥ï¼Œå¯ä»¥è®¾ç½® index.number_of_replicas: 0 å…³é—­å‰¯æœ¬ï¼Œç­‰æ•°æ®å¯¼å…¥å®Œæˆä¹‹åå†å¼€å¯å‰¯æœ¬</li><li>ï¼ˆ2ï¼‰ä½¿ç”¨æ‰¹é‡è¯·æ±‚å¹¶è°ƒæ•´å…¶å¤§å°ï¼šæ¯æ¬¡æ‰¹é‡æ•°æ® 5â€“15 MB å¤§æ˜¯ä¸ªä¸é”™çš„èµ·å§‹ç‚¹ã€‚</li><li>ï¼ˆ3ï¼‰å¦‚æœæœç´¢ç»“æœä¸éœ€è¦è¿‘å®æ—¶æ€§ï¼Œå¯ä»¥æŠŠæ¯ä¸ªç´¢å¼•çš„ index.refresh_interval æ”¹åˆ°30s</li><li>ï¼ˆ4ï¼‰å¢åŠ  index.translog.flush_threshold_size è®¾ç½®ï¼Œä»é»˜è®¤çš„ 512 MB åˆ°æ›´å¤§ä¸€äº›çš„å€¼ï¼Œæ¯”å¦‚ 1 GB</li><li>ï¼ˆ5ï¼‰ä½¿ç”¨ SSD å­˜å‚¨ä»‹è´¨</li><li>ï¼ˆ6ï¼‰æ®µå’Œåˆå¹¶ï¼šElasticsearch é»˜è®¤å€¼æ˜¯ 20 MB/sã€‚ä½†å¦‚æœç”¨çš„æ˜¯ SSDï¼Œå¯ä»¥è€ƒè™‘æé«˜åˆ° 100â€“200 MB/sã€‚å¦‚æœä½ åœ¨åšæ‰¹é‡å¯¼å…¥ï¼Œå®Œå…¨ä¸åœ¨æ„æœç´¢ï¼Œä½ å¯ä»¥å½»åº•å…³æ‰åˆå¹¶é™æµã€‚</li></ul><h2 id="_8-esçš„æ·±åº¦åˆ†é¡µä¸æ»šåŠ¨æœç´¢scroll" tabindex="-1"><a class="header-anchor" href="#_8-esçš„æ·±åº¦åˆ†é¡µä¸æ»šåŠ¨æœç´¢scroll" aria-hidden="true">#</a> 8. ESçš„æ·±åº¦åˆ†é¡µä¸æ»šåŠ¨æœç´¢scroll</h2><h3 id="_8-1-æ·±åº¦åˆ†é¡µ" tabindex="-1"><a class="header-anchor" href="#_8-1-æ·±åº¦åˆ†é¡µ" aria-hidden="true">#</a> 8.1 æ·±åº¦åˆ†é¡µï¼š</h3><p>æ·±åº¦åˆ†é¡µå…¶å®å°±æ˜¯æœç´¢çš„æ·±æµ…åº¦ï¼Œæ¯”å¦‚ç¬¬1é¡µï¼Œç¬¬2é¡µï¼Œç¬¬10é¡µï¼Œç¬¬20é¡µï¼Œæ˜¯æ¯”è¾ƒæµ…çš„ï¼›ç¬¬10000é¡µï¼Œç¬¬20000é¡µå°±æ˜¯å¾ˆæ·±äº†ã€‚æœç´¢å¾—å¤ªæ·±ï¼Œå°±ä¼šé€ æˆæ€§èƒ½é—®é¢˜ï¼Œä¼šè€—è´¹å†…å­˜å’Œå ç”¨cpuã€‚è€Œä¸”esä¸ºäº†æ€§èƒ½ï¼Œä»–ä¸æ”¯æŒè¶…è¿‡ä¸€ä¸‡æ¡æ•°æ®ä»¥ä¸Šçš„åˆ†é¡µæŸ¥è¯¢ã€‚é‚£ä¹ˆå¦‚ä½•è§£å†³æ·±åº¦åˆ†é¡µå¸¦æ¥çš„é—®é¢˜ï¼Œæˆ‘ä»¬åº”è¯¥é¿å…æ·±åº¦åˆ†é¡µæ“ä½œï¼ˆé™åˆ¶åˆ†é¡µé¡µæ•°ï¼‰ï¼Œæ¯”å¦‚æœ€å¤šåªèƒ½æä¾›100é¡µçš„å±•ç¤ºï¼Œä»ç¬¬101é¡µå¼€å§‹å°±æ²¡äº†ï¼Œæ¯•ç«Ÿç”¨æˆ·ä¹Ÿä¸ä¼šæœçš„é‚£ä¹ˆæ·±ã€‚</p><h3 id="_8-2-æ»šåŠ¨æœç´¢" tabindex="-1"><a class="header-anchor" href="#_8-2-æ»šåŠ¨æœç´¢" aria-hidden="true">#</a> 8.2 æ»šåŠ¨æœç´¢ï¼š</h3><p>ä¸€æ¬¡æ€§æŸ¥è¯¢1ä¸‡+æ•°æ®ï¼Œå¾€å¾€ä¼šé€ æˆæ€§èƒ½å½±å“ï¼Œå› ä¸ºæ•°æ®é‡å¤ªå¤šäº†ã€‚è¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨æ»šåŠ¨æœç´¢ï¼Œä¹Ÿå°±æ˜¯ scrollã€‚ æ»šåŠ¨æœç´¢å¯ä»¥å…ˆæŸ¥è¯¢å‡ºä¸€äº›æ•°æ®ï¼Œç„¶åå†ç´§æ¥ç€ä¾æ¬¡å¾€ä¸‹æŸ¥è¯¢ã€‚åœ¨ç¬¬ä¸€æ¬¡æŸ¥è¯¢çš„æ—¶å€™ä¼šæœ‰ä¸€ä¸ªæ»šåŠ¨idï¼Œç›¸å½“äºä¸€ä¸ªé”šæ ‡è®° ï¼Œéšåå†æ¬¡æ»šåŠ¨æœç´¢ä¼šéœ€è¦ä¸Šä¸€æ¬¡æœç´¢æ»šåŠ¨idï¼Œæ ¹æ®è¿™ä¸ªè¿›è¡Œä¸‹ä¸€æ¬¡çš„æœç´¢è¯·æ±‚ã€‚æ¯æ¬¡æœç´¢éƒ½æ˜¯åŸºäºä¸€ä¸ªå†å²çš„æ•°æ®å¿«ç…§ï¼ŒæŸ¥è¯¢æ•°æ®çš„æœŸé—´ï¼Œå¦‚æœæœ‰æ•°æ®å˜æ›´ï¼Œé‚£ä¹ˆå’Œæœç´¢æ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚</p><h2 id="å‚è€ƒæ–‡ç« " tabindex="-1"><a class="header-anchor" href="#å‚è€ƒæ–‡ç« " aria-hidden="true">#</a> å‚è€ƒæ–‡ç« </h2><p><a href="https://blog.csdn.net/a745233700/article/details/115585342" target="_blank" rel="noopener noreferrer">ElasticSearchæœç´¢å¼•æ“å¸¸è§é¢è¯•é¢˜æ€»ç»“<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/zszdevelop/java-study-gitbook/edit/main/docs/db/es/elasticsearch-interview-base.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: zszdevelop@163.com">zszdevelop</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/java-study-gitbook/db/es/elasticsearch-easy-es%E7%9A%84%E5%89%AF%E6%9C%AC.html" class="nav-link prev" aria-label="ESå®æˆ˜ - åˆ é™¤å†å²ç´¢å¼•"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->ESå®æˆ˜ - åˆ é™¤å†å²ç´¢å¼•</div></a><a href="/java-study-gitbook/db/es/elasticsearch-interview-scene.html" class="nav-link next" aria-label="ESé¢è¯• - ElasticSearché¢è¯•ï¼ˆåœºæ™¯ç¯‡ï¼‰"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">ESé¢è¯• - ElasticSearché¢è¯•ï¼ˆåœºæ™¯ç¯‡ï¼‰<!----></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"><a href='https://beian.miit.gov.cn' target='_blank' style='color: var(--c-text-lighter);>é—½ICPå¤‡18001806å·-1</a></div><div class="copyright">Copyright Â© 2023 zszdevelop</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/java-study-gitbook/assets/app-d7a104d1.js" defer></script>
  </body>
</html>
