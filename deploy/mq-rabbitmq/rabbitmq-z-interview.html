<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.59" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://java.isture.com/deploy/mq-rabbitmq/rabbitmq-z-interview.html"><meta property="og:site_name" content="Javaå­¦ä¹ ç¬”è®°"><meta property="og:title" content="RabbitMQé¢è¯• - é¢è¯•æ€»ç»“"><meta property="og:description" content="0. é¢è¯•é¢˜ ä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ; æ¶ˆæ¯é˜Ÿåˆ—æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹; Kafkaã€ActiveMQã€RabbitMQã€RocketMQ æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ä¼ è¾“ï¼Ÿæˆ–è€…è¯´ï¼Œå¦‚ä½•å¤„ç†æ¶ˆæ¯ä¸¢å¤±çš„é—®é¢˜ï¼Ÿ; RabbitMQ Kafka å¦‚ä½•ä¿è¯æ¶ˆæ¯é˜Ÿåˆ—çš„é«˜å¯ç”¨ï¼Ÿ; RabbitMQ çš„é«˜å¯ç”¨æ€§ ; Kafka çš„é«˜å¯ç”¨æ€§; å¦‚ä½•é¿å…æ¶ˆæ¯é‡å¤æŠ•é€’æˆ–é‡å¤æ¶ˆ..."><meta property="og:type" content="article"><meta property="og:updated_time" content="2023-02-20T13:42:31.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:modified_time" content="2023-02-20T13:42:31.000Z"><script>
          var _hmt = _hmt || [];
          (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?78dc0e0b4e3aedf643d6621778307a6f";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
          })();
      </script><title>RabbitMQé¢è¯• - é¢è¯•æ€»ç»“ | Javaå­¦ä¹ ç¬”è®°</title><meta name="description" content="0. é¢è¯•é¢˜ ä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ; æ¶ˆæ¯é˜Ÿåˆ—æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹; Kafkaã€ActiveMQã€RabbitMQã€RocketMQ æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ä¼ è¾“ï¼Ÿæˆ–è€…è¯´ï¼Œå¦‚ä½•å¤„ç†æ¶ˆæ¯ä¸¢å¤±çš„é—®é¢˜ï¼Ÿ; RabbitMQ Kafka å¦‚ä½•ä¿è¯æ¶ˆæ¯é˜Ÿåˆ—çš„é«˜å¯ç”¨ï¼Ÿ; RabbitMQ çš„é«˜å¯ç”¨æ€§ ; Kafka çš„é«˜å¯ç”¨æ€§; å¦‚ä½•é¿å…æ¶ˆæ¯é‡å¤æŠ•é€’æˆ–é‡å¤æ¶ˆ...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-21064aac.css" as="style"><link rel="stylesheet" href="/assets/style-21064aac.css">
    <link rel="modulepreload" href="/assets/app-1b262e40.js"><link rel="modulepreload" href="/assets/framework-0cf5f349.js"><link rel="modulepreload" href="/assets/rabbitmq-z-interview.html-dd751a44.js"><link rel="modulepreload" href="/assets/rabbitmq-z-interview.html-12e2f539.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/logo.svg" alt="Javaå­¦ä¹ ç¬”è®°"><!----><span class="site-name hide-in-pad">Javaå­¦ä¹ ç¬”è®°</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Java"><span class="title"><span class="icon iconfont icon-creative"></span>Java</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/java/base/Java-basis-oop.html" class="nav-link" aria-label="JavaåŸºç¡€"><!---->JavaåŸºç¡€<!----></a></li><li class="dropdown-item"><a href="/java/io/java-io-overview.html" class="nav-link" aria-label="Java IO"><!---->Java IO<!----></a></li><li class="dropdown-item"><a href="/java/collection/java-collection-overview.html" class="nav-link" aria-label="Javaé›†åˆ"><!---->Javaé›†åˆ<!----></a></li><li class="dropdown-item"><a href="/java/thread/java-thread-x-theorty.html" class="nav-link" aria-label="Javaå¹¶å‘"><!---->Javaå¹¶å‘<!----></a></li><li class="dropdown-item"><a href="/java/java8/java8-lambda.html" class="nav-link" aria-label="Java8"><!---->Java8<!----></a></li><li class="dropdown-item"><a href="/java/jvm/jvm-overview.html" class="nav-link" aria-label="JVM"><!---->JVM<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ•°æ®åº“"><span class="title"><span class="icon iconfont icon-creative"></span>æ•°æ®åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/db/sql/sql-x-basic.html" class="nav-link" aria-label="æ•°æ®åº“åŸºç¡€/SQLåŸºç¡€"><!---->æ•°æ®åº“åŸºç¡€/SQLåŸºç¡€<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Sqlæ•°æ®åº“</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mysql/sql-mysql-overview.html" class="nav-link" aria-label="Mysql"><!---->Mysql<!----></a></li><li class="dropdown-subitem"><a href="/db/oracle/oracle-b-sequence.html" class="nav-link" aria-label="Oracle"><!---->Oracle<!----></a></li><li class="dropdown-subitem"><a href="/db/dm/dm-operation-console.html" class="nav-link" aria-label="è¾¾æ¢¦"><!---->è¾¾æ¢¦<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>NoSqlæ•°æ®åº“</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/redis/db-redis-introduce.html" class="nav-link" aria-label="Redis"><!---->Redis<!----></a></li><li class="dropdown-subitem"><a href="/db/mongodb/mongo-x-basic.html" class="nav-link" aria-label="MongoDB"><!---->MongoDB<!----></a></li><li class="dropdown-subitem"><a href="/db/es/elasticsearch-x-introduce-1.html" class="nav-link" aria-label="Elasticsearch"><!---->Elasticsearch<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ¡†æ¶|ä¾èµ–"><span class="title"><span class="icon iconfont icon-creative"></span>æ¡†æ¶|ä¾èµ–</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Spring</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dependencies/spring/spring-overview.html" class="nav-link" aria-label="Spring"><!---->Spring<!----></a></li><li class="dropdown-subitem"><a href="/dependencies/spring-boot/springboot-x-overview.html" class="nav-link" aria-label="SpringBoot"><!---->SpringBoot<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ORM</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dependencies/mybatis/mybatis-y-arch.html" class="nav-link" aria-label="Mybatis"><!---->Mybatis<!----></a></li><li class="dropdown-subitem"><a href="/dependencies/mybatis-plus/mybatis-plus-x-gen-code.html" class="nav-link" aria-label="Mybatis-Plus"><!---->Mybatis-Plus<!----></a></li></ul></li><li class="dropdown-item"><a href="/dependencies/office/office-x-aspose.html" class="nav-link" aria-label="Officeæ–‡æ¡£æ“ä½œ"><!---->Officeæ–‡æ¡£æ“ä½œ<!----></a></li><li class="dropdown-item"><a href="/dependencies/cas/cas-x-overview.html" class="nav-link" aria-label="CASå•ç‚¹ç™»å½•"><!---->CASå•ç‚¹ç™»å½•<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å¼€å‘|æµ‹è¯•"><span class="title"><span class="icon iconfont icon-creative"></span>å¼€å‘|æµ‹è¯•</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/develop/devlibrary/dev-lib-lombok.html" class="nav-link" aria-label="å¼€å‘-å¸¸ç”¨ç±»åº“"><span class="icon iconfont icon-creative"></span>å¼€å‘-å¸¸ç”¨ç±»åº“<!----></a></li><li class="dropdown-item"><a href="/develop/security/dev-security-x-injection.html" class="nav-link" aria-label="å¼€å‘-å®‰å…¨"><span class="icon iconfont icon-creative"></span>å¼€å‘-å®‰å…¨<!----></a></li><li class="dropdown-item"><a href="/develop/optimization/optimization-x-interface-optimization.html" class="nav-link" aria-label="å¼€å‘ - ä¼˜åŒ–"><span class="icon iconfont icon-creative"></span>å¼€å‘ - ä¼˜åŒ–<!----></a></li><li class="dropdown-item"><a href="/develop/style/dev-qt-code-style.html" class="nav-link" aria-label="å¼€å‘ - è§„èŒƒ/é£æ ¼"><span class="icon iconfont icon-creative"></span>å¼€å‘ - è§„èŒƒ/é£æ ¼<!----></a></li><li class="dropdown-item"><a href="/develop/test/ut-overview" class="nav-link" aria-label="æµ‹è¯•"><span class="icon iconfont icon-creative"></span>æµ‹è¯•<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="è½¯ä»¶|éƒ¨ç½²"><span class="title"><span class="icon iconfont icon-creative"></span>è½¯ä»¶|éƒ¨ç½²</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/deploy/docker/docker-basic-overview.html" class="nav-link" aria-label="Docker"><span class="icon iconfont icon-creative"></span>Docker<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ¶ˆæ¯é˜Ÿåˆ—</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/deploy/mq/mq-a-overview.html" class="nav-link" aria-label="æ¶ˆæ¯é˜Ÿåˆ—"><!---->æ¶ˆæ¯é˜Ÿåˆ—<!----></a></li><li class="dropdown-subitem"><a href="/deploy/mq-rabbitmq/rabbitmq-x-overview.html" class="nav-link" aria-label="RabbitMQ"><!---->RabbitMQ<!----></a></li><li class="dropdown-subitem"><a href="/deploy/mq-kafka/kafka-x-overview.html" class="nav-link" aria-label="Kafka"><!---->Kafka<!----></a></li></ul></li><li class="dropdown-item"><a href="/deploy/skywalking/skywalking-x-principle.html" class="nav-link" aria-label="Skywalking"><span class="icon iconfont icon-creative"></span>Skywalking<!----></a></li><li class="dropdown-item"><a href="/deploy/linux/linux-j-monitor-overview.html" class="nav-link" aria-label="Linux"><span class="icon iconfont icon-creative"></span>Linux<!----></a></li><li class="dropdown-item"><a href="/deploy/jenkins/jenkins-overview.html" class="nav-link" aria-label="Jenkins"><span class="icon iconfont icon-creative"></span>Jenkins<!----></a></li><li class="dropdown-item"><a href="/deploy/nginx/nginx-x-overview.html" class="nav-link" aria-label="Nginx"><span class="icon iconfont icon-creative"></span>Nginx<!----></a></li><li class="dropdown-item"><a href="/deploy/deploy/docker-basic-overview" class="nav-link" aria-label="éƒ¨ç½²"><span class="icon iconfont icon-creative"></span>éƒ¨ç½²<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ¶æ„|ç³»ç»Ÿ"><span class="title"><span class="icon iconfont icon-creative"></span>æ¶æ„|ç³»ç»Ÿ</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/arch/base/arch-basic.html" class="nav-link" aria-label="æ¶æ„åŸºç¡€"><span class="icon iconfont icon-creative"></span>æ¶æ„åŸºç¡€<!----></a></li><li class="dropdown-item"><a href="/arch/distributed/arch-id.html" class="nav-link" aria-label="åˆ†å¸ƒå¼ç³»ç»Ÿ"><span class="icon iconfont icon-creative"></span>åˆ†å¸ƒå¼ç³»ç»Ÿ<!----></a></li><li class="dropdown-item"><a href="/arch/microservices/ms-overview.html" class="nav-link" aria-label="å¾®æœåŠ¡"><span class="icon iconfont icon-creative"></span>å¾®æœåŠ¡<!----></a></li><li class="dropdown-item"><a href="/arch/minio/minio-concept.html" class="nav-link" aria-label="å¯¹è±¡å­˜å‚¨-Minio"><span class="icon iconfont icon-creative"></span>å¯¹è±¡å­˜å‚¨-Minio<!----></a></li><li class="dropdown-item"><a href="/arch/manage-system/manage-system-technical-selection.html" class="nav-link" aria-label="åå°ç®¡ç†ç³»ç»Ÿ"><span class="icon iconfont icon-creative"></span>åå°ç®¡ç†ç³»ç»Ÿ<!----></a></li><li class="dropdown-item"><a href="/arch/mall/mall-sku.html" class="nav-link" aria-label="å•†åŸè®¾è®¡"><span class="icon iconfont icon-creative"></span>å•†åŸè®¾è®¡<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="è¯­è¨€|å¹³å°"><span class="title"><span class="icon iconfont icon-creative"></span>è¯­è¨€|å¹³å°</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/language/frontend-layout/flex-layout-overview.html" class="nav-link" aria-label="å‰ç«¯"><span class="icon iconfont icon-creative"></span>å‰ç«¯<!----></a></li><li class="dropdown-item"><a href="/language/python/python-advantage.html" class="nav-link" aria-label="python"><span class="icon iconfont icon-creative"></span>python<!----></a></li><li class="dropdown-item"><a href="/language/weixin/wx-package-Optimization.html" class="nav-link" aria-label="å¾®ä¿¡"><span class="icon iconfont icon-creative"></span>å¾®ä¿¡<!----></a></li><li class="dropdown-item"><a href="/language/ai/knowledge-graph-build.html" class="nav-link" aria-label="AIäººå·¥æ™ºèƒ½"><span class="icon iconfont icon-creative"></span>AIäººå·¥æ™ºèƒ½<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ‚é¡¹|æ€è€ƒ"><span class="title"><span class="icon iconfont icon-creative"></span>æ‚é¡¹|æ€è€ƒ</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/think/deepImpression/redis-bigdata-slow-problem.html" class="nav-link" aria-label="å°è±¡æ·±åˆ»bug"><span class="icon iconfont icon-creative"></span>å°è±¡æ·±åˆ»bug<!----></a></li><li class="dropdown-item"><a href="/think/optimization/optimization-x-frequent-operation-db.html" class="nav-link" aria-label="ä¼˜åŒ–"><span class="icon iconfont icon-creative"></span>ä¼˜åŒ–<!----></a></li><li class="dropdown-item"><a href="/think/misc/misc-x-middleware.html" class="nav-link" aria-label="æ‚é¡¹"><span class="icon iconfont icon-creative"></span>æ‚é¡¹<!----></a></li></ul></button></div></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/zszdevelop/java-study-gitbook" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><div id="docsearch-container"></div><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Docker</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">æ¶ˆæ¯ä¸­é—´ä»¶</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">æ¶ˆæ¯ä¸­é—´ä»¶ - RabbitMQ</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-x-overview.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQå…¥é—¨ - å¼€ç¯‡"><!---->RabbitMQå…¥é—¨ - å¼€ç¯‡<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-x-ttl.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQè¿›é˜¶ - è¿‡æœŸæ—¶é—´TTL"><!---->RabbitMQè¿›é˜¶ - è¿‡æœŸæ—¶é—´TTL<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-x-dead-letter.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQè¿›é˜¶ - æ­»ä¿¡é˜Ÿåˆ—DLX"><!---->RabbitMQè¿›é˜¶ - æ­»ä¿¡é˜Ÿåˆ—DLX<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-x-delay.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQè¿›é˜¶ - å»¶è¿Ÿé˜Ÿåˆ—"><!---->RabbitMQè¿›é˜¶ - å»¶è¿Ÿé˜Ÿåˆ—<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-x-priority.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQè¿›é˜¶ - ä¼˜å…ˆçº§é˜Ÿåˆ—"><!---->RabbitMQè¿›é˜¶ - ä¼˜å…ˆçº§é˜Ÿåˆ—<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-x-rpc.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQè¿›é˜¶ - RPCå®ç°"><!---->RabbitMQè¿›é˜¶ - RPCå®ç°<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-x-durable.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQè¿›é˜¶ - æŒä¹…åŒ–"><!---->RabbitMQè¿›é˜¶ - æŒä¹…åŒ–<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-x-confirm.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQè¿›é˜¶ - æ¶ˆæ¯ç¡®è®¤æœºåˆ¶ï¼ˆäº‹åŠ¡+Confirmï¼‰"><!---->RabbitMQè¿›é˜¶ - æ¶ˆæ¯ç¡®è®¤æœºåˆ¶ï¼ˆäº‹åŠ¡+Confirmï¼‰<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-x-consumer.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQè¿›é˜¶ - æ¶ˆè´¹ç«¯è¦ç‚¹ä»‹ç»"><!---->RabbitMQè¿›é˜¶ - æ¶ˆè´¹ç«¯è¦ç‚¹ä»‹ç»<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-x-amqp.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQç›¸å…³æ¦‚å¿µ - AQMP åè®®ä»‹ç»"><!---->RabbitMQç›¸å…³æ¦‚å¿µ - AQMP åè®®ä»‹ç»<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-x-data-loss.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQé—®é¢˜ - é˜²æ­¢æ•°æ®ä¸¢å¤±"><!---->RabbitMQé—®é¢˜ - é˜²æ­¢æ•°æ®ä¸¢å¤±<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-x-safe.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQé—®é¢˜ - é˜²æ­¢æ•°æ®ä¸¢å¤±(è¡¥å……)"><!---->RabbitMQé—®é¢˜ - é˜²æ­¢æ•°æ®ä¸¢å¤±(è¡¥å……)<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-y-manange-vhost.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQç®¡ç† - å¤šç§Ÿæˆ·ä¸æƒé™ï¼švhost"><!---->RabbitMQç®¡ç† - å¤šç§Ÿæˆ·ä¸æƒé™ï¼švhost<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-y-manange-user.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQç®¡ç† - ç”¨æˆ·ç®¡ç†ï¼šuser"><!---->RabbitMQç®¡ç† - ç”¨æˆ·ç®¡ç†ï¼šuser<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-y-manange-web.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQç®¡ç† - Web ç«¯ç®¡ç†"><!---->RabbitMQç®¡ç† - Web ç«¯ç®¡ç†<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-y-manange-app.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQç®¡ç† - åº”ç”¨ä¸é›†ç¾¤ç®¡ç†"><!---->RabbitMQç®¡ç† - åº”ç”¨ä¸é›†ç¾¤ç®¡ç†<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-z-cluster.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQé›†ç¾¤ - é›†ç¾¤æ­å»º"><!---->RabbitMQé›†ç¾¤ - é›†ç¾¤æ­å»º<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-y-scene-mall-order.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQå®æˆ˜ - å»¶è¿Ÿæ¶ˆæ¯-å•†åŸä¸‹å•ï¼Œè¶…æ—¶å–æ¶ˆè®¢å•"><!---->RabbitMQå®æˆ˜ - å»¶è¿Ÿæ¶ˆæ¯-å•†åŸä¸‹å•ï¼Œè¶…æ—¶å–æ¶ˆè®¢å•<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-y-action.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQå®æˆ˜ - Exchangeçš„å››ç§ç±»å‹ä»¥åŠç”¨æ³•"><!---->RabbitMQå®æˆ˜ - Exchangeçš„å››ç§ç±»å‹ä»¥åŠç”¨æ³•<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-y-docker-install.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQå®‰è£… - Dockerå®‰è£…RabbitMQ"><!---->RabbitMQå®‰è£… - Dockerå®‰è£…RabbitMQ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-y-install.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQå®‰è£… - RabbitMQå®‰è£…"><!---->RabbitMQå®‰è£… - RabbitMQå®‰è£…<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="RabbitMQé¢è¯• - é¢è¯•æ€»ç»“"><!---->RabbitMQé¢è¯• - é¢è¯•æ€»ç»“<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_0-é¢è¯•é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="0. é¢è¯•é¢˜"><!---->0. é¢è¯•é¢˜<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_1-ä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. ä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ"><!---->1. ä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_1-1-è§£è€¦" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.1 è§£è€¦"><!---->1.1 è§£è€¦<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_1-2-å¼‚æ­¥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2 å¼‚æ­¥"><!---->1.2 å¼‚æ­¥<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_1-3-å‰Šå³°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3 å‰Šå³°"><!---->1.3 å‰Šå³°<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_2-æ¶ˆæ¯é˜Ÿåˆ—æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. æ¶ˆæ¯é˜Ÿåˆ—æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹"><!---->2. æ¶ˆæ¯é˜Ÿåˆ—æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_2-1-ç³»ç»Ÿå¯ç”¨æ€§é™ä½" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.1 ç³»ç»Ÿå¯ç”¨æ€§é™ä½"><!---->2.1 ç³»ç»Ÿå¯ç”¨æ€§é™ä½<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_2-2-ç³»ç»Ÿå¤æ‚åº¦æé«˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.2 ç³»ç»Ÿå¤æ‚åº¦æé«˜"><!---->2.2 ç³»ç»Ÿå¤æ‚åº¦æé«˜<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_2-3-ä¸€è‡´æ€§é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.3 ä¸€è‡´æ€§é—®é¢˜"><!---->2.3 ä¸€è‡´æ€§é—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_3-kafkaã€activemqã€rabbitmqã€rocketmq-æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. Kafkaã€ActiveMQã€RabbitMQã€RocketMQ æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ"><!---->3. Kafkaã€ActiveMQã€RabbitMQã€RocketMQ æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_3-1-ä¸šåŠ¡é€‰å‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1 ä¸šåŠ¡é€‰å‹"><!---->3.1 ä¸šåŠ¡é€‰å‹<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_4-å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ä¼ è¾“-æˆ–è€…è¯´-å¦‚ä½•å¤„ç†æ¶ˆæ¯ä¸¢å¤±çš„é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ä¼ è¾“ï¼Ÿæˆ–è€…è¯´ï¼Œå¦‚ä½•å¤„ç†æ¶ˆæ¯ä¸¢å¤±çš„é—®é¢˜ï¼Ÿ"><!---->4. å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ä¼ è¾“ï¼Ÿæˆ–è€…è¯´ï¼Œå¦‚ä½•å¤„ç†æ¶ˆæ¯ä¸¢å¤±çš„é—®é¢˜ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_4-1-rabbitmq" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.1 RabbitMQ"><!---->4.1 RabbitMQ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_4-2-kafka" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.2 Kafka"><!---->4.2 Kafka<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_5-å¦‚ä½•ä¿è¯æ¶ˆæ¯é˜Ÿåˆ—çš„é«˜å¯ç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. å¦‚ä½•ä¿è¯æ¶ˆæ¯é˜Ÿåˆ—çš„é«˜å¯ç”¨ï¼Ÿ"><!---->5. å¦‚ä½•ä¿è¯æ¶ˆæ¯é˜Ÿåˆ—çš„é«˜å¯ç”¨ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_5-1-rabbitmq-çš„é«˜å¯ç”¨æ€§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.1 RabbitMQ çš„é«˜å¯ç”¨æ€§"><!---->5.1 RabbitMQ çš„é«˜å¯ç”¨æ€§<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_5-2-kafka-çš„é«˜å¯ç”¨æ€§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.2 Kafka çš„é«˜å¯ç”¨æ€§"><!---->5.2 Kafka çš„é«˜å¯ç”¨æ€§<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_6-å¦‚ä½•é¿å…æ¶ˆæ¯é‡å¤æŠ•é€’æˆ–é‡å¤æ¶ˆè´¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6. å¦‚ä½•é¿å…æ¶ˆæ¯é‡å¤æŠ•é€’æˆ–é‡å¤æ¶ˆè´¹ï¼Ÿ"><!---->6. å¦‚ä½•é¿å…æ¶ˆæ¯é‡å¤æŠ•é€’æˆ–é‡å¤æ¶ˆè´¹ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_7-æ¶ˆæ¯åŸºäºä»€ä¹ˆä¼ è¾“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7. æ¶ˆæ¯åŸºäºä»€ä¹ˆä¼ è¾“ï¼Ÿ"><!---->7. æ¶ˆæ¯åŸºäºä»€ä¹ˆä¼ è¾“ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_8-æ¶ˆæ¯å¦‚ä½•åˆ†å‘" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="8. æ¶ˆæ¯å¦‚ä½•åˆ†å‘ï¼Ÿ"><!---->8. æ¶ˆæ¯å¦‚ä½•åˆ†å‘ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_9-æ¶ˆæ¯æ€ä¹ˆè·¯ç”±" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="9. æ¶ˆæ¯æ€ä¹ˆè·¯ç”±ï¼Ÿ"><!---->9. æ¶ˆæ¯æ€ä¹ˆè·¯ç”±ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_10-å¤šä¸ªæ¶ˆè´¹è€…ç›‘å¬ä¸€ä¸ªé˜Ÿåˆ—æ—¶-æ¶ˆæ¯å¦‚ä½•åˆ†å‘" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="10. å¤šä¸ªæ¶ˆè´¹è€…ç›‘å¬ä¸€ä¸ªé˜Ÿåˆ—æ—¶ï¼Œæ¶ˆæ¯å¦‚ä½•åˆ†å‘"><!---->10. å¤šä¸ªæ¶ˆè´¹è€…ç›‘å¬ä¸€ä¸ªé˜Ÿåˆ—æ—¶ï¼Œæ¶ˆæ¯å¦‚ä½•åˆ†å‘<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_11-æ— æ³•è¢«è·¯ç”±çš„æ¶ˆæ¯å»äº†å“ªé‡Œ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="11. æ— æ³•è¢«è·¯ç”±çš„æ¶ˆæ¯å»äº†å“ªé‡Œ"><!---->11. æ— æ³•è¢«è·¯ç”±çš„æ¶ˆæ¯å»äº†å“ªé‡Œ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_12-æ¶ˆæ¯åœ¨ä»€ä¹ˆæ—¶å€™ä¼šå˜æˆæ­»ä¿¡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="12. æ¶ˆæ¯åœ¨ä»€ä¹ˆæ—¶å€™ä¼šå˜æˆæ­»ä¿¡"><!---->12. æ¶ˆæ¯åœ¨ä»€ä¹ˆæ—¶å€™ä¼šå˜æˆæ­»ä¿¡<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_13-rabbitmqå¦‚ä½•å®ç°å»¶æ—¶é˜Ÿåˆ—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="13. RabbitMQå¦‚ä½•å®ç°å»¶æ—¶é˜Ÿåˆ—"><!---->13. RabbitMQå¦‚ä½•å®ç°å»¶æ—¶é˜Ÿåˆ—<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_14-å¦‚ä½•ä¿è¯æ¶ˆæ¯å¹‚ç­‰æ€§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="14. å¦‚ä½•ä¿è¯æ¶ˆæ¯å¹‚ç­‰æ€§"><!---->14. å¦‚ä½•ä¿è¯æ¶ˆæ¯å¹‚ç­‰æ€§<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_15-æ¶ˆæ¯å¦‚ä½•è¢«ä¼˜å…ˆæ¶ˆè´¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="15. æ¶ˆæ¯å¦‚ä½•è¢«ä¼˜å…ˆæ¶ˆè´¹"><!---->15. æ¶ˆæ¯å¦‚ä½•è¢«ä¼˜å…ˆæ¶ˆè´¹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_16-å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„é¡ºåºæ€§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="16. å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„é¡ºåºæ€§"><!---->16. å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„é¡ºåºæ€§<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_17-mq-çš„ç¼ºç‚¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="17. mq çš„ç¼ºç‚¹"><!---->17. mq çš„ç¼ºç‚¹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#å‚è€ƒæ–‡ç« " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å‚è€ƒæ–‡ç« "><!---->å‚è€ƒæ–‡ç« <!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-x-success100.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQæ¶ˆæ¯å¦‚ä½•ä¿éšœ100%æŠ•é€’æˆåŠŸ"><!---->RabbitMQæ¶ˆæ¯å¦‚ä½•ä¿éšœ100%æŠ•é€’æˆåŠŸ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-i-limit.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQæ¶ˆè´¹ç«¯é™æµ"><!---->RabbitMQæ¶ˆè´¹ç«¯é™æµ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-i-return.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQçš„Returnæ¶ˆæ¯æœºåˆ¶"><!---->RabbitMQçš„Returnæ¶ˆæ¯æœºåˆ¶<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-i-listener.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQçš„æ¶ˆè´¹ç«¯è‡ªå®šä¹‰ç›‘å¬"><!---->RabbitMQçš„æ¶ˆè´¹ç«¯è‡ªå®šä¹‰ç›‘å¬<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-y-action-springboot.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringBooté›†æˆRabbitMQï¼ˆspring-boot-starter-amqpï¼‰"><!---->SpringBooté›†æˆRabbitMQï¼ˆspring-boot-starter-amqpï¼‰<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/deploy/mq-rabbitmq/rabbitmq-y-action-spring.html" class="nav-link sidebar-link sidebar-page" aria-label="Springé›†æˆRabbitMQ(spring-rabbit)"><!---->Springé›†æˆRabbitMQ(spring-rabbit)<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">æ¶ˆæ¯ä¸­é—´ä»¶ - Kafka</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">é“¾è·¯è¿½è¸ª - Skywalking</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Jenkins</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">nginx</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Linux</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Mac</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Win</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">éƒ¨ç½²</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">git</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">gitlab</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">IDEA</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Tomcat</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">å®è—ç½‘ç«™</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">æ•°æ®åº“æ“ä½œè½¯ä»¶</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">ç›¸å…³è½¯ä»¶</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">è®¡ç®—æœºåŸºç¡€</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">è¿ç»´é¢æ¿</span><span class="arrow right"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->RabbitMQé¢è¯• - é¢è¯•æ€»ç»“</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://java.isture.com" target="_blank" rel="noopener noreferrer">zszdevelop</a></span><span property="author" content="zszdevelop"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-02-20T13:42:31.000Z"></span><span class="category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><span class="category-item category0" role>RabbitMQ</span><span class="category-item category7" role>MQ</span><meta property="articleSection" content="RabbitMQ,MQ"></span><!----><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 31 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT31M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_0-é¢è¯•é¢˜" class="router-link-active router-link-exact-active toc-link level2">0. é¢è¯•é¢˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_1-ä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—" class="router-link-active router-link-exact-active toc-link level2">1. ä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_1-1-è§£è€¦" class="router-link-active router-link-exact-active toc-link level3">1.1 è§£è€¦</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_1-2-å¼‚æ­¥" class="router-link-active router-link-exact-active toc-link level3">1.2 å¼‚æ­¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_1-3-å‰Šå³°" class="router-link-active router-link-exact-active toc-link level3">1.3 å‰Šå³°</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_2-æ¶ˆæ¯é˜Ÿåˆ—æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹" class="router-link-active router-link-exact-active toc-link level2">2. æ¶ˆæ¯é˜Ÿåˆ—æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_2-1-ç³»ç»Ÿå¯ç”¨æ€§é™ä½" class="router-link-active router-link-exact-active toc-link level3">2.1 ç³»ç»Ÿå¯ç”¨æ€§é™ä½</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_2-2-ç³»ç»Ÿå¤æ‚åº¦æé«˜" class="router-link-active router-link-exact-active toc-link level3">2.2 ç³»ç»Ÿå¤æ‚åº¦æé«˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_2-3-ä¸€è‡´æ€§é—®é¢˜" class="router-link-active router-link-exact-active toc-link level3">2.3 ä¸€è‡´æ€§é—®é¢˜</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_3-kafkaã€activemqã€rabbitmqã€rocketmq-æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹" class="router-link-active router-link-exact-active toc-link level2">3. Kafkaã€ActiveMQã€RabbitMQã€RocketMQ æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_3-1-ä¸šåŠ¡é€‰å‹" class="router-link-active router-link-exact-active toc-link level3">3.1 ä¸šåŠ¡é€‰å‹</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_4-å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ä¼ è¾“-æˆ–è€…è¯´-å¦‚ä½•å¤„ç†æ¶ˆæ¯ä¸¢å¤±çš„é—®é¢˜" class="router-link-active router-link-exact-active toc-link level2">4. å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ä¼ è¾“ï¼Ÿæˆ–è€…è¯´ï¼Œå¦‚ä½•å¤„ç†æ¶ˆæ¯ä¸¢å¤±çš„é—®é¢˜ï¼Ÿ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_4-1-rabbitmq" class="router-link-active router-link-exact-active toc-link level3">4.1 RabbitMQ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_4-2-kafka" class="router-link-active router-link-exact-active toc-link level3">4.2 Kafka</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_5-å¦‚ä½•ä¿è¯æ¶ˆæ¯é˜Ÿåˆ—çš„é«˜å¯ç”¨" class="router-link-active router-link-exact-active toc-link level2">5. å¦‚ä½•ä¿è¯æ¶ˆæ¯é˜Ÿåˆ—çš„é«˜å¯ç”¨ï¼Ÿ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_5-1-rabbitmq-çš„é«˜å¯ç”¨æ€§" class="router-link-active router-link-exact-active toc-link level3">5.1 RabbitMQ çš„é«˜å¯ç”¨æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_5-2-kafka-çš„é«˜å¯ç”¨æ€§" class="router-link-active router-link-exact-active toc-link level3">5.2 Kafka çš„é«˜å¯ç”¨æ€§</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_6-å¦‚ä½•é¿å…æ¶ˆæ¯é‡å¤æŠ•é€’æˆ–é‡å¤æ¶ˆè´¹" class="router-link-active router-link-exact-active toc-link level2">6. å¦‚ä½•é¿å…æ¶ˆæ¯é‡å¤æŠ•é€’æˆ–é‡å¤æ¶ˆè´¹ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_7-æ¶ˆæ¯åŸºäºä»€ä¹ˆä¼ è¾“" class="router-link-active router-link-exact-active toc-link level2">7. æ¶ˆæ¯åŸºäºä»€ä¹ˆä¼ è¾“ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_8-æ¶ˆæ¯å¦‚ä½•åˆ†å‘" class="router-link-active router-link-exact-active toc-link level2">8. æ¶ˆæ¯å¦‚ä½•åˆ†å‘ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_9-æ¶ˆæ¯æ€ä¹ˆè·¯ç”±" class="router-link-active router-link-exact-active toc-link level2">9. æ¶ˆæ¯æ€ä¹ˆè·¯ç”±ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_10-å¤šä¸ªæ¶ˆè´¹è€…ç›‘å¬ä¸€ä¸ªé˜Ÿåˆ—æ—¶-æ¶ˆæ¯å¦‚ä½•åˆ†å‘" class="router-link-active router-link-exact-active toc-link level2">10. å¤šä¸ªæ¶ˆè´¹è€…ç›‘å¬ä¸€ä¸ªé˜Ÿåˆ—æ—¶ï¼Œæ¶ˆæ¯å¦‚ä½•åˆ†å‘</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_11-æ— æ³•è¢«è·¯ç”±çš„æ¶ˆæ¯å»äº†å“ªé‡Œ" class="router-link-active router-link-exact-active toc-link level2">11. æ— æ³•è¢«è·¯ç”±çš„æ¶ˆæ¯å»äº†å“ªé‡Œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_12-æ¶ˆæ¯åœ¨ä»€ä¹ˆæ—¶å€™ä¼šå˜æˆæ­»ä¿¡" class="router-link-active router-link-exact-active toc-link level2">12. æ¶ˆæ¯åœ¨ä»€ä¹ˆæ—¶å€™ä¼šå˜æˆæ­»ä¿¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_13-rabbitmqå¦‚ä½•å®ç°å»¶æ—¶é˜Ÿåˆ—" class="router-link-active router-link-exact-active toc-link level2">13. RabbitMQå¦‚ä½•å®ç°å»¶æ—¶é˜Ÿåˆ—</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_14-å¦‚ä½•ä¿è¯æ¶ˆæ¯å¹‚ç­‰æ€§" class="router-link-active router-link-exact-active toc-link level2">14. å¦‚ä½•ä¿è¯æ¶ˆæ¯å¹‚ç­‰æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_15-æ¶ˆæ¯å¦‚ä½•è¢«ä¼˜å…ˆæ¶ˆè´¹" class="router-link-active router-link-exact-active toc-link level2">15. æ¶ˆæ¯å¦‚ä½•è¢«ä¼˜å…ˆæ¶ˆè´¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_16-å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„é¡ºåºæ€§" class="router-link-active router-link-exact-active toc-link level2">16. å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„é¡ºåºæ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#_17-mq-çš„ç¼ºç‚¹" class="router-link-active router-link-exact-active toc-link level2">17. mq çš„ç¼ºç‚¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/deploy/mq-rabbitmq/rabbitmq-z-interview.html#å‚è€ƒæ–‡ç« " class="router-link-active router-link-exact-active toc-link level2">å‚è€ƒæ–‡ç« </a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="rabbitmqé¢è¯•-é¢è¯•æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#rabbitmqé¢è¯•-é¢è¯•æ€»ç»“" aria-hidden="true">#</a> RabbitMQé¢è¯• - é¢è¯•æ€»ç»“</h1><h2 id="_0-é¢è¯•é¢˜" tabindex="-1"><a class="header-anchor" href="#_0-é¢è¯•é¢˜" aria-hidden="true">#</a> 0. é¢è¯•é¢˜</h2><ul><li><p>ä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ</p></li><li><p>æ¶ˆæ¯é˜Ÿåˆ—æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹</p><p>Kafkaã€ActiveMQã€RabbitMQã€RocketMQ æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ</p></li><li><p>å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ä¼ è¾“ï¼Ÿæˆ–è€…è¯´ï¼Œå¦‚ä½•å¤„ç†æ¶ˆæ¯ä¸¢å¤±çš„é—®é¢˜ï¼Ÿ</p><p>RabbitMQ Kafka</p></li><li><p>å¦‚ä½•ä¿è¯æ¶ˆæ¯é˜Ÿåˆ—çš„é«˜å¯ç”¨ï¼Ÿ</p><ul><li><p>RabbitMQ çš„é«˜å¯ç”¨æ€§</p></li><li><p>Kafka çš„é«˜å¯ç”¨æ€§</p></li></ul></li><li><p>å¦‚ä½•é¿å…æ¶ˆæ¯é‡å¤æŠ•é€’æˆ–é‡å¤æ¶ˆè´¹ï¼Ÿ</p></li><li><p>æ¶ˆæ¯åŸºäºä»€ä¹ˆä¼ è¾“ï¼Ÿ</p></li><li><p>æ¶ˆæ¯æ€ä¹ˆè·¯ç”±ï¼Ÿ</p></li><li><p>å¤šä¸ªæ¶ˆè´¹è€…ç›‘å¬ä¸€ä¸ªé˜Ÿåˆ—æ—¶ï¼Œæ¶ˆæ¯å¦‚ä½•åˆ†å‘</p></li><li><p>æ— æ³•è¢«è·¯ç”±çš„æ¶ˆæ¯å»äº†å“ªé‡Œ</p></li><li><p>æ¶ˆæ¯åœ¨ä»€ä¹ˆæ—¶å€™ä¼šå˜æˆæ­»ä¿¡</p></li><li><p>RabbitMQå¦‚ä½•å®ç°å»¶æ—¶é˜Ÿåˆ—</p></li><li><p>å¦‚ä½•ä¿è¯æ¶ˆæ¯å¹‚ç­‰æ€§</p></li><li><p>æ¶ˆæ¯å¦‚ä½•è¢«ä¼˜å…ˆæ¶ˆè´¹</p></li><li><p>å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„é¡ºåºæ€§</p></li><li><p>mq çš„ç¼ºç‚¹</p></li></ul><h2 id="_1-ä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—" tabindex="-1"><a class="header-anchor" href="#_1-ä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—" aria-hidden="true">#</a> 1. ä¸ºä»€ä¹ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ</h2><blockquote><p>é¢è¯•å®˜å¿ƒç†åˆ†æ</p><p>å…¶å®é¢è¯•å®˜ä¸»è¦æ˜¯æƒ³çœ‹çœ‹ï¼š</p><p>ç¬¬ä¸€ï¼Œä½ çŸ¥ä¸çŸ¥é“ä½ ä»¬ç³»ç»Ÿé‡Œä¸ºä»€ä¹ˆè¦ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿™ä¸ªä¸œè¥¿ï¼Ÿ ä¸å°‘å€™é€‰äººï¼Œè¯´è‡ªå·±é¡¹ç›®é‡Œç”¨äº† Redisã€MQï¼Œä½†æ˜¯å…¶å®ä»–å¹¶ä¸çŸ¥é“è‡ªå·±ä¸ºä»€ä¹ˆè¦ç”¨è¿™ä¸ªä¸œè¥¿ã€‚å…¶å®è¯´ç™½äº†ï¼Œå°±æ˜¯ä¸ºäº†ç”¨è€Œç”¨ï¼Œæˆ–è€…æ˜¯åˆ«äººè®¾è®¡çš„æ¶æ„ï¼Œä»–ä»å¤´åˆ°å°¾éƒ½æ²¡æ€è€ƒè¿‡ã€‚ æ²¡æœ‰å¯¹è‡ªå·±çš„æ¶æ„é—®è¿‡ä¸ºä»€ä¹ˆçš„äººï¼Œä¸€å®šæ˜¯å¹³æ—¶æ²¡æœ‰æ€è€ƒçš„äººï¼Œé¢è¯•å®˜å¯¹è¿™ç±»å€™é€‰äººå°è±¡é€šå¸¸å¾ˆä¸å¥½ã€‚å› ä¸ºé¢è¯•å®˜æ‹…å¿ƒä½ è¿›äº†å›¢é˜Ÿä¹‹ååªä¼šæœ¨å¤´æœ¨è„‘çš„å¹²å‘†æ´»å„¿ï¼Œä¸ä¼šè‡ªå·±æ€è€ƒã€‚</p><p>ç¬¬äºŒï¼Œä½ æ—¢ç„¶ç”¨äº†æ¶ˆæ¯é˜Ÿåˆ—è¿™ä¸ªä¸œè¥¿ï¼Œä½ çŸ¥ä¸çŸ¥é“ç”¨äº†æœ‰ä»€ä¹ˆå¥½å¤„&amp;åå¤„ï¼Ÿ ä½ è¦æ˜¯æ²¡è€ƒè™‘è¿‡è¿™ä¸ªï¼Œé‚£ä½ ç›²ç›®å¼„ä¸ª MQ è¿›ç³»ç»Ÿé‡Œï¼Œåé¢å‡ºäº†é—®é¢˜ä½ æ˜¯ä¸æ˜¯å°±è‡ªå·±æºœäº†ç»™å…¬å¸ç•™å‘ï¼Ÿä½ è¦æ˜¯æ²¡è€ƒè™‘è¿‡å¼•å…¥ä¸€ä¸ªæŠ€æœ¯å¯èƒ½å­˜åœ¨çš„å¼Šç«¯å’Œé£é™©ï¼Œé¢è¯•å®˜æŠŠè¿™ç±»å€™é€‰äººæ‹›è¿›æ¥äº†ï¼ŒåŸºæœ¬å¯èƒ½å°±æ˜¯æŒ–å‘å‹é€‰æ‰‹ã€‚å°±æ€•ä½ å¹² 1 å¹´æŒ–ä¸€å †å‘ï¼Œè‡ªå·±è·³æ§½äº†ï¼Œç»™å…¬å¸ç•™ä¸‹æ— ç©·åæ‚£ã€‚</p><p>ç¬¬ä¸‰ï¼Œæ—¢ç„¶ä½ ç”¨äº† MQï¼Œå¯èƒ½æ˜¯æŸä¸€ç§ MQï¼Œé‚£ä¹ˆä½ å½“æ—¶åšæ²¡åšè¿‡è°ƒç ”ï¼Ÿ ä½ åˆ«å‚»ä¹ä¹çš„è‡ªå·±æ‹è„‘è¢‹çœ‹ä¸ªäººå–œå¥½å°±çç”¨äº†ä¸€ä¸ª MQï¼Œæ¯”å¦‚ Kafkaï¼Œç”šè‡³éƒ½ä»æ²¡è°ƒç ”è¿‡ä¸šç•Œæµè¡Œçš„ MQ åˆ°åº•æœ‰å“ªå‡ ç§ã€‚æ¯ä¸€ä¸ª MQ çš„ä¼˜ç‚¹å’Œç¼ºç‚¹æ˜¯ä»€ä¹ˆã€‚æ¯ä¸€ä¸ª MQ æ²¡æœ‰ç»å¯¹çš„å¥½åï¼Œä½†æ˜¯å°±æ˜¯çœ‹ç”¨åœ¨å“ªä¸ªåœºæ™¯å¯ä»¥æ‰¬é•¿é¿çŸ­ï¼Œåˆ©ç”¨å…¶ä¼˜åŠ¿ï¼Œè§„é¿å…¶åŠ£åŠ¿ã€‚ å¦‚æœæ˜¯ä¸€ä¸ªä¸è€ƒè™‘æŠ€æœ¯é€‰å‹çš„å€™é€‰äººæ‹›è¿›äº†å›¢é˜Ÿï¼Œleader äº¤ç»™ä»–ä¸€ä¸ªä»»åŠ¡ï¼Œå»è®¾è®¡ä¸ªä»€ä¹ˆç³»ç»Ÿï¼Œä»–åœ¨é‡Œé¢ç”¨ä¸€äº›æŠ€æœ¯ï¼Œå¯èƒ½éƒ½æ²¡è€ƒè™‘è¿‡é€‰å‹ï¼Œæœ€åé€‰çš„æŠ€æœ¯å¯èƒ½å¹¶ä¸ä¸€å®šåˆé€‚ï¼Œä¸€æ ·æ˜¯ç•™å‘ã€‚</p></blockquote><blockquote><p>é¢è¯•é¢˜å‰–æ</p><p>å…¶å®å°±æ˜¯é—®é—®ä½ æ¶ˆæ¯é˜Ÿåˆ—éƒ½æœ‰å“ªäº›ä½¿ç”¨åœºæ™¯ï¼Œç„¶åä½ é¡¹ç›®é‡Œå…·ä½“æ˜¯ä»€ä¹ˆåœºæ™¯ï¼Œè¯´è¯´ä½ åœ¨è¿™ä¸ªåœºæ™¯é‡Œç”¨æ¶ˆæ¯é˜Ÿåˆ—æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>é¢è¯•å®˜é—®ä½ è¿™ä¸ªé—®é¢˜ï¼ŒæœŸæœ›çš„ä¸€ä¸ªå›ç­”æ˜¯è¯´ï¼Œä½ ä»¬å…¬å¸æœ‰ä¸ªä»€ä¹ˆä¸šåŠ¡åœºæ™¯ï¼Œè¿™ä¸ªä¸šåŠ¡åœºæ™¯æœ‰ä¸ªä»€ä¹ˆæŠ€æœ¯æŒ‘æˆ˜ï¼Œå¦‚æœä¸ç”¨ MQ å¯èƒ½ä¼šå¾ˆéº»çƒ¦ï¼Œä½†æ˜¯ä½ ç°åœ¨ç”¨äº† MQ ä¹‹åå¸¦ç»™äº†ä½ å¾ˆå¤šçš„å¥½å¤„ã€‚</p><p>å…ˆè¯´ä¸€ä¸‹æ¶ˆæ¯é˜Ÿåˆ—å¸¸è§çš„ä½¿ç”¨åœºæ™¯å§ï¼Œå…¶å®åœºæ™¯æœ‰å¾ˆå¤šï¼Œä½†æ˜¯æ¯”è¾ƒæ ¸å¿ƒçš„æœ‰ 3 ä¸ªï¼šè§£è€¦ã€å¼‚æ­¥ã€å‰Šå³°ã€‚</p></blockquote><p>ä¸ºäº†ï¼šè§£è€¦ã€å¼‚æ­¥ã€å‰Šå³°</p><h3 id="_1-1-è§£è€¦" tabindex="-1"><a class="header-anchor" href="#_1-1-è§£è€¦" aria-hidden="true">#</a> 1.1 è§£è€¦</h3><h4 id="_1-1-1-ä½¿ç”¨mq-ä¹‹å‰" tabindex="-1"><a class="header-anchor" href="#_1-1-1-ä½¿ç”¨mq-ä¹‹å‰" aria-hidden="true">#</a> 1.1.1 ä½¿ç”¨MQ ä¹‹å‰</h4><p>çœ‹è¿™ä¹ˆä¸ªåœºæ™¯ã€‚A ç³»ç»Ÿå‘é€æ•°æ®åˆ° BCD ä¸‰ä¸ªç³»ç»Ÿï¼Œé€šè¿‡æ¥å£è°ƒç”¨å‘é€ã€‚å¦‚æœ E ç³»ç»Ÿä¹Ÿè¦è¿™ä¸ªæ•°æ®å‘¢ï¼Ÿé‚£å¦‚æœ C ç³»ç»Ÿç°åœ¨ä¸éœ€è¦äº†å‘¢ï¼ŸA ç³»ç»Ÿè´Ÿè´£äººå‡ ä¹å´©æºƒ......</p><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220925204621997.png" alt="image-20220925204621997" tabindex="0" loading="lazy"><figcaption>image-20220925204621997</figcaption></figure><p>åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼ŒA ç³»ç»Ÿè·Ÿå…¶å®ƒå„ç§ä¹±ä¸ƒå…«ç³Ÿçš„ç³»ç»Ÿä¸¥é‡è€¦åˆï¼ŒA ç³»ç»Ÿäº§ç”Ÿä¸€æ¡æ¯”è¾ƒå…³é”®çš„æ•°æ®ï¼Œå¾ˆå¤šç³»ç»Ÿéƒ½éœ€è¦ A ç³»ç»Ÿå°†è¿™ä¸ªæ•°æ®å‘é€è¿‡æ¥ã€‚A ç³»ç»Ÿè¦æ—¶æ—¶åˆ»åˆ»è€ƒè™‘ BCDE å››ä¸ªç³»ç»Ÿå¦‚æœæŒ‚äº†è¯¥å’‹åŠï¼Ÿè¦ä¸è¦é‡å‘ï¼Œè¦ä¸è¦æŠŠæ¶ˆæ¯å­˜èµ·æ¥ï¼Ÿå¤´å‘éƒ½ç™½äº†å•Šï¼</p><h4 id="_1-1-2-ä½¿ç”¨mq-ä¹‹å" tabindex="-1"><a class="header-anchor" href="#_1-1-2-ä½¿ç”¨mq-ä¹‹å" aria-hidden="true">#</a> 1.1.2 ä½¿ç”¨MQ ä¹‹å</h4><p>å¦‚æœä½¿ç”¨ MQï¼ŒA ç³»ç»Ÿäº§ç”Ÿä¸€æ¡æ•°æ®ï¼Œå‘é€åˆ° MQ é‡Œé¢å»ï¼Œå“ªä¸ªç³»ç»Ÿéœ€è¦æ•°æ®è‡ªå·±å» MQ é‡Œé¢æ¶ˆè´¹ã€‚å¦‚æœæ–°ç³»ç»Ÿéœ€è¦æ•°æ®ï¼Œç›´æ¥ä» MQ é‡Œæ¶ˆè´¹å³å¯ï¼›å¦‚æœæŸä¸ªç³»ç»Ÿä¸éœ€è¦è¿™æ¡æ•°æ®äº†ï¼Œå°±å–æ¶ˆå¯¹ MQ æ¶ˆæ¯çš„æ¶ˆè´¹å³å¯ã€‚è¿™æ ·ä¸‹æ¥ï¼ŒA ç³»ç»Ÿå‹æ ¹å„¿ä¸éœ€è¦å»è€ƒè™‘è¦ç»™è°å‘é€æ•°æ®ï¼Œä¸éœ€è¦ç»´æŠ¤è¿™ä¸ªä»£ç ï¼Œä¹Ÿä¸éœ€è¦è€ƒè™‘äººå®¶æ˜¯å¦è°ƒç”¨æˆåŠŸã€å¤±è´¥è¶…æ—¶ç­‰æƒ…å†µã€‚</p><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220925204827353.png" alt="image-20220925204827353" tabindex="0" loading="lazy"><figcaption>image-20220925204827353</figcaption></figure><h4 id="_1-1-3-æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_1-1-3-æ€»ç»“" aria-hidden="true">#</a> 1.1.3 æ€»ç»“ï¼š</h4><p>é€šè¿‡ä¸€ä¸ª MQï¼ŒPub/Sub å‘å¸ƒè®¢é˜…æ¶ˆæ¯è¿™ä¹ˆä¸€ä¸ªæ¨¡å‹ï¼ŒA ç³»ç»Ÿå°±è·Ÿå…¶å®ƒç³»ç»Ÿå½»åº•è§£è€¦äº†ã€‚</p><h4 id="_1-1-4-é¢è¯•æŠ€å·§" tabindex="-1"><a class="header-anchor" href="#_1-1-4-é¢è¯•æŠ€å·§" aria-hidden="true">#</a> 1.1.4 é¢è¯•æŠ€å·§ï¼š</h4><p>ä½ éœ€è¦å»è€ƒè™‘ä¸€ä¸‹ä½ è´Ÿè´£çš„ç³»ç»Ÿä¸­æ˜¯å¦æœ‰ç±»ä¼¼çš„åœºæ™¯ï¼Œå°±æ˜¯ä¸€ä¸ªç³»ç»Ÿæˆ–è€…ä¸€ä¸ªæ¨¡å—ï¼Œè°ƒç”¨äº†å¤šä¸ªç³»ç»Ÿæˆ–è€…æ¨¡å—ï¼Œäº’ç›¸ä¹‹é—´çš„è°ƒç”¨å¾ˆå¤æ‚ï¼Œç»´æŠ¤èµ·æ¥å¾ˆéº»çƒ¦ã€‚ä½†æ˜¯å…¶å®è¿™ä¸ªè°ƒç”¨æ˜¯ä¸éœ€è¦ç›´æ¥åŒæ­¥è°ƒç”¨æ¥å£çš„ï¼Œå¦‚æœç”¨ MQ ç»™å®ƒå¼‚æ­¥åŒ–è§£è€¦ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½ å°±éœ€è¦å»è€ƒè™‘åœ¨ä½ çš„é¡¹ç›®é‡Œï¼Œæ˜¯ä¸æ˜¯å¯ä»¥è¿ç”¨è¿™ä¸ª MQ å»è¿›è¡Œç³»ç»Ÿçš„è§£è€¦ã€‚åœ¨ç®€å†ä¸­ä½“ç°å‡ºæ¥è¿™å—ä¸œè¥¿ï¼Œç”¨ MQ ä½œè§£è€¦ã€‚</p><h3 id="_1-2-å¼‚æ­¥" tabindex="-1"><a class="header-anchor" href="#_1-2-å¼‚æ­¥" aria-hidden="true">#</a> 1.2 å¼‚æ­¥</h3><h4 id="_1-2-1-ä½¿ç”¨mq-ä¹‹å‰" tabindex="-1"><a class="header-anchor" href="#_1-2-1-ä½¿ç”¨mq-ä¹‹å‰" aria-hidden="true">#</a> 1.2.1 ä½¿ç”¨MQ ä¹‹å‰</h4><p>å†æ¥çœ‹ä¸€ä¸ªåœºæ™¯ï¼ŒA ç³»ç»Ÿæ¥æ”¶ä¸€ä¸ªè¯·æ±‚ï¼Œéœ€è¦åœ¨è‡ªå·±æœ¬åœ°å†™åº“ï¼Œè¿˜éœ€è¦åœ¨ BCD ä¸‰ä¸ªç³»ç»Ÿå†™åº“ï¼Œè‡ªå·±æœ¬åœ°å†™åº“è¦ 3msï¼ŒBCD ä¸‰ä¸ªç³»ç»Ÿåˆ†åˆ«å†™åº“è¦ 300msã€450msã€200msã€‚æœ€ç»ˆè¯·æ±‚æ€»å»¶æ—¶æ˜¯ 3 + 300 + 450 + 200 = 953msï¼Œæ¥è¿‘ 1sï¼Œç”¨æˆ·æ„Ÿè§‰æä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œæ…¢æ­»äº†æ…¢æ­»äº†ã€‚ç”¨æˆ·é€šè¿‡æµè§ˆå™¨å‘èµ·è¯·æ±‚ï¼Œç­‰å¾…ä¸ª 1sï¼Œè¿™å‡ ä¹æ˜¯ä¸å¯æ¥å—çš„ã€‚</p><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220925205330911.png" alt="image-20220925205330911" tabindex="0" loading="lazy"><figcaption>image-20220925205330911</figcaption></figure><p>ä¸€èˆ¬äº’è”ç½‘ç±»çš„ä¼ä¸šï¼Œå¯¹äºç”¨æˆ·ç›´æ¥çš„æ“ä½œï¼Œä¸€èˆ¬è¦æ±‚æ˜¯æ¯ä¸ªè¯·æ±‚éƒ½å¿…é¡»åœ¨ 200 ms ä»¥å†…å®Œæˆï¼Œå¯¹ç”¨æˆ·å‡ ä¹æ˜¯æ— æ„ŸçŸ¥çš„ã€‚</p><h4 id="_1-2-3-ä½¿ç”¨mq-ä¹‹å" tabindex="-1"><a class="header-anchor" href="#_1-2-3-ä½¿ç”¨mq-ä¹‹å" aria-hidden="true">#</a> 1.2.3 ä½¿ç”¨MQ ä¹‹å</h4><p>å¦‚æœä½¿ç”¨ MQï¼Œé‚£ä¹ˆ A ç³»ç»Ÿè¿ç»­å‘é€ 3 æ¡æ¶ˆæ¯åˆ° MQ é˜Ÿåˆ—ä¸­ï¼Œå‡å¦‚è€—æ—¶ 5msï¼ŒA ç³»ç»Ÿä»æ¥å—ä¸€ä¸ªè¯·æ±‚åˆ°è¿”å›å“åº”ç»™ç”¨æˆ·ï¼Œæ€»æ—¶é•¿æ˜¯ 3 + 5 = 8msï¼Œå¯¹äºç”¨æˆ·è€Œè¨€ï¼Œå…¶å®æ„Ÿè§‰ä¸Šå°±æ˜¯ç‚¹ä¸ªæŒ‰é’®ï¼Œ8ms ä»¥åå°±ç›´æ¥è¿”å›äº†ï¼Œçˆ½ï¼ç½‘ç«™åšå¾—çœŸå¥½ï¼ŒçœŸå¿«ï¼</p><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220925205429880.png" alt="image-20220925205429880" tabindex="0" loading="lazy"><figcaption>image-20220925205429880</figcaption></figure><h3 id="_1-3-å‰Šå³°" tabindex="-1"><a class="header-anchor" href="#_1-3-å‰Šå³°" aria-hidden="true">#</a> 1.3 å‰Šå³°</h3><h4 id="_1-3-1-ä½¿ç”¨mq-ä¹‹å‰" tabindex="-1"><a class="header-anchor" href="#_1-3-1-ä½¿ç”¨mq-ä¹‹å‰" aria-hidden="true">#</a> 1.3.1 ä½¿ç”¨MQ ä¹‹å‰</h4><p>æ¯å¤© 0:00 åˆ° 12:00ï¼ŒA ç³»ç»Ÿé£å¹³æµªé™ï¼Œæ¯ç§’å¹¶å‘è¯·æ±‚æ•°é‡å°± 50 ä¸ªã€‚ç»“æœæ¯æ¬¡ä¸€åˆ° 12:00 ~ 13:00 ï¼Œæ¯ç§’å¹¶å‘è¯·æ±‚æ•°é‡çªç„¶ä¼šæš´å¢åˆ° 5k+ æ¡ã€‚ä½†æ˜¯ç³»ç»Ÿæ˜¯ç›´æ¥åŸºäº MySQL çš„ï¼Œå¤§é‡çš„è¯·æ±‚æ¶Œå…¥ MySQLï¼Œæ¯ç§’é’Ÿå¯¹ MySQL æ‰§è¡Œçº¦ 5k æ¡ SQLã€‚</p><p>ä¸€èˆ¬çš„ MySQLï¼Œæ‰›åˆ°æ¯ç§’ 2k ä¸ªè¯·æ±‚å°±å·®ä¸å¤šäº†ï¼Œå¦‚æœæ¯ç§’è¯·æ±‚åˆ° 5k çš„è¯ï¼Œå¯èƒ½å°±ç›´æ¥æŠŠ MySQL ç»™æ‰“æ­»äº†ï¼Œå¯¼è‡´ç³»ç»Ÿå´©æºƒï¼Œç”¨æˆ·ä¹Ÿå°±æ²¡æ³•å†ä½¿ç”¨ç³»ç»Ÿäº†ã€‚</p><p>ä½†æ˜¯é«˜å³°æœŸä¸€è¿‡ï¼Œåˆ°äº†ä¸‹åˆçš„æ—¶å€™ï¼Œå°±æˆäº†ä½å³°æœŸï¼Œå¯èƒ½ä¹Ÿå°± 1w çš„ç”¨æˆ·åŒæ—¶åœ¨ç½‘ç«™ä¸Šæ“ä½œï¼Œæ¯ç§’ä¸­çš„è¯·æ±‚æ•°é‡å¯èƒ½ä¹Ÿå°± 50 ä¸ªè¯·æ±‚ï¼Œå¯¹æ•´ä¸ªç³»ç»Ÿå‡ ä¹æ²¡æœ‰ä»»ä½•çš„å‹åŠ›ã€‚</p><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220925205521714.png" alt="image-20220925205521714" tabindex="0" loading="lazy"><figcaption>image-20220925205521714</figcaption></figure><h4 id="_1-3-2-ä½¿ç”¨mq-ä¹‹å" tabindex="-1"><a class="header-anchor" href="#_1-3-2-ä½¿ç”¨mq-ä¹‹å" aria-hidden="true">#</a> 1.3.2 ä½¿ç”¨MQ ä¹‹å</h4><p>å¦‚æœä½¿ç”¨ MQï¼Œæ¯ç§’ 5k ä¸ªè¯·æ±‚å†™å…¥ MQï¼ŒA ç³»ç»Ÿæ¯ç§’é’Ÿæœ€å¤šå¤„ç† 2k ä¸ªè¯·æ±‚ï¼Œå› ä¸º MySQL æ¯ç§’é’Ÿæœ€å¤šå¤„ç† 2k ä¸ªã€‚A ç³»ç»Ÿä» MQ ä¸­æ…¢æ…¢æ‹‰å–è¯·æ±‚ï¼Œæ¯ç§’é’Ÿå°±æ‹‰å– 2k ä¸ªè¯·æ±‚ï¼Œä¸è¦è¶…è¿‡è‡ªå·±æ¯ç§’èƒ½å¤„ç†çš„æœ€å¤§è¯·æ±‚æ•°é‡å°± okï¼Œè¿™æ ·ä¸‹æ¥ï¼Œå“ªæ€•æ˜¯é«˜å³°æœŸçš„æ—¶å€™ï¼ŒA ç³»ç»Ÿä¹Ÿç»å¯¹ä¸ä¼šæŒ‚æ‰ã€‚è€Œ MQ æ¯ç§’é’Ÿ 5k ä¸ªè¯·æ±‚è¿›æ¥ï¼Œå°± 2k ä¸ªè¯·æ±‚å‡ºå»ï¼Œç»“æœå°±å¯¼è‡´åœ¨ä¸­åˆé«˜å³°æœŸï¼ˆ1 ä¸ªå°æ—¶ï¼‰ï¼Œå¯èƒ½æœ‰å‡ åä¸‡ç”šè‡³å‡ ç™¾ä¸‡çš„è¯·æ±‚ç§¯å‹åœ¨ MQ ä¸­ã€‚</p><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220925205656228.png" alt="image-20220925205656228" tabindex="0" loading="lazy"><figcaption>image-20220925205656228</figcaption></figure><p>è¿™ä¸ªçŸ­æš‚çš„é«˜å³°æœŸç§¯å‹æ˜¯ ok çš„ï¼Œå› ä¸ºé«˜å³°æœŸè¿‡äº†ä¹‹åï¼Œæ¯ç§’é’Ÿå°± 50 ä¸ªè¯·æ±‚è¿› MQï¼Œä½†æ˜¯ A ç³»ç»Ÿä¾ç„¶ä¼šæŒ‰ç…§æ¯ç§’ 2k ä¸ªè¯·æ±‚çš„é€Ÿåº¦åœ¨å¤„ç†ã€‚æ‰€ä»¥è¯´ï¼Œåªè¦é«˜å³°æœŸä¸€è¿‡ï¼ŒA ç³»ç»Ÿå°±ä¼šå¿«é€Ÿå°†ç§¯å‹çš„æ¶ˆæ¯ç»™è§£å†³æ‰ã€‚</p><h2 id="_2-æ¶ˆæ¯é˜Ÿåˆ—æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹" tabindex="-1"><a class="header-anchor" href="#_2-æ¶ˆæ¯é˜Ÿåˆ—æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹" aria-hidden="true">#</a> 2. æ¶ˆæ¯é˜Ÿåˆ—æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹</h2><p>ä¼˜ç‚¹ä¸Šé¢å·²ç»è¯´äº†ï¼Œå°±æ˜¯åœ¨ç‰¹æ®Šåœºæ™¯ä¸‹æœ‰å…¶å¯¹åº”çš„å¥½å¤„ï¼Œè§£è€¦ã€å¼‚æ­¥ã€å‰Šå³°ã€‚</p><p>ç¼ºç‚¹æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š</p><h3 id="_2-1-ç³»ç»Ÿå¯ç”¨æ€§é™ä½" tabindex="-1"><a class="header-anchor" href="#_2-1-ç³»ç»Ÿå¯ç”¨æ€§é™ä½" aria-hidden="true">#</a> 2.1 ç³»ç»Ÿå¯ç”¨æ€§é™ä½</h3><p>ç³»ç»Ÿå¼•å…¥çš„å¤–éƒ¨ä¾èµ–è¶Šå¤šï¼Œè¶Šå®¹æ˜“æŒ‚æ‰ã€‚æœ¬æ¥ä½ å°±æ˜¯ A ç³»ç»Ÿè°ƒç”¨ BCD ä¸‰ä¸ªç³»ç»Ÿçš„æ¥å£å°±å¥½äº†ï¼ŒABCD å››ä¸ªç³»ç»Ÿè¿˜å¥½å¥½çš„ï¼Œæ²¡å•¥é—®é¢˜ï¼Œä½ ååŠ ä¸ª MQ è¿›æ¥ï¼Œä¸‡ä¸€ MQ æŒ‚äº†å’‹æ•´ï¼ŸMQ ä¸€æŒ‚ï¼Œæ•´å¥—ç³»ç»Ÿå´©æºƒï¼Œä½ ä¸å°±å®Œäº†ï¼Ÿ</p><h3 id="_2-2-ç³»ç»Ÿå¤æ‚åº¦æé«˜" tabindex="-1"><a class="header-anchor" href="#_2-2-ç³»ç»Ÿå¤æ‚åº¦æé«˜" aria-hidden="true">#</a> 2.2 ç³»ç»Ÿå¤æ‚åº¦æé«˜</h3><p>ç¡¬ç”Ÿç”ŸåŠ ä¸ª MQ è¿›æ¥ï¼Œä½ æ€ä¹ˆä¿è¯æ¶ˆæ¯æ²¡æœ‰é‡å¤æ¶ˆè´¹ï¼Ÿæ€ä¹ˆå¤„ç†æ¶ˆæ¯ä¸¢å¤±çš„æƒ…å†µï¼Ÿæ€ä¹ˆä¿è¯æ¶ˆæ¯ä¼ é€’çš„é¡ºåºæ€§ï¼Ÿå¤´å¤§å¤´å¤§ï¼Œé—®é¢˜ä¸€å¤§å †ï¼Œç—›è‹¦ä¸å·²ã€‚</p><h3 id="_2-3-ä¸€è‡´æ€§é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_2-3-ä¸€è‡´æ€§é—®é¢˜" aria-hidden="true">#</a> 2.3 ä¸€è‡´æ€§é—®é¢˜</h3><p>A ç³»ç»Ÿå¤„ç†å®Œäº†ç›´æ¥è¿”å›æˆåŠŸäº†ï¼Œäººéƒ½ä»¥ä¸ºä½ è¿™ä¸ªè¯·æ±‚å°±æˆåŠŸäº†ï¼›ä½†æ˜¯é—®é¢˜æ˜¯ï¼Œè¦æ˜¯ BCD ä¸‰ä¸ªç³»ç»Ÿé‚£é‡Œï¼ŒBD ä¸¤ä¸ªç³»ç»Ÿå†™åº“æˆåŠŸäº†ï¼Œç»“æœ C ç³»ç»Ÿå†™åº“å¤±è´¥äº†ï¼Œå’‹æ•´ï¼Ÿä½ è¿™æ•°æ®å°±ä¸ä¸€è‡´äº†ã€‚</p><blockquote><p>æ‰€ä»¥æ¶ˆæ¯é˜Ÿåˆ—å®é™…æ˜¯ä¸€ç§éå¸¸å¤æ‚çš„æ¶æ„ï¼Œä½ å¼•å…¥å®ƒæœ‰å¾ˆå¤šå¥½å¤„ï¼Œä½†æ˜¯ä¹Ÿå¾—é’ˆå¯¹å®ƒå¸¦æ¥çš„åå¤„åšå„ç§é¢å¤–çš„æŠ€æœ¯æ–¹æ¡ˆå’Œæ¶æ„æ¥è§„é¿æ‰ï¼Œåšå¥½ä¹‹åï¼Œä½ ä¼šå‘ç°ï¼Œå¦ˆå‘€ï¼Œç³»ç»Ÿå¤æ‚åº¦æå‡äº†ä¸€ä¸ªæ•°é‡çº§ï¼Œä¹Ÿè®¸æ˜¯å¤æ‚äº† 10 å€ã€‚ä½†æ˜¯å…³é”®æ—¶åˆ»ï¼Œç”¨ï¼Œè¿˜æ˜¯å¾—ç”¨çš„ã€‚</p></blockquote><h2 id="_3-kafkaã€activemqã€rabbitmqã€rocketmq-æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹" tabindex="-1"><a class="header-anchor" href="#_3-kafkaã€activemqã€rabbitmqã€rocketmq-æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹" aria-hidden="true">#</a> 3. Kafkaã€ActiveMQã€RabbitMQã€RocketMQ æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ</h2><table><thead><tr><th>ç‰¹æ€§</th><th>ActiveMQ</th><th>RabbitMQ</th><th>RocketMQ</th><th>Kafka</th></tr></thead><tbody><tr><td>å®¢æˆ·ç«¯æ”¯æŒè¯­è¨€</td><td>JAVAã€Cã€C++ã€Pythonã€PHPã€Pertã€netç­‰</td><td>å®˜æ–¹æ”¯æŒErlangã€Java/Rubyç­‰ï¼Œç¤¾åŒºäº§å‡ºå¤šç§è¯­è¨€APIï¼Œå‡ ä¹æ”¯æŒæ‰€æœ‰å¸¸ç”¨è¯­è¨€</td><td>JAVAã€C++ï¼ˆä¸æˆç†Ÿï¼‰</td><td>å®˜æ–¹æ”¯æŒJAVA,å¼€æºç¤¾åŒºæœ‰å¤šè¯­è¨€ç‰ˆæœ¬ï¼Œå¦‚PHP,Python,GO,C/C++ï¼ŒRubyï¼ŒNodeJSç­‰ç¼–ç¨‹è¯­è¨€</td></tr><tr><td>å•æœºååé‡</td><td>ä¸‡çº§ï¼Œååé‡RocketMQå’ŒKafkaè¦ä½äº†ä¸€ä¸ªæ•°é‡çº§</td><td>ä¸‡çº§ï¼Œååé‡æ¯”RocketMQå’ŒKafkaè¦ä½äº†ä¸€ä¸ªæ•°é‡çº§</td><td>10ä¸‡çº§ï¼ŒRocketMQä¹Ÿæ˜¯å¯ä»¥æ”¯æ’‘é«˜ååçš„ä¸€ç§MQ</td><td>10ä¸‡çº§åˆ«ï¼Œè¿™æ˜¯kafkaæœ€å¤§çš„ä¼˜ç‚¹ï¼Œå°±æ˜¯ååé‡é«˜ã€‚ ä¸€èˆ¬é…åˆå¤§æ•°æ®ç±»çš„ç³»ç»Ÿæ¥è¿›è¡Œå®æ—¶æ•°æ®è®¡ç®—ã€æ—¥å¿—é‡‡é›†ç­‰åœºæ™¯</td></tr><tr><td>topicæ•°é‡å¯¹ååé‡çš„å½±å“</td><td></td><td></td><td>topicå¯ä»¥è¾¾åˆ°å‡ ç™¾ï¼Œå‡ åƒä¸ªçš„çº§åˆ«ï¼Œååé‡ä¼šæœ‰è¾ƒå°å¹…åº¦çš„ä¸‹é™ è¿™æ˜¯RocketMQçš„ä¸€å¤§ä¼˜åŠ¿ï¼Œåœ¨åŒç­‰æœºå™¨ä¸‹ï¼Œå¯ä»¥æ”¯æ’‘å¤§é‡çš„topic</td><td>topicä»å‡ åä¸ªåˆ°å‡ ç™¾ä¸ªçš„æ—¶å€™ï¼Œååé‡ä¼šå¤§å¹…åº¦ä¸‹é™ æ‰€ä»¥åœ¨åŒç­‰æœºå™¨ä¸‹ï¼Œkafkaå°½é‡ä¿è¯topicæ•°é‡ä¸è¦è¿‡å¤šã€‚å¦‚æœè¦æ”¯æ’‘å¤§è§„æ¨¡topicï¼Œéœ€è¦å¢åŠ æ›´å¤šçš„æœºå™¨èµ„æº</td></tr><tr><td>æ—¶æ•ˆæ€§</td><td>msçº§</td><td>å¾®ç§’çº§ï¼Œè¿™æ˜¯rabbitmqçš„ä¸€å¤§ç‰¹ç‚¹ï¼Œå»¶è¿Ÿæ˜¯æœ€ä½çš„</td><td>msçº§</td><td>å»¶è¿Ÿåœ¨msçº§ä»¥å†…</td></tr><tr><td>å¯ç”¨æ€§</td><td>é«˜ï¼ŒåŸºäºä¸»ä»æ¶æ„å®ç°é«˜å¯ç”¨æ€§</td><td>é«˜ï¼ŒåŸºäºä¸»ä»æ¶æ„å®ç°é«˜å¯ç”¨æ€§</td><td>éå¸¸é«˜ï¼Œåˆ†å¸ƒå¼æ¶æ„</td><td>éå¸¸é«˜ï¼Œkafkaæ˜¯åˆ†å¸ƒå¼çš„ï¼Œä¸€ä¸ªæ•°æ®å¤šä¸ªå‰¯æœ¬ï¼Œå°‘æ•°æœºå™¨å®•æœºï¼Œä¸ä¼šä¸¢å¤±æ•°æ®ï¼Œä¸ä¼šå¯¼è‡´ä¸å¯ç”¨</td></tr><tr><td>æ¶ˆæ¯å¯é æ€§</td><td>æœ‰è¾ƒä½çš„æ¦‚ç‡ä¸¢å¤±æ•°æ®</td><td>åŸºæœ¬ä¸ä¸¢</td><td>ç»è¿‡å‚æ•°ä¼˜åŒ–é…ç½®ï¼Œå¯ä»¥åšåˆ°0ä¸¢å¤±</td><td>ç»è¿‡å‚æ•°ä¼˜åŒ–é…ç½®ï¼Œæ¶ˆæ¯å¯ä»¥åšåˆ°0ä¸¢å¤±</td></tr><tr><td>æŒä¹…åŒ–</td><td>å†…å­˜ã€æ–‡ä»¶ã€æ•°æ®åº“</td><td>å†…å­˜ã€æ–‡ä»¶ï¼Œæ”¯æŒæ•°æ®å †ç§¯ï¼Œä½†æ•°æ®å †ç§¯ä¼šå½±å“ç”Ÿäº§é€Ÿç‡</td><td>ç£ç›˜æ–‡ä»¶</td><td>ç£ç›˜æ–‡ä»¶ï¼Œåªè¦ç£ç›˜å®¹é‡è¶³å¤Ÿï¼Œå¯ä»¥åšåˆ°æ— é™æ¶ˆæ¯å †ç§¯</td></tr><tr><td>åŠŸèƒ½æ”¯æŒ</td><td>MQé¢†åŸŸçš„åŠŸèƒ½æå…¶å®Œå¤‡</td><td>åŸºäºerlangå¼€å‘ï¼Œæ‰€ä»¥å¹¶å‘èƒ½åŠ›å¾ˆå¼ºï¼Œæ€§èƒ½æå…¶å¥½ï¼Œå»¶æ—¶å¾ˆä½</td><td>MQåŠŸèƒ½è¾ƒä¸ºå®Œå–„ï¼Œè¿˜æ˜¯åˆ†å¸ƒå¼çš„ï¼Œæ‰©å±•æ€§å¥½</td><td>åŠŸèƒ½è¾ƒä¸ºç®€å•ï¼Œä¸»è¦æ”¯æŒç®€å•çš„MQåŠŸèƒ½ï¼Œåœ¨å¤§æ•°æ®é¢†åŸŸçš„å®æ—¶è®¡ç®—ä»¥åŠæ—¥å¿—é‡‡é›†è¢«å¤§è§„æ¨¡ä½¿ç”¨ï¼Œæ˜¯äº‹å®ä¸Šçš„æ ‡å‡†</td></tr></tbody></table><h3 id="_3-1-ä¸šåŠ¡é€‰å‹" tabindex="-1"><a class="header-anchor" href="#_3-1-ä¸šåŠ¡é€‰å‹" aria-hidden="true">#</a> 3.1 ä¸šåŠ¡é€‰å‹</h3><ol><li>ä¸€èˆ¬çš„ä¸šåŠ¡ç³»ç»Ÿè¦å¼•å…¥MQï¼Œæœ€æ—©å¤§å®¶éƒ½ç”¨ActiveMQï¼Œä½†æ˜¯ç°åœ¨ç¡®å®å¤§å®¶ç”¨çš„ä¸å¤šäº†ï¼Œæ²¡ç»è¿‡å¤§è§„æ¨¡ååé‡åœºæ™¯çš„éªŒè¯ï¼Œç¤¾åŒºä¹Ÿä¸æ˜¯å¾ˆæ´»è·ƒ</li><li>å¦‚æœæ˜¯<strong>ä¸­å°å‹å…¬å¸</strong>ï¼ŒåŸºç¡€æ¶æ„ç ”å‘èƒ½åŠ›è¾ƒå¼±ï¼Œ<strong>é‡‡ç”¨RabbitMQ</strong>æ˜¯ä¸é”™çš„é€‰æ‹©ï¼Œè™½ç„¶erlangè¯­è¨€é˜»æ­¢äº†å¤§é‡çš„javaå·¥ç¨‹å¸ˆå»æ·±å…¥ç ”ç©¶å’ŒæŒæ§ä»–ï¼Œä½†æ˜¯ç¤¾åŒºååˆ†æ´»è·ƒ</li><li>å¦‚æœç³»ç»Ÿæœ‰è¾ƒå¤§ååé‡éœ€æ±‚ï¼ŒåŒæ—¶å¯èƒ½ä¼šæœ‰å¤§é‡çš„topicï¼ŒåŸºç¡€æ¶æ„<strong>ç ”å‘å®åŠ›è¾ƒå¼ºçš„å¤§å…¬å¸</strong>ï¼Œå®Œå…¨å¯ä»¥é‡‡ç”¨RocketMQï¼Œå³ä½¿ç¤¾åŒºä¸å†æ›´æ–°ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å»ç»´æŠ¤</li><li>å¦‚æœæ˜¯<strong>å¤§æ•°æ®é¢†åŸŸçš„å®æ—¶è®¡ç®—ã€æ—¥å¿—é‡‡é›†ç­‰åœºæ™¯</strong>ï¼Œç”¨Kafkaæ˜¯ä¸šå†…æ ‡å‡†çš„ï¼Œç»å¯¹æ²¡é—®é¢˜ï¼Œç¤¾åŒºæ´»è·ƒåº¦å¾ˆé«˜ï¼Œç»å¯¹ä¸ä¼šé»„ï¼Œä½•å†µå‡ ä¹æ˜¯å…¨ä¸–ç•Œè¿™ä¸ªé¢†åŸŸçš„äº‹å®æ€§è§„èŒƒ</li></ol><h2 id="_4-å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ä¼ è¾“-æˆ–è€…è¯´-å¦‚ä½•å¤„ç†æ¶ˆæ¯ä¸¢å¤±çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_4-å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ä¼ è¾“-æˆ–è€…è¯´-å¦‚ä½•å¤„ç†æ¶ˆæ¯ä¸¢å¤±çš„é—®é¢˜" aria-hidden="true">#</a> 4. å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ä¼ è¾“ï¼Ÿæˆ–è€…è¯´ï¼Œå¦‚ä½•å¤„ç†æ¶ˆæ¯ä¸¢å¤±çš„é—®é¢˜ï¼Ÿ</h2><blockquote><p>é¢è¯•å®˜å¿ƒç†åˆ†æ</p><p>è¿™ä¸ªæ˜¯è‚¯å®šçš„ï¼Œç”¨ MQ æœ‰ä¸ªåŸºæœ¬åŸåˆ™ï¼Œå°±æ˜¯æ•°æ®ä¸èƒ½å¤šä¸€æ¡ï¼Œä¹Ÿä¸èƒ½å°‘ä¸€æ¡ï¼Œä¸èƒ½å¤šï¼Œå°±æ˜¯å‰é¢è¯´çš„é‡å¤æ¶ˆè´¹å’Œå¹‚ç­‰æ€§é—®é¢˜ã€‚ä¸èƒ½å°‘ï¼Œå°±æ˜¯è¯´è¿™æ•°æ®åˆ«æä¸¢äº†ã€‚é‚£è¿™ä¸ªé—®é¢˜ä½ å¿…é¡»å¾—è€ƒè™‘ä¸€ä¸‹ã€‚</p><p>å¦‚æœè¯´ä½ è¿™ä¸ªæ˜¯ç”¨ MQ æ¥ä¼ é€’éå¸¸æ ¸å¿ƒçš„æ¶ˆæ¯ï¼Œæ¯”å¦‚è¯´è®¡è´¹ã€æ‰£è´¹çš„ä¸€äº›æ¶ˆæ¯ï¼Œé‚£å¿…é¡»ç¡®ä¿è¿™ä¸ª MQ ä¼ é€’è¿‡ç¨‹ä¸­ç»å¯¹ä¸ä¼šæŠŠè®¡è´¹æ¶ˆæ¯ç»™å¼„ä¸¢ã€‚</p></blockquote><blockquote><p>é¢è¯•é¢˜å‰–æ</p><p>æ•°æ®çš„ä¸¢å¤±é—®é¢˜ï¼Œå¯èƒ½å‡ºç°åœ¨ç”Ÿäº§è€…ã€MQã€æ¶ˆè´¹è€…ä¸­ï¼Œå’±ä»¬ä» RabbitMQ å’Œ Kafka åˆ†åˆ«æ¥åˆ†æä¸€ä¸‹å§ã€‚</p></blockquote><h3 id="_4-1-rabbitmq" tabindex="-1"><a class="header-anchor" href="#_4-1-rabbitmq" aria-hidden="true">#</a> 4.1 RabbitMQ</h3><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220925211000760.png" alt="image-20220925211000760" tabindex="0" loading="lazy"><figcaption>image-20220925211000760</figcaption></figure><h4 id="_4-1-1-ç”Ÿäº§è€…å¼„ä¸¢äº†æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_4-1-1-ç”Ÿäº§è€…å¼„ä¸¢äº†æ•°æ®" aria-hidden="true">#</a> 4.1.1 ç”Ÿäº§è€…å¼„ä¸¢äº†æ•°æ®</h4><p>ç”Ÿäº§è€…å°†æ•°æ®å‘é€åˆ° RabbitMQ çš„æ—¶å€™ï¼Œå¯èƒ½æ•°æ®å°±åœ¨åŠè·¯ç»™æä¸¢äº†ï¼Œå› ä¸ºç½‘ç»œé—®é¢˜å•¥çš„ï¼Œéƒ½æœ‰å¯èƒ½ã€‚</p><p>æ­¤æ—¶å¯ä»¥é€‰æ‹©ç”¨ RabbitMQ æä¾›çš„äº‹åŠ¡åŠŸèƒ½ï¼Œå°±æ˜¯ç”Ÿäº§è€…å‘é€æ•°æ®ä¹‹å‰å¼€å¯ RabbitMQ äº‹åŠ¡ channel.txSelect ï¼Œç„¶åå‘é€æ¶ˆæ¯ï¼Œå¦‚æœæ¶ˆæ¯æ²¡æœ‰æˆåŠŸè¢« RabbitMQ æ¥æ”¶åˆ°ï¼Œé‚£ä¹ˆç”Ÿäº§è€…ä¼šæ”¶åˆ°å¼‚å¸¸æŠ¥é”™ï¼Œæ­¤æ—¶å°±å¯ä»¥å›æ»šäº‹åŠ¡ channel.txRollback ï¼Œç„¶åé‡è¯•å‘é€æ¶ˆæ¯ï¼›å¦‚æœæ”¶åˆ°äº†æ¶ˆæ¯ï¼Œé‚£ä¹ˆå¯ä»¥æäº¤äº‹åŠ¡ channel.txCommit ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>// å¼€å¯äº‹åŠ¡
channel.txSelect
try {
    // è¿™é‡Œå‘é€æ¶ˆæ¯
} catch (Exception e) {
    channel.txRollback

    // è¿™é‡Œå†æ¬¡é‡å‘è¿™æ¡æ¶ˆæ¯

}

// æäº¤äº‹åŠ¡
channel.txCommit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä½†æ˜¯é—®é¢˜æ˜¯ï¼ŒRabbitMQ äº‹åŠ¡æœºåˆ¶ï¼ˆåŒæ­¥ï¼‰ä¸€æï¼ŒåŸºæœ¬ä¸Šååé‡ä¼šä¸‹æ¥ï¼Œå› ä¸ºå¤ªè€—æ€§èƒ½ã€‚</strong></p><p>æ‰€ä»¥ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœä½ è¦ç¡®ä¿è¯´å†™ RabbitMQ çš„æ¶ˆæ¯åˆ«ä¸¢ï¼Œå¯ä»¥å¼€å¯ confirm æ¨¡å¼ï¼Œåœ¨ç”Ÿäº§è€…é‚£é‡Œè®¾ç½®å¼€å¯ confirm æ¨¡å¼ä¹‹åï¼Œä½ æ¯æ¬¡å†™çš„æ¶ˆæ¯éƒ½ä¼šåˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ idï¼Œç„¶åå¦‚æœå†™å…¥äº† RabbitMQ ä¸­ï¼ŒRabbitMQ ä¼šç»™ä½ å›ä¼ ä¸€ä¸ª ack æ¶ˆæ¯ï¼Œå‘Šè¯‰ä½ è¯´è¿™ä¸ªæ¶ˆæ¯ ok äº†ã€‚å¦‚æœ RabbitMQ æ²¡èƒ½å¤„ç†è¿™ä¸ªæ¶ˆæ¯ï¼Œä¼šå›è°ƒä½ çš„ä¸€ä¸ª nack æ¥å£ï¼Œå‘Šè¯‰ä½ è¿™ä¸ªæ¶ˆæ¯æ¥æ”¶å¤±è´¥ï¼Œä½ å¯ä»¥é‡è¯•ã€‚è€Œä¸”ä½ å¯ä»¥ç»“åˆè¿™ä¸ªæœºåˆ¶è‡ªå·±åœ¨å†…å­˜é‡Œç»´æŠ¤æ¯ä¸ªæ¶ˆæ¯ id çš„çŠ¶æ€ï¼Œå¦‚æœè¶…è¿‡ä¸€å®šæ—¶é—´è¿˜æ²¡æ¥æ”¶åˆ°è¿™ä¸ªæ¶ˆæ¯çš„å›è°ƒï¼Œé‚£ä¹ˆä½ å¯ä»¥é‡å‘ã€‚</p><p><strong>äº‹åŠ¡æœºåˆ¶å’Œ confirm æœºåˆ¶æœ€å¤§çš„ä¸åŒåœ¨äº</strong>ï¼Œ<strong>äº‹åŠ¡æœºåˆ¶æ˜¯åŒæ­¥çš„</strong>ï¼Œä½ æäº¤ä¸€ä¸ªäº‹åŠ¡ä¹‹åä¼šé˜»å¡åœ¨é‚£å„¿ï¼Œä½†æ˜¯ <strong>confirm æœºåˆ¶æ˜¯å¼‚æ­¥çš„</strong>ï¼Œä½ å‘é€ä¸ªæ¶ˆæ¯ä¹‹åå°±å¯ä»¥å‘é€ä¸‹ä¸€ä¸ªæ¶ˆæ¯ï¼Œç„¶åé‚£ä¸ªæ¶ˆæ¯ RabbitMQ æ¥æ”¶äº†ä¹‹åä¼šå¼‚æ­¥å›è°ƒä½ çš„ä¸€ä¸ªæ¥å£é€šçŸ¥ä½ è¿™ä¸ªæ¶ˆæ¯æ¥æ”¶åˆ°äº†ã€‚</p><p>æ‰€ä»¥ä¸€èˆ¬åœ¨ç”Ÿäº§è€…è¿™å—é¿<strong>å…æ•°æ®ä¸¢å¤±ï¼Œéƒ½æ˜¯ç”¨ confirm æœºåˆ¶</strong>çš„ã€‚</p><h4 id="_4-1-2-rabbitmq-å¼„ä¸¢äº†æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_4-1-2-rabbitmq-å¼„ä¸¢äº†æ•°æ®" aria-hidden="true">#</a> 4.1.2 RabbitMQ å¼„ä¸¢äº†æ•°æ®</h4><p>å°±æ˜¯ RabbitMQ è‡ªå·±å¼„ä¸¢äº†æ•°æ®ï¼Œè¿™ä¸ªä½ å¿…é¡»å¼€å¯ RabbitMQ çš„æŒä¹…åŒ–ï¼Œå°±æ˜¯æ¶ˆæ¯å†™å…¥ä¹‹åä¼šæŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œå“ªæ€•æ˜¯ RabbitMQ è‡ªå·±æŒ‚äº†ï¼Œæ¢å¤ä¹‹åä¼šè‡ªåŠ¨è¯»å–ä¹‹å‰å­˜å‚¨çš„æ•°æ®ï¼Œä¸€èˆ¬æ•°æ®ä¸ä¼šä¸¢ã€‚é™¤éæå…¶ç½•è§çš„æ˜¯ï¼ŒRabbitMQ è¿˜æ²¡æŒä¹…åŒ–ï¼Œè‡ªå·±å°±æŒ‚äº†ï¼Œå¯èƒ½å¯¼è‡´å°‘é‡æ•°æ®ä¸¢å¤±ï¼Œä½†æ˜¯è¿™ä¸ªæ¦‚ç‡è¾ƒå°ã€‚</p><p>è®¾ç½®æŒä¹…åŒ–æœ‰ä¸¤ä¸ªæ­¥éª¤ï¼š</p><ol><li><p>åˆ›å»º queue çš„æ—¶å€™å°†å…¶è®¾ç½®ä¸ºæŒä¹…åŒ– è¿™æ ·å°±å¯ä»¥ä¿è¯ RabbitMQ æŒä¹…åŒ– queue çš„å…ƒæ•°æ®ï¼Œä½†æ˜¯å®ƒæ˜¯ä¸ä¼šæŒä¹…åŒ– queue é‡Œçš„æ•°æ®çš„ã€‚</p></li><li><p>ç¬¬äºŒä¸ªæ˜¯å‘é€æ¶ˆæ¯çš„æ—¶å€™å°†æ¶ˆæ¯çš„ deliveryMode è®¾ç½®ä¸º 2 å°±æ˜¯å°†æ¶ˆæ¯è®¾ç½®ä¸ºæŒä¹…åŒ–çš„ï¼Œæ­¤æ—¶ RabbitMQ å°±ä¼šå°†æ¶ˆæ¯æŒä¹…åŒ–åˆ°ç£ç›˜ä¸Šå»ã€‚</p></li></ol><p>å¿…é¡»è¦åŒæ—¶è®¾ç½®è¿™ä¸¤ä¸ªæŒä¹…åŒ–æ‰è¡Œï¼ŒRabbitMQ å“ªæ€•æ˜¯æŒ‚äº†ï¼Œå†æ¬¡é‡å¯ï¼Œä¹Ÿä¼šä»ç£ç›˜ä¸Šé‡å¯æ¢å¤ queueï¼Œæ¢å¤è¿™ä¸ª queue é‡Œçš„æ•°æ®ã€‚</p><p>æ³¨æ„ï¼Œå“ªæ€•æ˜¯ä½ ç»™ RabbitMQ å¼€å¯äº†æŒä¹…åŒ–æœºåˆ¶ï¼Œä¹Ÿæœ‰ä¸€ç§å¯èƒ½ï¼Œå°±æ˜¯è¿™ä¸ªæ¶ˆæ¯å†™åˆ°äº† RabbitMQ ä¸­ï¼Œä½†æ˜¯è¿˜æ²¡æ¥å¾—åŠæŒä¹…åŒ–åˆ°ç£ç›˜ä¸Šï¼Œç»“æœä¸å·§ï¼Œæ­¤æ—¶ RabbitMQ æŒ‚äº†ï¼Œå°±ä¼šå¯¼è‡´å†…å­˜é‡Œçš„ä¸€ç‚¹ç‚¹æ•°æ®ä¸¢å¤±ã€‚</p><p>æ‰€ä»¥ï¼ŒæŒä¹…åŒ–å¯ä»¥è·Ÿç”Ÿäº§è€…é‚£è¾¹çš„ confirm æœºåˆ¶é…åˆèµ·æ¥ï¼Œåªæœ‰æ¶ˆæ¯è¢«æŒä¹…åŒ–åˆ°ç£ç›˜ä¹‹åï¼Œæ‰ä¼šé€šçŸ¥ç”Ÿäº§è€… ack äº†ï¼Œæ‰€ä»¥å“ªæ€•æ˜¯åœ¨æŒä¹…åŒ–åˆ°ç£ç›˜ä¹‹å‰ï¼ŒRabbitMQ æŒ‚äº†ï¼Œæ•°æ®ä¸¢äº†ï¼Œç”Ÿäº§è€…æ”¶ä¸åˆ° ack ï¼Œä½ ä¹Ÿæ˜¯å¯ä»¥è‡ªå·±é‡å‘çš„ã€‚</p><h4 id="_4-1-3-æ¶ˆè´¹ç«¯å¼„ä¸¢äº†æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_4-1-3-æ¶ˆè´¹ç«¯å¼„ä¸¢äº†æ•°æ®" aria-hidden="true">#</a> 4.1.3 æ¶ˆè´¹ç«¯å¼„ä¸¢äº†æ•°æ®</h4><p>RabbitMQ å¦‚æœä¸¢å¤±äº†æ•°æ®ï¼Œä¸»è¦æ˜¯å› ä¸ºä½ æ¶ˆè´¹çš„æ—¶å€™ï¼Œåˆšæ¶ˆè´¹åˆ°ï¼Œè¿˜æ²¡å¤„ç†ï¼Œç»“æœè¿›ç¨‹æŒ‚äº†ï¼Œæ¯”å¦‚é‡å¯äº†ï¼Œé‚£ä¹ˆå°±å°´å°¬äº†ï¼ŒRabbitMQ è®¤ä¸ºä½ éƒ½æ¶ˆè´¹äº†ï¼Œè¿™æ•°æ®å°±ä¸¢äº†ã€‚</p><p>è¿™ä¸ªæ—¶å€™å¾—ç”¨ RabbitMQ æä¾›çš„ ack æœºåˆ¶ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯ä½ å¿…é¡»å…³é—­ RabbitMQ çš„è‡ªåŠ¨ ack ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ª api æ¥è°ƒç”¨å°±è¡Œï¼Œç„¶åæ¯æ¬¡ä½ è‡ªå·±ä»£ç é‡Œç¡®ä¿å¤„ç†å®Œçš„æ—¶å€™ï¼Œå†åœ¨ç¨‹åºé‡Œ ack ä¸€æŠŠã€‚è¿™æ ·çš„è¯ï¼Œå¦‚æœä½ è¿˜æ²¡å¤„ç†å®Œï¼Œä¸å°±æ²¡æœ‰ ack äº†ï¼Ÿé‚£ RabbitMQ å°±è®¤ä¸ºä½ è¿˜æ²¡å¤„ç†å®Œï¼Œè¿™ä¸ªæ—¶å€™ RabbitMQ ä¼šæŠŠè¿™ä¸ªæ¶ˆè´¹åˆ†é…ç»™åˆ«çš„ consumer å»å¤„ç†ï¼Œæ¶ˆæ¯æ˜¯ä¸ä¼šä¸¢çš„ã€‚</p><h3 id="_4-2-kafka" tabindex="-1"><a class="header-anchor" href="#_4-2-kafka" aria-hidden="true">#</a> 4.2 Kafka</h3><h4 id="_4-2-1-æ¶ˆè´¹ç«¯å¼„ä¸¢äº†æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_4-2-1-æ¶ˆè´¹ç«¯å¼„ä¸¢äº†æ•°æ®" aria-hidden="true">#</a> 4.2.1 æ¶ˆè´¹ç«¯å¼„ä¸¢äº†æ•°æ®</h4><p>å”¯ä¸€å¯èƒ½å¯¼è‡´æ¶ˆè´¹è€…å¼„ä¸¢æ•°æ®çš„æƒ…å†µï¼Œå°±æ˜¯è¯´ï¼Œä½ æ¶ˆè´¹åˆ°äº†è¿™ä¸ªæ¶ˆæ¯ï¼Œç„¶åæ¶ˆè´¹è€…é‚£è¾¹è‡ªåŠ¨æäº¤äº† offsetï¼Œè®© Kafka ä»¥ä¸ºä½ å·²ç»æ¶ˆè´¹å¥½äº†è¿™ä¸ªæ¶ˆæ¯ï¼Œä½†å…¶å®ä½ æ‰åˆšå‡†å¤‡å¤„ç†è¿™ä¸ªæ¶ˆæ¯ï¼Œä½ è¿˜æ²¡å¤„ç†ï¼Œä½ è‡ªå·±å°±æŒ‚äº†ï¼Œæ­¤æ—¶è¿™æ¡æ¶ˆæ¯å°±ä¸¢å’¯ã€‚</p><p>è¿™ä¸æ˜¯è·Ÿ RabbitMQ å·®ä¸å¤šå—ï¼Œå¤§å®¶éƒ½çŸ¥é“ Kafka ä¼šè‡ªåŠ¨æäº¤ offsetï¼Œé‚£ä¹ˆåªè¦å…³é—­è‡ªåŠ¨æäº¤ offsetï¼Œåœ¨å¤„ç†å®Œä¹‹åè‡ªå·±æ‰‹åŠ¨æäº¤ offsetï¼Œå°±å¯ä»¥ä¿è¯æ•°æ®ä¸ä¼šä¸¢ã€‚ä½†æ˜¯æ­¤æ—¶ç¡®å®è¿˜æ˜¯å¯èƒ½ä¼šæœ‰é‡å¤æ¶ˆè´¹ï¼Œæ¯”å¦‚ä½ åˆšå¤„ç†å®Œï¼Œè¿˜æ²¡æäº¤ offsetï¼Œç»“æœè‡ªå·±æŒ‚äº†ï¼Œæ­¤æ—¶è‚¯å®šä¼šé‡å¤æ¶ˆè´¹ä¸€æ¬¡ï¼Œè‡ªå·±ä¿è¯å¹‚ç­‰æ€§å°±å¥½äº†ã€‚</p><p>ç”Ÿäº§ç¯å¢ƒç¢°åˆ°çš„ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è¯´æˆ‘ä»¬çš„ Kafka æ¶ˆè´¹è€…æ¶ˆè´¹åˆ°äº†æ•°æ®ä¹‹åæ˜¯å†™åˆ°ä¸€ä¸ªå†…å­˜çš„ queue é‡Œå…ˆç¼“å†²ä¸€ä¸‹ï¼Œç»“æœæœ‰çš„æ—¶å€™ï¼Œä½ åˆšæŠŠæ¶ˆæ¯å†™å…¥å†…å­˜ queueï¼Œç„¶åæ¶ˆè´¹è€…ä¼šè‡ªåŠ¨æäº¤ offsetã€‚ç„¶åæ­¤æ—¶æˆ‘ä»¬é‡å¯äº†ç³»ç»Ÿï¼Œå°±ä¼šå¯¼è‡´å†…å­˜ queue é‡Œè¿˜æ²¡æ¥å¾—åŠå¤„ç†çš„æ•°æ®å°±ä¸¢å¤±äº†ã€‚</p><h4 id="_4-2-2-kafka-å¼„ä¸¢äº†æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_4-2-2-kafka-å¼„ä¸¢äº†æ•°æ®" aria-hidden="true">#</a> 4.2.2 Kafka å¼„ä¸¢äº†æ•°æ®</h4><p>è¿™å—æ¯”è¾ƒå¸¸è§çš„ä¸€ä¸ªåœºæ™¯ï¼Œå°±æ˜¯ Kafka æŸä¸ª broker å®•æœºï¼Œç„¶åé‡æ–°é€‰ä¸¾ partition çš„ leaderã€‚å¤§å®¶æƒ³æƒ³ï¼Œè¦æ˜¯æ­¤æ—¶å…¶ä»–çš„ follower åˆšå¥½è¿˜æœ‰äº›æ•°æ®æ²¡æœ‰åŒæ­¥ï¼Œç»“æœæ­¤æ—¶ leader æŒ‚äº†ï¼Œç„¶åé€‰ä¸¾æŸä¸ª follower æˆ leader ä¹‹åï¼Œä¸å°±å°‘äº†ä¸€äº›æ•°æ®ï¼Ÿè¿™å°±ä¸¢äº†ä¸€äº›æ•°æ®å•Šã€‚</p><p>ç”Ÿäº§ç¯å¢ƒä¹Ÿé‡åˆ°è¿‡ï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯ï¼Œä¹‹å‰ Kafka çš„ leader æœºå™¨å®•æœºäº†ï¼Œå°† follower åˆ‡æ¢ä¸º leader ä¹‹åï¼Œå°±ä¼šå‘ç°è¯´è¿™ä¸ªæ•°æ®å°±ä¸¢äº†ã€‚</p><p>æ‰€ä»¥æ­¤æ—¶ä¸€èˆ¬æ˜¯è¦æ±‚èµ·ç è®¾ç½®å¦‚ä¸‹ 4 ä¸ªå‚æ•°ï¼š</p><p>ç»™ topic è®¾ç½® replication.factor å‚æ•°ï¼šè¿™ä¸ªå€¼å¿…é¡»å¤§äº 1ï¼Œè¦æ±‚æ¯ä¸ª partition å¿…é¡»æœ‰è‡³å°‘ 2 ä¸ªå‰¯æœ¬ã€‚ åœ¨ Kafka æœåŠ¡ç«¯è®¾ç½® min.insync.replicas å‚æ•°ï¼šè¿™ä¸ªå€¼å¿…é¡»å¤§äº 1ï¼Œè¿™ä¸ªæ˜¯è¦æ±‚ä¸€ä¸ª leader è‡³å°‘æ„ŸçŸ¥åˆ°æœ‰è‡³å°‘ä¸€ä¸ª follower è¿˜è·Ÿè‡ªå·±ä¿æŒè”ç³»ï¼Œæ²¡æ‰é˜Ÿï¼Œè¿™æ ·æ‰èƒ½ç¡®ä¿ leader æŒ‚äº†è¿˜æœ‰ä¸€ä¸ª follower å§ã€‚ åœ¨ producer ç«¯è®¾ç½® acks=all ï¼šè¿™ä¸ªæ˜¯è¦æ±‚æ¯æ¡æ•°æ®ï¼Œå¿…é¡»æ˜¯å†™å…¥æ‰€æœ‰ replica ä¹‹åï¼Œæ‰èƒ½è®¤ä¸ºæ˜¯å†™æˆåŠŸäº†ã€‚ åœ¨ producer ç«¯è®¾ç½® retries=MAX ï¼ˆå¾ˆå¤§å¾ˆå¤§å¾ˆå¤§çš„ä¸€ä¸ªå€¼ï¼Œæ— é™æ¬¡é‡è¯•çš„æ„æ€ï¼‰ï¼šè¿™ä¸ªæ˜¯è¦æ±‚ä¸€æ—¦å†™å…¥å¤±è´¥ï¼Œå°±æ— é™é‡è¯•ï¼Œå¡åœ¨è¿™é‡Œäº†ã€‚ æˆ‘ä»¬ç”Ÿäº§ç¯å¢ƒå°±æ˜¯æŒ‰ç…§ä¸Šè¿°è¦æ±‚é…ç½®çš„ï¼Œè¿™æ ·é…ç½®ä¹‹åï¼Œè‡³å°‘åœ¨ Kafka broker ç«¯å°±å¯ä»¥ä¿è¯åœ¨ leader æ‰€åœ¨ broker å‘ç”Ÿæ•…éšœï¼Œè¿›è¡Œ leader åˆ‡æ¢æ—¶ï¼Œæ•°æ®ä¸ä¼šä¸¢å¤±ã€‚</p><h4 id="_4-2-3-ç”Ÿäº§è€…ä¼šä¸ä¼šå¼„ä¸¢æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_4-2-3-ç”Ÿäº§è€…ä¼šä¸ä¼šå¼„ä¸¢æ•°æ®" aria-hidden="true">#</a> 4.2.3 ç”Ÿäº§è€…ä¼šä¸ä¼šå¼„ä¸¢æ•°æ®ï¼Ÿ</h4><p>å¦‚æœæŒ‰ç…§ä¸Šè¿°çš„æ€è·¯è®¾ç½®äº† acks=all ï¼Œä¸€å®šä¸ä¼šä¸¢ï¼Œè¦æ±‚æ˜¯ï¼Œä½ çš„ leader æ¥æ”¶åˆ°æ¶ˆæ¯ï¼Œæ‰€æœ‰çš„ follower éƒ½åŒæ­¥åˆ°äº†æ¶ˆæ¯ä¹‹åï¼Œæ‰è®¤ä¸ºæœ¬æ¬¡å†™æˆåŠŸäº†ã€‚å¦‚æœæ²¡æ»¡è¶³è¿™ä¸ªæ¡ä»¶ï¼Œç”Ÿäº§è€…ä¼šè‡ªåŠ¨ä¸æ–­çš„é‡è¯•ï¼Œé‡è¯•æ— é™æ¬¡ã€‚</p><h2 id="_5-å¦‚ä½•ä¿è¯æ¶ˆæ¯é˜Ÿåˆ—çš„é«˜å¯ç”¨" tabindex="-1"><a class="header-anchor" href="#_5-å¦‚ä½•ä¿è¯æ¶ˆæ¯é˜Ÿåˆ—çš„é«˜å¯ç”¨" aria-hidden="true">#</a> 5. å¦‚ä½•ä¿è¯æ¶ˆæ¯é˜Ÿåˆ—çš„é«˜å¯ç”¨ï¼Ÿ</h2><blockquote><p>é¢è¯•å®˜å¿ƒç†åˆ†æ</p><p>å¦‚æœæœ‰äººé—®åˆ°ä½  MQ çš„çŸ¥è¯†ï¼Œé«˜å¯ç”¨æ˜¯å¿…é—®çš„ã€‚ä¸Šä¸€è®²æåˆ°ï¼ŒMQ ä¼šå¯¼è‡´ç³»ç»Ÿå¯ç”¨æ€§é™ä½ã€‚æ‰€ä»¥åªè¦ä½ ç”¨äº† MQï¼Œæ¥ä¸‹æ¥é—®çš„ä¸€äº›è¦ç‚¹è‚¯å®šå°±æ˜¯å›´ç»•ç€ MQ çš„é‚£äº›ç¼ºç‚¹æ€ä¹ˆæ¥è§£å†³äº†ã€‚</p><p>è¦æ˜¯ä½ å‚»ä¹ä¹çš„å°±å¹²ç”¨äº†ä¸€ä¸ª MQï¼Œå„ç§é—®é¢˜ä»æ¥æ²¡è€ƒè™‘è¿‡ï¼Œé‚£ä½ å°±æ¯å…·äº†ï¼Œé¢è¯•å®˜å¯¹ä½ çš„æ„Ÿè§‰å°±æ˜¯ï¼Œåªä¼šç®€å•ä½¿ç”¨ä¸€äº›æŠ€æœ¯ï¼Œæ²¡ä»»ä½•æ€è€ƒï¼Œé©¬ä¸Šå¯¹ä½ çš„å°è±¡å°±ä¸å¤ªå¥½äº†ã€‚è¿™æ ·çš„åŒå­¦æ‹›è¿›æ¥è¦æ˜¯åšä¸ª 20k è–ªèµ„ä»¥å†…çš„æ™®é€šå°å¼Ÿè¿˜å‡‘åˆï¼Œè¦æ˜¯åšè–ªèµ„ 20k+ çš„é«˜å·¥ï¼Œé‚£å°±æƒ¨äº†ï¼Œè®©ä½ è®¾è®¡ä¸ªç³»ç»Ÿï¼Œé‡Œé¢è‚¯å®šä¸€å †å‘ï¼Œå‡ºäº†äº‹æ•…å…¬å¸å—æŸå¤±ï¼Œå›¢é˜Ÿä¸€èµ·èƒŒé”…ã€‚</p></blockquote><blockquote><p>é¢è¯•é¢˜å‰–æ</p><p>è¿™ä¸ªé—®é¢˜è¿™ä¹ˆé—®æ˜¯å¾ˆå¥½çš„ï¼Œå› ä¸ºä¸èƒ½é—®ä½  Kafka çš„é«˜å¯ç”¨æ€§æ€ä¹ˆä¿è¯ï¼ŸActiveMQ çš„é«˜å¯ç”¨æ€§æ€ä¹ˆä¿è¯ï¼Ÿä¸€ä¸ªé¢è¯•å®˜è¦æ˜¯è¿™ä¹ˆé—®å°±æ˜¾å¾—å¾ˆæ²¡æ°´å¹³ï¼Œäººå®¶å¯èƒ½ç”¨çš„å°±æ˜¯ RabbitMQï¼Œæ²¡ç”¨è¿‡ Kafkaï¼Œä½ ä¸Šæ¥é—®äººå®¶ Kafka å¹²ä»€ä¹ˆï¼Ÿè¿™ä¸æ˜¯æ‘†æ˜äº†åˆéš¾äººä¹ˆã€‚</p><p>æ‰€ä»¥æœ‰æ°´å¹³çš„é¢è¯•å®˜ï¼Œé—®çš„æ˜¯ MQ çš„é«˜å¯ç”¨æ€§æ€ä¹ˆä¿è¯ï¼Ÿè¿™æ ·å°±æ˜¯ä½ ç”¨è¿‡å“ªä¸ª MQï¼Œä½ å°±è¯´è¯´ä½ å¯¹é‚£ä¸ª MQ çš„é«˜å¯ç”¨æ€§çš„ç†è§£ã€‚</p></blockquote><h3 id="_5-1-rabbitmq-çš„é«˜å¯ç”¨æ€§" tabindex="-1"><a class="header-anchor" href="#_5-1-rabbitmq-çš„é«˜å¯ç”¨æ€§" aria-hidden="true">#</a> 5.1 RabbitMQ çš„é«˜å¯ç”¨æ€§</h3><p>RabbitMQ æ˜¯æ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„ï¼Œå› ä¸ºæ˜¯åŸºäºä¸»ä»ï¼ˆéåˆ†å¸ƒå¼ï¼‰åšé«˜å¯ç”¨æ€§çš„ï¼Œæˆ‘ä»¬å°±ä»¥ RabbitMQ ä¸ºä¾‹å­è®²è§£ç¬¬ä¸€ç§ MQ çš„é«˜å¯ç”¨æ€§æ€ä¹ˆå®ç°ã€‚</p><p>RabbitMQ æœ‰ä¸‰ç§æ¨¡å¼ï¼š<strong>å•æœºæ¨¡å¼ã€æ™®é€šé›†ç¾¤æ¨¡å¼ã€é•œåƒé›†ç¾¤æ¨¡å¼</strong>ã€‚</p><h4 id="_5-1-1-å•æœºæ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_5-1-1-å•æœºæ¨¡å¼" aria-hidden="true">#</a> 5.1.1 å•æœºæ¨¡å¼</h4><p>å•æœºæ¨¡å¼ï¼Œå°±æ˜¯ Demo çº§åˆ«çš„ï¼Œä¸€èˆ¬å°±æ˜¯ä½ æœ¬åœ°å¯åŠ¨äº†ç©ç©å„¿çš„ ????ï¼Œæ²¡äººç”Ÿäº§ç”¨å•æœºæ¨¡å¼ã€‚</p><h4 id="_5-1-2-æ™®é€šé›†ç¾¤æ¨¡å¼-æ— é«˜å¯ç”¨æ€§" tabindex="-1"><a class="header-anchor" href="#_5-1-2-æ™®é€šé›†ç¾¤æ¨¡å¼-æ— é«˜å¯ç”¨æ€§" aria-hidden="true">#</a> 5.1.2 æ™®é€šé›†ç¾¤æ¨¡å¼ï¼ˆæ— é«˜å¯ç”¨æ€§ï¼‰</h4><p>æ™®é€šé›†ç¾¤æ¨¡å¼ï¼Œæ„æ€å°±æ˜¯åœ¨å¤šå°æœºå™¨ä¸Šå¯åŠ¨å¤šä¸ª RabbitMQ å®ä¾‹ï¼Œæ¯ä¸ªæœºå™¨å¯åŠ¨ä¸€ä¸ªã€‚ä½ åˆ›å»ºçš„ queueï¼Œåªä¼šæ”¾åœ¨ä¸€ä¸ª RabbitMQ å®ä¾‹ä¸Šï¼Œä½†æ˜¯æ¯ä¸ªå®ä¾‹éƒ½åŒæ­¥ queue çš„å…ƒæ•°æ®ï¼ˆå…ƒæ•°æ®å¯ä»¥è®¤ä¸ºæ˜¯ queue çš„ä¸€äº›é…ç½®ä¿¡æ¯ï¼Œé€šè¿‡å…ƒæ•°æ®ï¼Œå¯ä»¥æ‰¾åˆ° queue æ‰€åœ¨å®ä¾‹ï¼‰ã€‚ä½ æ¶ˆè´¹çš„æ—¶å€™ï¼Œå®é™…ä¸Šå¦‚æœè¿æ¥åˆ°äº†å¦å¤–ä¸€ä¸ªå®ä¾‹ï¼Œé‚£ä¹ˆé‚£ä¸ªå®ä¾‹ä¼šä» queue æ‰€åœ¨å®ä¾‹ä¸Šæ‹‰å–æ•°æ®è¿‡æ¥ã€‚</p><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220925212419633.png" alt="image-20220925212419633" tabindex="0" loading="lazy"><figcaption>image-20220925212419633</figcaption></figure><p>è¿™ç§æ–¹å¼ç¡®å®å¾ˆéº»çƒ¦ï¼Œä¹Ÿä¸æ€ä¹ˆå¥½ï¼Œ<strong>æ²¡åšåˆ°æ‰€è°“çš„åˆ†å¸ƒå¼</strong>ï¼Œå°±æ˜¯ä¸ªæ™®é€šé›†ç¾¤ã€‚å› ä¸ºè¿™å¯¼è‡´ä½ è¦ä¹ˆæ¶ˆè´¹è€…æ¯æ¬¡éšæœºè¿æ¥ä¸€ä¸ªå®ä¾‹ç„¶åæ‹‰å–æ•°æ®ï¼Œè¦ä¹ˆå›ºå®šè¿æ¥é‚£ä¸ª queue æ‰€åœ¨å®ä¾‹æ¶ˆè´¹æ•°æ®ï¼Œå‰è€…æœ‰<strong>æ•°æ®æ‹‰å–çš„å¼€é”€</strong>ï¼Œåè€…<strong>å¯¼è‡´å•å®ä¾‹æ€§èƒ½ç“¶é¢ˆ</strong>ã€‚</p><p>è€Œä¸”å¦‚æœé‚£ä¸ªæ”¾ queue çš„å®ä¾‹å®•æœºäº†ï¼Œä¼šå¯¼è‡´æ¥ä¸‹æ¥å…¶ä»–å®ä¾‹å°±æ— æ³•ä»é‚£ä¸ªå®ä¾‹æ‹‰å–ï¼Œå¦‚æœä½ å¼€å¯äº†æ¶ˆæ¯æŒä¹…åŒ–ï¼Œè®© RabbitMQ è½åœ°å­˜å‚¨æ¶ˆæ¯çš„è¯ï¼Œ<strong>æ¶ˆæ¯ä¸ä¸€å®šä¼šä¸¢</strong>ï¼Œå¾—ç­‰è¿™ä¸ªå®ä¾‹æ¢å¤äº†ï¼Œç„¶åæ‰å¯ä»¥ç»§ç»­ä»è¿™ä¸ª queue æ‹‰å–æ•°æ®ã€‚</p><p>æ‰€ä»¥è¿™ä¸ªäº‹å„¿å°±æ¯”è¾ƒå°´å°¬äº†ï¼Œè¿™å°±<strong>æ²¡æœ‰ä»€ä¹ˆæ‰€è°“çš„é«˜å¯ç”¨æ€§ï¼Œè¿™æ–¹æ¡ˆä¸»è¦æ˜¯æé«˜ååé‡</strong>çš„ï¼Œå°±æ˜¯è¯´è®©é›†ç¾¤ä¸­å¤šä¸ªèŠ‚ç‚¹æ¥æœåŠ¡æŸä¸ª queue çš„è¯»å†™æ“ä½œã€‚</p><h4 id="_5-1-3-é•œåƒé›†ç¾¤æ¨¡å¼-é«˜å¯ç”¨æ€§" tabindex="-1"><a class="header-anchor" href="#_5-1-3-é•œåƒé›†ç¾¤æ¨¡å¼-é«˜å¯ç”¨æ€§" aria-hidden="true">#</a> 5.1.3 é•œåƒé›†ç¾¤æ¨¡å¼ï¼ˆé«˜å¯ç”¨æ€§ï¼‰</h4><p>è¿™ç§æ¨¡å¼ï¼Œæ‰æ˜¯æ‰€è°“çš„ RabbitMQ çš„é«˜å¯ç”¨æ¨¡å¼ã€‚è·Ÿæ™®é€šé›†ç¾¤æ¨¡å¼ä¸ä¸€æ ·çš„æ˜¯ï¼Œåœ¨é•œåƒé›†ç¾¤æ¨¡å¼ä¸‹ï¼Œä½ åˆ›å»ºçš„ queueï¼Œæ— è®ºå…ƒæ•°æ®è¿˜æ˜¯ queue é‡Œçš„æ¶ˆæ¯éƒ½ä¼šå­˜åœ¨äºå¤šä¸ªå®ä¾‹ä¸Šï¼Œå°±æ˜¯è¯´ï¼Œæ¯ä¸ª RabbitMQ èŠ‚ç‚¹éƒ½æœ‰è¿™ä¸ª queue çš„ä¸€ä¸ªå®Œæ•´é•œåƒï¼ŒåŒ…å« queue çš„å…¨éƒ¨æ•°æ®çš„æ„æ€ã€‚ç„¶åæ¯æ¬¡ä½ å†™æ¶ˆæ¯åˆ° queue çš„æ—¶å€™ï¼Œéƒ½ä¼šè‡ªåŠ¨æŠŠæ¶ˆæ¯åŒæ­¥åˆ°å¤šä¸ªå®ä¾‹çš„ queue ä¸Šã€‚</p><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220925212754157.png" alt="image-20220925212754157" tabindex="0" loading="lazy"><figcaption>image-20220925212754157</figcaption></figure><h5 id="_5-1-3-1-å¼€å¯è¿™ä¸ªé•œåƒé›†ç¾¤æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_5-1-3-1-å¼€å¯è¿™ä¸ªé•œåƒé›†ç¾¤æ¨¡å¼" aria-hidden="true">#</a> 5.1.3.1 å¼€å¯è¿™ä¸ªé•œåƒé›†ç¾¤æ¨¡å¼</h5><p>é‚£ä¹ˆå¦‚ä½•å¼€å¯è¿™ä¸ªé•œåƒé›†ç¾¤æ¨¡å¼å‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼ŒRabbitMQ æœ‰å¾ˆå¥½çš„ç®¡ç†æ§åˆ¶å°ï¼Œå°±æ˜¯åœ¨åå°æ–°å¢ä¸€ä¸ªç­–ç•¥ï¼Œè¿™ä¸ªç­–ç•¥æ˜¯é•œåƒé›†ç¾¤æ¨¡å¼çš„ç­–ç•¥ï¼ŒæŒ‡å®šçš„æ—¶å€™æ˜¯å¯ä»¥è¦æ±‚æ•°æ®åŒæ­¥åˆ°æ‰€æœ‰èŠ‚ç‚¹çš„ï¼Œä¹Ÿå¯ä»¥è¦æ±‚åŒæ­¥åˆ°æŒ‡å®šæ•°é‡çš„èŠ‚ç‚¹ï¼Œå†æ¬¡åˆ›å»º queue çš„æ—¶å€™ï¼Œåº”ç”¨è¿™ä¸ªç­–ç•¥ï¼Œå°±ä¼šè‡ªåŠ¨å°†æ•°æ®åŒæ­¥åˆ°å…¶ä»–çš„èŠ‚ç‚¹ä¸Šå»äº†ã€‚</p><p>è¿™æ ·çš„è¯ï¼Œå¥½å¤„åœ¨äºï¼Œä½ ä»»ä½•ä¸€ä¸ªæœºå™¨å®•æœºäº†ï¼Œæ²¡äº‹å„¿ï¼Œå…¶å®ƒæœºå™¨ï¼ˆèŠ‚ç‚¹ï¼‰è¿˜åŒ…å«äº†è¿™ä¸ª queue çš„å®Œæ•´æ•°æ®ï¼Œåˆ«çš„ consumer éƒ½å¯ä»¥åˆ°å…¶å®ƒèŠ‚ç‚¹ä¸Šå»æ¶ˆè´¹æ•°æ®ã€‚åå¤„åœ¨äºï¼Œç¬¬ä¸€ï¼Œè¿™ä¸ªæ€§èƒ½å¼€é”€ä¹Ÿå¤ªå¤§äº†å§ï¼Œæ¶ˆæ¯éœ€è¦åŒæ­¥åˆ°æ‰€æœ‰æœºå™¨ä¸Šï¼Œå¯¼è‡´ç½‘ç»œå¸¦å®½å‹åŠ›å’Œæ¶ˆè€—å¾ˆé‡ï¼ç¬¬äºŒï¼Œè¿™ä¹ˆç©å„¿ï¼Œä¸æ˜¯åˆ†å¸ƒå¼çš„ï¼Œå°±æ²¡æœ‰æ‰©å±•æ€§å¯è¨€äº†ï¼Œå¦‚æœæŸä¸ª queue è´Ÿè½½å¾ˆé‡ï¼Œä½ åŠ æœºå™¨ï¼Œæ–°å¢çš„æœºå™¨ä¹ŸåŒ…å«äº†è¿™ä¸ª queue çš„æ‰€æœ‰æ•°æ®ï¼Œå¹¶æ²¡æœ‰åŠæ³•çº¿æ€§æ‰©å±•ä½ çš„ queueã€‚ä½ æƒ³ï¼Œå¦‚æœè¿™ä¸ª queue çš„æ•°æ®é‡å¾ˆå¤§ï¼Œå¤§åˆ°è¿™ä¸ªæœºå™¨ä¸Šçš„å®¹é‡æ— æ³•å®¹çº³äº†ï¼Œæ­¤æ—¶è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><h3 id="_5-2-kafka-çš„é«˜å¯ç”¨æ€§" tabindex="-1"><a class="header-anchor" href="#_5-2-kafka-çš„é«˜å¯ç”¨æ€§" aria-hidden="true">#</a> 5.2 Kafka çš„é«˜å¯ç”¨æ€§</h3><p>Kafka ä¸€ä¸ªæœ€åŸºæœ¬çš„æ¶æ„è®¤è¯†ï¼šç”±å¤šä¸ª broker ç»„æˆï¼Œæ¯ä¸ª broker æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼›ä½ åˆ›å»ºä¸€ä¸ª topicï¼Œè¿™ä¸ª topic å¯ä»¥åˆ’åˆ†ä¸ºå¤šä¸ª partitionï¼Œæ¯ä¸ª partition å¯ä»¥å­˜åœ¨äºä¸åŒçš„ broker ä¸Šï¼Œæ¯ä¸ª partition å°±æ”¾ä¸€éƒ¨åˆ†æ•°æ®ã€‚</p><p>è¿™å°±æ˜¯å¤©ç„¶çš„åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå°±æ˜¯è¯´ä¸€ä¸ª topic çš„æ•°æ®ï¼Œæ˜¯åˆ†æ•£æ”¾åœ¨å¤šä¸ªæœºå™¨ä¸Šçš„ï¼Œæ¯ä¸ªæœºå™¨å°±æ”¾ä¸€éƒ¨åˆ†æ•°æ®ã€‚</p><p><strong>å®é™…ä¸Š RabbitMQ ä¹‹ç±»çš„ï¼Œå¹¶ä¸æ˜¯åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå®ƒå°±æ˜¯ä¼ ç»Ÿçš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œåªä¸è¿‡æä¾›äº†ä¸€äº›é›†ç¾¤ã€HA(High Availability, é«˜å¯ç”¨æ€§) çš„æœºåˆ¶è€Œå·²ï¼Œå› ä¸ºæ— è®ºæ€ä¹ˆç©å„¿ï¼ŒRabbitMQ ä¸€ä¸ª queue çš„æ•°æ®éƒ½æ˜¯æ”¾åœ¨ä¸€ä¸ªèŠ‚ç‚¹é‡Œçš„ï¼Œé•œåƒé›†ç¾¤ä¸‹ï¼Œä¹Ÿæ˜¯æ¯ä¸ªèŠ‚ç‚¹éƒ½æ”¾è¿™ä¸ª queue çš„å®Œæ•´æ•°æ®ã€‚</strong></p><p>Kafka 0.8 ä»¥å‰ï¼Œæ˜¯æ²¡æœ‰ HA æœºåˆ¶çš„ï¼Œå°±æ˜¯ä»»ä½•ä¸€ä¸ª broker å®•æœºäº†ï¼Œé‚£ä¸ª broker ä¸Šçš„ partition å°±åºŸäº†ï¼Œæ²¡æ³•å†™ä¹Ÿæ²¡æ³•è¯»ï¼Œæ²¡æœ‰ä»€ä¹ˆé«˜å¯ç”¨æ€§å¯è¨€ã€‚</p><p>æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬å‡è®¾åˆ›å»ºäº†ä¸€ä¸ª topicï¼ŒæŒ‡å®šå…¶ partition æ•°é‡æ˜¯ 3 ä¸ªï¼Œåˆ†åˆ«åœ¨ä¸‰å°æœºå™¨ä¸Šã€‚ä½†æ˜¯ï¼Œå¦‚æœç¬¬äºŒå°æœºå™¨å®•æœºäº†ï¼Œä¼šå¯¼è‡´è¿™ä¸ª topic çš„ 1/3 çš„æ•°æ®å°±ä¸¢äº†ï¼Œå› æ­¤è¿™ä¸ªæ˜¯åšä¸åˆ°é«˜å¯ç”¨çš„ã€‚</p><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220925213155537.png" alt="image-20220925213155537" tabindex="0" loading="lazy"><figcaption>image-20220925213155537</figcaption></figure><p>Kafka 0.8 ä»¥åï¼Œæä¾›äº† HA æœºåˆ¶ï¼Œå°±æ˜¯ replicaï¼ˆå¤åˆ¶å“ï¼‰ å‰¯æœ¬æœºåˆ¶ã€‚æ¯ä¸ª partition çš„æ•°æ®éƒ½ä¼šåŒæ­¥åˆ°å…¶å®ƒæœºå™¨ä¸Šï¼Œå½¢æˆè‡ªå·±çš„å¤šä¸ª replica å‰¯æœ¬ã€‚æ‰€æœ‰ replica ä¼šé€‰ä¸¾ä¸€ä¸ª leader å‡ºæ¥ï¼Œé‚£ä¹ˆç”Ÿäº§å’Œæ¶ˆè´¹éƒ½è·Ÿè¿™ä¸ª leader æ‰“äº¤é“ï¼Œç„¶åå…¶ä»– replica å°±followerã€‚å†™çš„æ—¶å€™ï¼Œleader ä¼šè´Ÿè´£æŠŠæ•°æ®åŒæ­¥åˆ°æ‰€æœ‰ follower ä¸Šå»ï¼Œè¯»çš„æ—¶å€™å°±ç›´æ¥è¯» leader ä¸Šçš„æ•°æ®å³å¯ã€‚åªèƒ½è¯»å†™ leaderï¼Ÿå¾ˆç®€å•ï¼Œè¦æ˜¯ä½ å¯ä»¥éšæ„è¯»å†™æ¯ä¸ª followerï¼Œé‚£ä¹ˆå°±è¦ care æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œç³»ç»Ÿå¤æ‚åº¦å¤ªé«˜ï¼Œå¾ˆå®¹æ˜“å‡ºé—®é¢˜ã€‚Kafka ä¼šå‡åŒ€åœ°å°†ä¸€ä¸ª partition çš„æ‰€æœ‰ replica åˆ†å¸ƒåœ¨ä¸åŒçš„æœºå™¨ä¸Šï¼Œè¿™æ ·æ‰å¯ä»¥æé«˜å®¹é”™æ€§ã€‚</p><figure><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220925213624841.png" alt="image-20220925213624841" tabindex="0" loading="lazy"><figcaption>image-20220925213624841</figcaption></figure><p>è¿™ä¹ˆæï¼Œå°±æœ‰æ‰€è°“çš„é«˜å¯ç”¨æ€§äº†ï¼Œå› ä¸ºå¦‚æœæŸä¸ª broker å®•æœºäº†ï¼Œæ²¡äº‹å„¿ï¼Œé‚£ä¸ª broker ä¸Šé¢çš„ partition åœ¨å…¶ä»–æœºå™¨ä¸Šéƒ½æœ‰å‰¯æœ¬çš„ã€‚å¦‚æœè¿™ä¸ªå®•æœºçš„ broker ä¸Šé¢æœ‰æŸä¸ª partition çš„ leaderï¼Œé‚£ä¹ˆæ­¤æ—¶ä¼šä» follower ä¸­é‡æ–°é€‰ä¸¾ä¸€ä¸ªæ–°çš„ leader å‡ºæ¥ï¼Œå¤§å®¶ç»§ç»­è¯»å†™é‚£ä¸ªæ–°çš„ leader å³å¯ã€‚è¿™å°±æœ‰æ‰€è°“çš„é«˜å¯ç”¨æ€§äº†ã€‚</p><p>å†™æ•°æ®çš„æ—¶å€™ï¼Œç”Ÿäº§è€…å°±å†™ leaderï¼Œç„¶å leader å°†æ•°æ®è½åœ°å†™æœ¬åœ°ç£ç›˜ï¼Œæ¥ç€å…¶ä»– follower è‡ªå·±ä¸»åŠ¨ä» leader æ¥ pull æ•°æ®ã€‚ä¸€æ—¦æ‰€æœ‰ follower åŒæ­¥å¥½æ•°æ®äº†ï¼Œå°±ä¼šå‘é€ ack ç»™ leaderï¼Œleader æ”¶åˆ°æ‰€æœ‰ follower çš„ ack ä¹‹åï¼Œå°±ä¼šè¿”å›å†™æˆåŠŸçš„æ¶ˆæ¯ç»™ç”Ÿäº§è€…ã€‚ï¼ˆå½“ç„¶ï¼Œè¿™åªæ˜¯å…¶ä¸­ä¸€ç§æ¨¡å¼ï¼Œè¿˜å¯ä»¥é€‚å½“è°ƒæ•´è¿™ä¸ªè¡Œä¸ºï¼‰</p><p>æ¶ˆè´¹çš„æ—¶å€™ï¼Œåªä¼šä» leader å»è¯»ï¼Œä½†æ˜¯åªæœ‰å½“ä¸€ä¸ªæ¶ˆæ¯å·²ç»è¢«æ‰€æœ‰ follower éƒ½åŒæ­¥æˆåŠŸè¿”å› ack çš„æ—¶å€™ï¼Œè¿™ä¸ªæ¶ˆæ¯æ‰ä¼šè¢«æ¶ˆè´¹è€…è¯»åˆ°ã€‚</p><p>çœ‹åˆ°è¿™é‡Œï¼Œç›¸ä¿¡ä½ å¤§è‡´æ˜ç™½äº† Kafka æ˜¯å¦‚ä½•ä¿è¯é«˜å¯ç”¨æœºåˆ¶çš„äº†ï¼Œå¯¹å§ï¼Ÿä¸è‡³äºä¸€æ— æ‰€çŸ¥ï¼Œç°åœºè¿˜èƒ½ç»™é¢è¯•å®˜ç”»ç”»å›¾ã€‚è¦æ˜¯é‡ä¸Šé¢è¯•å®˜ç¡®å®æ˜¯ Kafka é«˜æ‰‹ï¼Œæ·±æŒ–äº†é—®ï¼Œé‚£ä½ åªèƒ½è¯´ä¸å¥½æ„æ€ï¼Œå¤ªæ·±å…¥çš„ä½ æ²¡ç ”ç©¶è¿‡ã€‚</p><h2 id="_6-å¦‚ä½•é¿å…æ¶ˆæ¯é‡å¤æŠ•é€’æˆ–é‡å¤æ¶ˆè´¹" tabindex="-1"><a class="header-anchor" href="#_6-å¦‚ä½•é¿å…æ¶ˆæ¯é‡å¤æŠ•é€’æˆ–é‡å¤æ¶ˆè´¹" aria-hidden="true">#</a> 6. å¦‚ä½•é¿å…æ¶ˆæ¯é‡å¤æŠ•é€’æˆ–é‡å¤æ¶ˆè´¹ï¼Ÿ</h2><p>åœ¨æ¶ˆæ¯ç”Ÿäº§æ—¶ï¼ŒMQ å†…éƒ¨é’ˆå¯¹æ¯æ¡ç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯ç”Ÿæˆä¸€ä¸ª inner-msg-idï¼Œä½œä¸ºå»é‡çš„ä¾æ®ï¼ˆæ¶ˆæ¯æŠ•é€’å¤±è´¥å¹¶é‡ä¼ ï¼‰ï¼Œé¿å…é‡å¤çš„æ¶ˆæ¯è¿›å…¥é˜Ÿåˆ—ï¼›åœ¨æ¶ˆæ¯æ¶ˆè´¹æ—¶ï¼Œè¦æ±‚æ¶ˆæ¯ä½“ä¸­å¿…é¡»è¦æœ‰ä¸€ä¸ª bizIdï¼ˆå¯¹äºåŒä¸€ä¸šåŠ¡å…¨å±€å”¯ä¸€ï¼Œå¦‚æ”¯ä»˜ IDã€è®¢å• IDã€å¸–å­ ID ç­‰ï¼‰ä½œä¸ºå»é‡çš„ä¾æ®ï¼Œé¿å…åŒä¸€æ¡æ¶ˆæ¯è¢«é‡å¤æ¶ˆè´¹ã€‚</p><h2 id="_7-æ¶ˆæ¯åŸºäºä»€ä¹ˆä¼ è¾“" tabindex="-1"><a class="header-anchor" href="#_7-æ¶ˆæ¯åŸºäºä»€ä¹ˆä¼ è¾“" aria-hidden="true">#</a> 7. æ¶ˆæ¯åŸºäºä»€ä¹ˆä¼ è¾“ï¼Ÿ</h2><p>ç”±äº TCP è¿æ¥çš„åˆ›å»ºå’Œé”€æ¯å¼€é”€è¾ƒå¤§ï¼Œä¸”å¹¶å‘æ•°å—ç³»ç»Ÿèµ„æºé™åˆ¶ï¼Œä¼šé€ æˆæ€§èƒ½ç“¶é¢ˆã€‚RabbitMQ <strong>ä½¿ç”¨ä¿¡é“çš„æ–¹å¼æ¥ä¼ è¾“æ•°æ®ã€‚ä¿¡é“æ˜¯å»ºç«‹åœ¨çœŸå®çš„ TCP è¿æ¥å†…çš„è™šæ‹Ÿè¿æ¥ï¼Œä¸”æ¯æ¡ TCP è¿æ¥ä¸Šçš„ä¿¡é“æ•°é‡æ²¡æœ‰é™åˆ¶</strong>ã€‚</p><h2 id="_8-æ¶ˆæ¯å¦‚ä½•åˆ†å‘" tabindex="-1"><a class="header-anchor" href="#_8-æ¶ˆæ¯å¦‚ä½•åˆ†å‘" aria-hidden="true">#</a> 8. æ¶ˆæ¯å¦‚ä½•åˆ†å‘ï¼Ÿ</h2><p>è‹¥è¯¥é˜Ÿåˆ—è‡³å°‘æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…è®¢é˜…ï¼Œæ¶ˆæ¯å°†ä»¥å¾ªç¯ï¼ˆround-robinï¼‰çš„æ–¹å¼å‘é€ç»™æ¶ˆè´¹è€…ã€‚æ¯æ¡æ¶ˆæ¯åªä¼šåˆ†å‘ç»™ä¸€ä¸ªè®¢é˜…çš„æ¶ˆè´¹è€…ï¼ˆå‰ææ˜¯æ¶ˆè´¹è€…èƒ½å¤Ÿæ­£å¸¸å¤„ç†æ¶ˆæ¯å¹¶è¿›è¡Œç¡®è®¤ï¼‰ã€‚é€šè¿‡è·¯ç”±å¯å®ç°å¤šæ¶ˆè´¹çš„åŠŸèƒ½</p><h2 id="_9-æ¶ˆæ¯æ€ä¹ˆè·¯ç”±" tabindex="-1"><a class="header-anchor" href="#_9-æ¶ˆæ¯æ€ä¹ˆè·¯ç”±" aria-hidden="true">#</a> 9. æ¶ˆæ¯æ€ä¹ˆè·¯ç”±ï¼Ÿ</h2><p>ç”Ÿäº§è€…æŠŠæ¶ˆæ¯å‘é€åˆ° RabbitMQ Broker ä¸Šçš„Exchange äº¤æ¢æœºä¸Šã€‚Exchange äº¤æ¢æœºæŠŠæ”¶åˆ°çš„æ¶ˆæ¯æ ¹æ®è·¯ç”±è§„åˆ™å‘ç»™ç»‘å®šçš„é˜Ÿåˆ—ï¼ˆQueueï¼‰ã€‚æœ€åå†æŠŠæ¶ˆæ¯æŠ•é€’ç»™è®¢é˜…äº†è¿™ä¸ªé˜Ÿåˆ—çš„æ¶ˆè´¹è€…ï¼Œä»è€Œå®Œæˆæ¶ˆæ¯çš„å¼‚æ­¥é€šè®¯ã€‚</p><p>å¸¸ç”¨çš„äº¤æ¢å™¨ä¸»è¦åˆ†ä¸ºä¸€ä¸‹ä¸‰ç§ï¼š</p><p>fanoutï¼šå¦‚æœäº¤æ¢å™¨æ”¶åˆ°æ¶ˆæ¯ï¼Œå°†ä¼šå¹¿æ’­åˆ°æ‰€æœ‰ç»‘å®šçš„é˜Ÿåˆ—ä¸Š</p><p>directï¼šå¦‚æœè·¯ç”±é”®å®Œå…¨åŒ¹é…ï¼Œæ¶ˆæ¯å°±è¢«æŠ•é€’åˆ°ç›¸åº”çš„é˜Ÿåˆ—</p><p>topicï¼šå¯ä»¥ä½¿æ¥è‡ªä¸åŒæºå¤´çš„æ¶ˆæ¯èƒ½å¤Ÿåˆ°è¾¾åŒä¸€ä¸ªé˜Ÿåˆ—ã€‚ä½¿ç”¨ topic äº¤æ¢å™¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦</p><h2 id="_10-å¤šä¸ªæ¶ˆè´¹è€…ç›‘å¬ä¸€ä¸ªé˜Ÿåˆ—æ—¶-æ¶ˆæ¯å¦‚ä½•åˆ†å‘" tabindex="-1"><a class="header-anchor" href="#_10-å¤šä¸ªæ¶ˆè´¹è€…ç›‘å¬ä¸€ä¸ªé˜Ÿåˆ—æ—¶-æ¶ˆæ¯å¦‚ä½•åˆ†å‘" aria-hidden="true">#</a> 10. å¤šä¸ªæ¶ˆè´¹è€…ç›‘å¬ä¸€ä¸ªé˜Ÿåˆ—æ—¶ï¼Œæ¶ˆæ¯å¦‚ä½•åˆ†å‘</h2><ul><li>è½®è¯¢ é»˜è®¤çš„ç­–ç•¥ï¼Œæ¶ˆè´¹è€…è½®æµï¼Œå¹³å‡åœ°æ¥æ”¶æ¶ˆæ¯</li><li>å…¬å¹³åˆ†å‘ æ ¹æ®æ¶ˆè´¹è€…çš„èƒ½åŠ›æ¥åˆ†å‘æ¶ˆæ¯ï¼Œç»™ç©ºé—²çš„æ¶ˆè´¹è€…å‘é€æ›´å¤šæ¶ˆæ¯</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//å½“æ¶ˆè´¹è€…æœ‰xæ¡æ¶ˆæ¯æ²¡æœ‰å“åº”ACKæ—¶ï¼Œä¸å†ç»™è¿™ä¸ªæ¶ˆè´¹è€…å‘é€æ¶ˆæ¯</span>
	channel<span class="token punctuation">.</span><span class="token function">basicQos</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_11-æ— æ³•è¢«è·¯ç”±çš„æ¶ˆæ¯å»äº†å“ªé‡Œ" tabindex="-1"><a class="header-anchor" href="#_11-æ— æ³•è¢«è·¯ç”±çš„æ¶ˆæ¯å»äº†å“ªé‡Œ" aria-hidden="true">#</a> 11. æ— æ³•è¢«è·¯ç”±çš„æ¶ˆæ¯å»äº†å“ªé‡Œ</h2><p>æ— è®¾ç½®çš„æƒ…å†µä¸‹ï¼Œæ— æ³•è·¯ç”±ï¼ˆRouting keyé”™è¯¯ï¼‰çš„æ¶ˆæ¯ä¼šè¢«ç›´æ¥ä¸¢å¼ƒ è§£å†³æ–¹æ¡ˆï¼š å°†mandatoryè®¾ç½®ä¸ºtrueï¼Œå¹¶é…åˆReturnListenerï¼Œå®ç°æ¶ˆæ¯çš„å›å‘</p><p>å£°æ˜äº¤æ¢æœºæ—¶ï¼ŒæŒ‡å®šå¤‡ä»½çš„äº¤æ¢æœº</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Maparguments</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	arguments<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;alternate-exchange&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;å¤‡ä»½äº¤æ¢æœºå&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_12-æ¶ˆæ¯åœ¨ä»€ä¹ˆæ—¶å€™ä¼šå˜æˆæ­»ä¿¡" tabindex="-1"><a class="header-anchor" href="#_12-æ¶ˆæ¯åœ¨ä»€ä¹ˆæ—¶å€™ä¼šå˜æˆæ­»ä¿¡" aria-hidden="true">#</a> 12. æ¶ˆæ¯åœ¨ä»€ä¹ˆæ—¶å€™ä¼šå˜æˆæ­»ä¿¡</h2><ul><li>æ¶ˆæ¯æ‹’ç»å¹¶ä¸”æ²¡æœ‰è®¾ç½®é‡æ–°å…¥é˜Ÿ</li><li>æ¶ˆæ¯è¿‡æœŸ</li><li>æ¶ˆæ¯å †ç§¯ï¼Œå¹¶ä¸”é˜Ÿåˆ—è¾¾åˆ°æœ€å¤§é•¿åº¦ï¼Œå…ˆå…¥é˜Ÿçš„æ¶ˆæ¯ä¼šå˜æˆDL</li></ul><h2 id="_13-rabbitmqå¦‚ä½•å®ç°å»¶æ—¶é˜Ÿåˆ—" tabindex="-1"><a class="header-anchor" href="#_13-rabbitmqå¦‚ä½•å®ç°å»¶æ—¶é˜Ÿåˆ—" aria-hidden="true">#</a> 13. RabbitMQå¦‚ä½•å®ç°å»¶æ—¶é˜Ÿåˆ—</h2><p>åˆ©ç”¨TTLï¼ˆé˜Ÿåˆ—çš„æ¶ˆæ¯å­˜æ´»æ—¶é—´æˆ–è€…æ¶ˆæ¯å­˜æ´»æ—¶é—´ï¼‰ï¼ŒåŠ ä¸Šæ­»ä¿¡äº¤æ¢æœº</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code> <span class="token comment">// è®¾ç½®å±æ€§ï¼Œæ¶ˆæ¯10ç§’é’Ÿè¿‡æœŸ</span>
        <span class="token class-name">AMQP<span class="token punctuation">.</span>BasicProperties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMQP<span class="token punctuation">.</span>BasicProperties<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">expiration</span><span class="token punctuation">(</span><span class="token string">&quot;10000&quot;</span><span class="token punctuation">)</span> <span class="token comment">// TTL</span>

 <span class="token comment">// æŒ‡å®šé˜Ÿåˆ—çš„æ­»ä¿¡äº¤æ¢æœº</span>
        <span class="token class-name">Maparguments</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        arguments<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;x-dead-letter-exchange&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;DLX_EXCHANGE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_14-å¦‚ä½•ä¿è¯æ¶ˆæ¯å¹‚ç­‰æ€§" tabindex="-1"><a class="header-anchor" href="#_14-å¦‚ä½•ä¿è¯æ¶ˆæ¯å¹‚ç­‰æ€§" aria-hidden="true">#</a> 14. å¦‚ä½•ä¿è¯æ¶ˆæ¯å¹‚ç­‰æ€§</h2><p>1.ç”Ÿäº§è€…æ–¹é¢ï¼š</p><p>å¯ä»¥å¯¹æ¯æ¡æ¶ˆæ¯ç”Ÿæˆä¸€ä¸ªmsgIDï¼Œä»¥æ§åˆ¶æ¶ˆæ¯é‡å¤æŠ•é€’</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code> <span class="token class-name">AMQP<span class="token punctuation">.</span>BasicProperties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMQP<span class="token punctuation">.</span>BasicProperties<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	porperties<span class="token punctuation">.</span><span class="token function">messageId</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOF</span><span class="token punctuation">(</span><span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>2.æ¶ˆè´¹è€…æ–¹é¢</p><p>æ¶ˆæ¯ä½“ä¸­å¿…é¡»æºå¸¦ä¸€ä¸ªä¸šåŠ¡IDï¼Œå¦‚é“¶è¡Œæµæ°´å·ï¼Œæ¶ˆè´¹è€…å¯ä»¥æ ¹æ®ä¸šåŠ¡IDå»é‡ï¼Œé¿å…é‡å¤æ¶ˆè´¹</p><h2 id="_15-æ¶ˆæ¯å¦‚ä½•è¢«ä¼˜å…ˆæ¶ˆè´¹" tabindex="-1"><a class="header-anchor" href="#_15-æ¶ˆæ¯å¦‚ä½•è¢«ä¼˜å…ˆæ¶ˆè´¹" aria-hidden="true">#</a> 15. æ¶ˆæ¯å¦‚ä½•è¢«ä¼˜å…ˆæ¶ˆè´¹</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//ç”Ÿäº§è€…</span>
 <span class="token class-name">Mapargss</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        argss<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;x-max-priority&quot;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//æ¶ˆè´¹è€…</span>
<span class="token class-name">AMQP<span class="token punctuation">.</span>BasicProperties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMQP<span class="token punctuation">.</span>BasicProperties<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">priority</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">// ä¼˜å…ˆçº§ï¼Œé»˜è®¤ä¸º5ï¼Œé…åˆé˜Ÿåˆ—çš„ x-max-priority å±æ€§ä½¿ç”¨</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_16-å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„é¡ºåºæ€§" tabindex="-1"><a class="header-anchor" href="#_16-å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„é¡ºåºæ€§" aria-hidden="true">#</a> 16. å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„é¡ºåºæ€§</h2><p>ä¸€ä¸ªé˜Ÿåˆ—åªæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…çš„æƒ…å†µä¸‹æ‰èƒ½ä¿è¯é¡ºåºï¼Œå¦åˆ™åªèƒ½é€šè¿‡å…¨å±€IDå®ç°ï¼ˆæ¯æ¡æ¶ˆæ¯éƒ½ä¸€ä¸ªmsgIdï¼Œå…³è”çš„æ¶ˆæ¯æ‹¥æœ‰ä¸€ä¸ªparentMsgIdã€‚å¯ä»¥åœ¨æ¶ˆè´¹ç«¯å®ç°å‰ä¸€æ¡æ¶ˆæ¯æœªæ¶ˆè´¹ï¼Œä¸å¤„ç†ä¸‹ä¸€æ¡æ¶ˆæ¯ï¼›ä¹Ÿå¯ä»¥åœ¨ç”Ÿäº§ç«¯å®ç°å‰ä¸€æ¡æ¶ˆæ¯æœªå¤„ç†å®Œæ¯•ï¼Œä¸å‘å¸ƒä¸‹ä¸€æ¡æ¶ˆæ¯ï¼‰</p><h2 id="_17-mq-çš„ç¼ºç‚¹" tabindex="-1"><a class="header-anchor" href="#_17-mq-çš„ç¼ºç‚¹" aria-hidden="true">#</a> 17. mq çš„ç¼ºç‚¹</h2><p>ï¼ˆ1ï¼‰ç³»ç»Ÿå¯ç”¨æ€§é™ä½</p><p>ç³»ç»Ÿå¼•å…¥çš„å¤–éƒ¨ä¾èµ–è¶Šå¤šï¼Œè¶Šå®¹æ˜“æŒ‚æ‰ï¼Œæœ¬æ¥ä½ å°±æ˜¯ A ç³»ç»Ÿè°ƒç”¨ BCD ä¸‰ä¸ªç³»ç»Ÿçš„æ¥å£å°±å¥½äº†ï¼Œäºº ABCD å››ä¸ªç³»ç»Ÿå¥½å¥½çš„ï¼Œæ²¡å•¥é—®é¢˜ï¼Œä½ ååŠ ä¸ª MQ è¿›æ¥ï¼Œä¸‡ä¸€MQ æŒ‚äº†å’‹æ•´ï¼ŸMQ æŒ‚äº†ï¼Œæ•´å¥—ç³»ç»Ÿå´©æºƒäº†ï¼Œä½ ä¸å°±å®Œäº†ä¹ˆã€‚</p><p>ï¼ˆ2ï¼‰ç³»ç»Ÿå¤æ‚æ€§æé«˜</p><p>ç¡¬ç”Ÿç”ŸåŠ ä¸ª MQ è¿›æ¥ï¼Œä½ æ€ä¹ˆä¿è¯æ¶ˆæ¯æ²¡æœ‰é‡å¤æ¶ˆè´¹ï¼Ÿæ€ä¹ˆå¤„ç†æ¶ˆæ¯ä¸¢å¤±çš„æƒ…å†µï¼Ÿæ€ä¹ˆä¿è¯æ¶ˆæ¯ä¼ é€’çš„é¡ºåºæ€§ï¼Ÿå¤´å¤§å¤´å¤§ï¼Œé—®é¢˜ä¸€å¤§å †ï¼Œç—›è‹¦ä¸å·²</p><p>ï¼ˆ3ï¼‰ä¸€è‡´æ€§é—®é¢˜</p><p>A ç³»ç»Ÿå¤„ç†å®Œäº†ç›´æ¥è¿”å›æˆåŠŸäº†ï¼Œäººéƒ½ä»¥ä¸ºä½ è¿™ä¸ªè¯·æ±‚å°±æˆåŠŸäº†ï¼›ä½†æ˜¯é—®é¢˜æ˜¯ï¼Œè¦æ˜¯ BCD ä¸‰ä¸ªç³»ç»Ÿé‚£é‡Œï¼ŒBD ä¸¤ä¸ªç³»ç»Ÿå†™åº“æˆåŠŸäº†ï¼Œç»“æœ C ç³»ç»Ÿå†™åº“å¤±è´¥äº†ï¼Œå’‹æ•´ï¼Ÿä½ è¿™æ•°æ®å°±ä¸ä¸€è‡´äº†ã€‚</p><p>æ‰€ä»¥æ¶ˆæ¯é˜Ÿåˆ—å®é™…æ˜¯ä¸€ç§éå¸¸å¤æ‚çš„æ¶æ„ï¼Œä½ å¼•å…¥å®ƒæœ‰å¾ˆå¤šå¥½å¤„ï¼Œä½†æ˜¯ä¹Ÿå¾—é’ˆå¯¹å®ƒå¸¦æ¥çš„åå¤„åšå„ç§é¢å¤–çš„æŠ€æœ¯æ–¹æ¡ˆå’Œæ¶æ„æ¥è§„é¿æ‰ï¼Œæœ€å¥½ä¹‹åï¼Œä½ ä¼šå‘ç°ï¼Œå¦ˆå‘€ï¼Œç³»ç»Ÿå¤æ‚åº¦æå‡äº†ä¸€ä¸ªæ•°é‡çº§ï¼Œä¹Ÿè®¸æ˜¯å¤æ‚äº† 10 å€ã€‚ä½†æ˜¯å…³é”®æ—¶åˆ»ï¼Œç”¨ï¼Œè¿˜æ˜¯å¾—ç”¨çš„ã€‚</p><h2 id="å‚è€ƒæ–‡ç« " tabindex="-1"><a class="header-anchor" href="#å‚è€ƒæ–‡ç« " aria-hidden="true">#</a> å‚è€ƒæ–‡ç« </h2><p><a href="https://blog.51cto.com/u_15257216/2862867" target="_blank" rel="noopener noreferrer">rabbitmqé¢è¯•æ€»ç»“â€”â€”èµ‹ç­”æ¡ˆå’Œdemoï¼Œé¢è¯•çœ‹è¿™ç¯‡å°±å¤Ÿäº†ï¼Œæ¨èæ”¶è—ï¼<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/zszdevelop/java-study-gitbook/edit/main/docs/deploy/mq-rabbitmq/rabbitmq-z-interview.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: zszdevelop@163.com">zszdevelop</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/deploy/mq-rabbitmq/rabbitmq-y-install.html" class="nav-link prev" aria-label="RabbitMQå®‰è£… - RabbitMQå®‰è£…"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->RabbitMQå®‰è£… - RabbitMQå®‰è£…</div></a><a href="/deploy/mq-rabbitmq/rabbitmq-x-success100.html" class="nav-link next" aria-label="RabbitMQæ¶ˆæ¯å¦‚ä½•ä¿éšœ100%æŠ•é€’æˆåŠŸ"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">RabbitMQæ¶ˆæ¯å¦‚ä½•ä¿éšœ100%æŠ•é€’æˆåŠŸ<!----></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"><a href='https://beian.miit.gov.cn' target='_blank' style='color: var(--c-text-lighter);>é—½ICPå¤‡18001806å·-1</a></div><div class="copyright">Copyright Â© 2023 zszdevelop</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-1b262e40.js" defer></script>
  </body>
</html>
